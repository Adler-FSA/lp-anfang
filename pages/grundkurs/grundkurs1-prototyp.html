<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Grundkurs 1 – Prototyp v2 (Lernmodus + Mentor-Board)</title>
<style>
  :root{
    --bg:#0b0f14; --panel:#111826; --ink:#e5e7eb; --muted:#a5b1c2;
    --gold:#d4af37; --blue:#60a5fa; --ok:#10b981; --warn:#f59e0b; --bad:#ef4444;
  }
  html,body{margin:0;background:radial-gradient(1200px 700px at 50% -10%,#141a22 0%,#0b0f14 55%,#070b10 100%);color:var(--ink);font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
  .wrap{max-width:1100px;margin:24px auto;padding:16px}
  .title{margin:0 0 6px;font-weight:800;color:var(--gold);letter-spacing:.2px}
  .sub{margin:0 0 20px;color:var(--muted)}
  .panel{background:linear-gradient(180deg,#121a25,#0f1620);border:1px solid rgba(212,175,55,.22);border-radius:14px;box-shadow:0 30px 90px rgba(212,175,55,.08);padding:18px}
  .row{display:flex;gap:18px;flex-wrap:wrap;align-items:center;justify-content:space-between}
  .progress{flex:1;height:10px;background:#0c121a;border-radius:999px;overflow:hidden;border:1px solid rgba(255,255,255,.07)}
  .bar{height:100%;width:0%;background:linear-gradient(90deg,#ffe08a,#f1c34f);transition:width .35s ease}
  .counter{min-width:140px;text-align:right;color:#cdd6e3}
  .q{margin:14px 0 10px;font-size:1.15rem;line-height:1.45}
  .opts{display:grid;gap:10px;margin:8px 0 4px}
  .opt{display:flex;gap:10px;align-items:flex-start;background:#0e1520;border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:12px 14px;cursor:pointer}
  .opt input{margin-top:3px;accent-color:#f1c34f}
  .opt:hover{border-color:rgba(241,195,79,.45)}
  .controls{display:flex;gap:10px;justify-content:flex-end;margin-top:12px}
  .btn{border:0;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer}
  .btn-next{background:linear-gradient(180deg,#ffe08a,#f1c34f);color:#181200}
  .btn-skip{background:transparent;color:#9ec5ff;border:1px solid rgba(144,194,255,.35)}
  .note{color:var(--muted);font-size:.95rem;margin-top:8px}
  /* Mentor-Board */
  #board{display:none;opacity:0;transition:opacity .4s ease}
  #board.show{display:block;opacity:1}
  .badge{display:inline-block;padding:4px 10px;border-radius:999px;font-weight:700;font-size:.85rem;margin-left:8px}
  .b-bronze{background:rgba(205,127,50,.16);border:1px solid rgba(205,127,50,.5);color:#e6c2a3}
  .b-silver{background:rgba(180,190,200,.16);border:1px solid rgba(200,210,220,.5);color:#e7eef6}
  .b-gold{background:rgba(212,175,55,.16);border:1px solid rgba(212,175,55,.55);color:#f6e7ac}
  .kpi{display:flex;gap:12px;flex-wrap:wrap;margin:8px 0 14px}
  .kpi div{background:#0d141d;border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:10px 12px}
  .list{margin-top:10px;display:grid;gap:12px}
  .item{background:#0d141a;border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:12px}
  .item h4{margin:0 0 6px;font-size:1rem}
  .good{color:var(--ok)} .bad{color:var(--bad)}
  .why{color:#c7d0de}
  .final{margin-top:14px;padding:14px;background:#0e141d;border:1px dashed rgba(241,195,79,.45);border-radius:12px}
  /* helper */
  .hidden{display:none}
</style>
</head>
<body>
<div class="wrap">
  <h1 class="title">Grundkurs 1 – Finanzielle Souveränität</h1>
  <p class="sub">Prototyp v2 • Lernmodus • nach 10 Fragen öffnet das Mentor-Board mit deiner Auswertung.</p>

  <!-- Frage-Container -->
  <div id="quiz" class="panel" role="region" aria-labelledby="qLabel">
    <div class="row">
      <div class="progress" aria-hidden="true"><div id="bar" class="bar"></div></div>
      <div id="ctr" class="counter">Frage 1 von 10</div>
    </div>
    <h2 id="qLabel" class="q"></h2>
    <form id="form" class="opts"></form>
    <div class="controls">
      <button id="skip" type="button" class="btn btn-skip">Überspringen</button>
      <button id="next" type="button" class="btn btn-next">Weiter</button>
    </div>
    <p class="note">Tipp: Antwort kann bis „Weiter“ geändert werden. Es gibt keine Sofort-Rückmeldung – die Auswertung kommt am Ende.</p>
  </div>

  <!-- Mentor-Board -->
  <div id="board" class="panel" role="region" aria-live="polite" aria-labelledby="boardTitle">
    <h2 id="boardTitle" class="title" style="margin-bottom:8px">Mentor-Board – Auswertung</h2>
    <div class="kpi">
      <div><strong>Richtig:</strong> <span id="kpiRight">0</span>/10</div>
      <div><strong>Quote:</strong> <span id="kpiRate">0%</span></div>
      <div><strong>Status:</strong> <span id="kpiBadge" class="badge b-bronze">–</span></div>
    </div>
    <div id="items" class="list"></div>
    <div id="final" class="final"></div>
  </div>
</div>

<script>
/* ------------------ Daten: 10 Fragen (aus Grundkurs 1) ------------------ */
const questions = [
  {
    q: "Wofür steht „On-Ramp“ im Kontext finanzieller Souveränität mit trustyfy?",
    a: [
      {t:"Für das Umwandeln von Euro in Krypto über deine eigene IBAN.", ok:true, why:"On-Ramp = Fiat → Krypto. Mit eigener IBAN zahlst du ein und tauschst in der App transparent."},
      {t:"Für das Verschicken von Krypto an beliebige Börsen ohne KYC.", ok:false, why:"Korrekt ist der Weg von Fiat zu Krypto – nicht das Senden auf externe Börsen."},
      {t:"Für das automatische Verdoppeln deines Vermögens durch Zinsen.", ok:false, why:"Kein System verdoppelt Vermögen automatisch – so denken Scam-Angebote."}
    ]
  },
  {
    q: "Warum ist eine eigene IBAN bei trustyfy ein Schritt zu mehr Unabhängigkeit?",
    a: [
      {t:"Weil Ein-/Auszahlungen ohne Zwischeninstanzen laufen und du volle Transparenz hast.", ok:true, why:"Du kontrollierst den Zu- und Abfluss. Keine App-Store-Gatekeeper, klare Gebühren."},
      {t:"Weil dadurch jede Transaktion rückgängig gemacht werden kann.", ok:false, why:"Blockchain-Transaktionen sind final. Transparenz ja, Rückgängig-Knopf nein."},
      {t:"Weil KYC dann dauerhaft entfällt.", ok:false, why:"KYC ist Teil der Regulierung. Nach Setup bleibt dein Konto verifiziert, nicht abgeschafft."}
    ]
  },
  {
    q: "Was beschreibt „Off-Ramp“ korrekt?",
    a: [
      {t:"Krypto zurück in Euro auszahlen – kontrolliert und planbar.", ok:true, why:"Off-Ramp = Krypto → Fiat. Wichtig für Liquidität und Alltagstauglichkeit."},
      {t:"Den Kauf beliebiger Altcoins ohne Gebühren.", ok:false, why:"Gebühren sind sichtbar – aber nicht null. Off-Ramp ist kein Altcoin-Feature."},
      {t:"Ein spezielles Wallet-Backup-Verfahren.", ok:false, why:"Mit Backups hat Off-Ramp nichts zu tun."}
    ]
  },
  {
    q: "Welche Haltung schützt dich am stärksten vor Fehlentscheidungen?",
    a: [
      {t:"Eigenverantwortung + Schritt-für-Schritt-Checks vor jeder Transaktion.", ok:true, why:"Kurz anhalten, prüfen, dann handeln – das ist echte Souveränität."},
      {t:"Blindes Vertrauen in Social-Media-Tipps.", ok:false, why:"Tipps können Impulse geben – ersetzen aber keine eigene Prüfung."},
      {t:"Nur Projekten folgen, die „garantierte“ Renditen versprechen.", ok:false, why:"Garantien im Krypto-Kontext sind ein Warnsignal, kein Qualitätsmerkmal."}
    ]
  },
  {
    q: "Was ist eine sinnvolle „erste Übung“ im Setup-Prozess?",
    a: [
      {t:"Kleinen Betrag (z. B. 10 €) einzahlen, tauschen und wieder zurückwechseln.", ok:true, why:"Praxis im Kleinen schafft Sicherheit, bevor Beträge steigen."},
      {t:"Sofort die gesamte Ersparnis in einen Coin tauschen.", ok:false, why:"Ohne Prozesse zu kennen, ist das unnötig riskant."},
      {t:"Adresse einmal prüfen, beim nächsten Mal darauf verzichten.", ok:false, why:"Adress-Check ist jedes Mal Pflicht – Vertipper sind final."}
    ]
  },
  {
    q: "Welche Aussage zur Gebühren-Transparenz ist korrekt?",
    a: [
      {t:"Gebühren und Netzwerk-Kosten sind sichtbar – nutze sie vor jeder Aktion als Entscheidungsgrundlage.", ok:true, why:"Gebühren sind Teil des Systems. Transparenz hilft dir beim Timing."},
      {t:"Gebühren entfallen nach der ersten Transaktion dauerhaft.", ok:false, why:"Nein. Sie variieren je nach Netzwerk und Zeitpunkt."},
      {t:"Nur Börsen haben Gebühren, Netzwerke nicht.", ok:false, why:"Auch Netzwerke (Miner/Validatoren) erheben Gebühren."}
    ]
  },
  {
    q: "Was bedeutet „Seeds sicher aufbewahren“ praktisch?",
    a: [
      {t:"Offline, redundante, klare Dokumentation – nie als Foto/Cloud.", ok:true, why:"Seed = Schlüssel. Offline & redundant ist der Standard. Kein Screenshot, keine Cloud."},
      {t:"Seed im Chat an sich selbst schicken – so ist er „gesichert“.", ok:false, why:"Chats/Clouds sind Angriffsflächen. Kritisch vermeiden."},
      {t:"Seed nur im Kopf behalten, sonst nirgends.", ok:false, why:"Reine Kopf-Backups scheitern in Stress-/Zeit-Abständen – lieber robust dokumentieren."}
    ]
  },
  {
    q: "Warum ist „Kleinschrittigkeit“ beim Wechseln (Fiat↔Krypto) klug?",
    a: [
      {t:"Weil du damit Prozesse testest, Gebühren erlebst und Fehler billig bleiben.", ok:true, why:"Erst verstehen, dann skalieren – spart Geld und Nerven."},
      {t:"Weil große Beträge von Banken automatisch blockiert werden.", ok:false, why:"Nicht automatisch. Kluges Vorgehen verhindert Missverständnisse."},
      {t:"Weil Netzwerke kleine Beträge bevorzugen und schneller bestätigen.", ok:false, why:"Bestätigungen hängen vom Netzwerk ab, nicht von deiner Betragsgröße."}
    ]
  },
  {
    q: "Welche Aussage spiegelt den Sinn des Grundkurses am besten?",
    a: [
      {t:"Verständnis + Handlungsroutine + Sicherheit – statt blinder Klicks.", ok:true, why:"Wissen in Handlung übersetzen – das Ziel dieses Kurses."},
      {t:"Möglichst viele Coins in kurzer Zeit kaufen.", ok:false, why:"Tempo ersetzt kein Verständnis."},
      {t:"Komplexität ignorieren, es „wird schon passen“.", ok:false, why:"Ignoranz erzeugt teure Fehler – genau das vermeiden wir."}
    ]
  },
  {
    q: "Wann bist du „startklar“ für größere Beträge?",
    a: [
      {t:"Wenn Einzahlen, Tauschen, Auszahlen mit kleinen Summen sicher klappt.", ok:true, why:"Routine & Checks im Kleinen → Vertrauen im Großen."},
      {t:"Wenn ein Influencer „jetzt oder nie!“ ruft.", ok:false, why:"FOMO ist kein Kriterium – nur dein Prozess beherrscht zählt."},
      {t:"Wenn Gebühren gerade 0 sind.", ok:false, why:"Gebühren schwanken, aber 0 ist kein realistisches Kriterium."}
    ]
  }
];

/* ------------------ State ------------------ */
let idx = 0;
const given = [];     // {choiceIndex, ok}
const order = [];     // pro Frage: gemischte Reihenfolge der Antwort-Indizes

/* ------------------ Utils ------------------ */
function shuffle(arr){
  const a = arr.map((v,i)=>({v,i}));
  for(let n=a.length-1;n>0;n--){const j=Math.floor(Math.random()*(n+1)); [a[n],a[j]]=[a[j],a[n]];}
  return a;
}
function setProgress(){
  const pct = Math.round((idx/ questions.length)*100);
  document.getElementById('bar').style.width = pct + '%';
  document.getElementById('ctr').textContent = `Frage ${Math.min(idx+1,questions.length)} von ${questions.length}`;
}

/* ------------------ Render Frage ------------------ */
const qLabel = document.getElementById('qLabel');
const form = document.getElementById('form');
function render(){
  const q = questions[idx];
  qLabel.textContent = q.q;

  // Reihenfolge (einmal pro Frage erzeugen)
  if(!order[idx]) order[idx] = shuffle(q.a);

  form.innerHTML = '';
  order[idx].forEach((o,k)=>{
    const id = `opt_${idx}_${k}`;
    const wrap = document.createElement('label');
    wrap.className='opt';
    wrap.innerHTML = `<input type="radio" name="opt" id="${id}" value="${o.i}">
      <div>${o.v.t}</div>`;
    form.appendChild(wrap);
  });
  setProgress();
}

/* ------------------ Navigation ------------------ */
function getSelectedIndex(){
  const el = form.querySelector('input[name="opt"]:checked');
  if(!el) return null;
  // Finde Position im gemischten Array
  const k = [...form.querySelectorAll('input[name="opt"]')].indexOf(el);
  return k; // Index in order[idx]
}

function next(skip=false){
  const q = questions[idx];
  let pick = getSelectedIndex();

  if(!skip && pick===null){
    alert('Bitte eine Antwort wählen oder „Überspringen“ nutzen.');
    return;
  }
  if(skip) pick = null;

  // Speichern
  if(pick===null){
    given[idx] = {choiceIndex:null, ok:false};
  }else{
    const answerObj = order[idx][pick].v;
    given[idx] = {choiceIndex: pick, ok: !!answerObj.ok};
  }

  // Weiter
  idx++;
  if(idx < questions.length){
    render();
  }else{
    finish();
  }
}

/* ------------------ Abschluss / Board ------------------ */
const board = document.getElementById('board');
function levelFromScore(s){
  if(s>=10) return {label:'Gold', cls:'b-gold', msg:'Perfekt. Du beherrschst die Inhalte – weiter zur Praxis!'};
  if(s>=9)  return {label:'Silber', cls:'b-silver', msg:'Sehr stark. Feinheiten trainieren – dann sitzt alles.'};
  if(s>=7)  return {label:'Bronze', cls:'b-bronze', msg:'Solide. Du bist qualifiziert – empfehlenswert: Wiederholungen der knappen Themen.'};
  return {label:'Wiederholen', cls:'b-bronze', msg:'Unter 7/10 – wiederhole den Grundkurs mit Fokus auf die falschen Antworten.'};
}

function finish(){
  // Fortschritt 100%
  document.getElementById('bar').style.width = '100%';
  document.getElementById('ctr').textContent = `Frage ${questions.length} von ${questions.length}`;

  // Auswertung bauen
  const items = document.getElementById('items');
  items.innerHTML = '';
  let right = 0;

  questions.forEach((q, i)=>{
    const ord = order[i];
    const g   = given[i];
    const userPick = g.choiceIndex===null ? null : ord[g.choiceIndex].v;
    const correct  = q.a.find(x=>x.ok);

    if(g.ok) right++;

    const box = document.createElement('div');
    box.className='item';
    const head = document.createElement('h4');
    head.textContent = `Frage ${i+1}: ${q.q}`;
    box.appendChild(head);

    const ua = document.createElement('div');
    ua.innerHTML = `<strong>Deine Antwort:</strong> <span class="${g.ok?'good':'bad'}">${userPick?userPick.t:'(übersprungen / keine Auswahl)'}</span>`;
    box.appendChild(ua);

    const ca = document.createElement('div');
    ca.innerHTML = `<strong>Korrekt:</strong> ${correct.t}`;
    box.appendChild(ca);

    const why = document.createElement('div');
    // Mentor-Kommentar: wenn richtig → kurz bestätigen, sonst die Why der korrekten Antwort + Hinweis
    const mentor = g.ok ? "Gut getroffen – genau diese Logik brauchst du in der Praxis."
                        : correct.why;
    why.className='why';
    why.textContent = `Mentor: ${mentor}`;
    box.appendChild(why);

    items.appendChild(box);
  });

  // KPI / Fazit
  const rate = Math.round((right/questions.length)*100);
  document.getElementById('kpiRight').textContent = right;
  document.getElementById('kpiRate').textContent  = rate + '%';

  const lvl = levelFromScore(right);
  const badge = document.getElementById('kpiBadge');
  badge.textContent = lvl.label;
  badge.className = `badge ${lvl.cls}`;

  const final = document.getElementById('final');
  final.innerHTML = `<strong>Fazit:</strong> ${lvl.msg}`;

  // Board zeigen, Scroll
  board.classList.add('show');
  board.scrollIntoView({behavior:'smooth',block:'start'});
}

/* ------------------ Init ------------------ */
document.getElementById('next').addEventListener('click', ()=>next(false));
document.getElementById('skip').addEventListener('click', ()=>next(true));

render();
</script>
</body>
</html>
