<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Die Rückeroberung der eigenen Souveränität – Buch</title>
  <meta name="description" content="Buchübersicht: Cover, Inhaltsverzeichnis, Kapitel 1–22 (inkl. Bonus) – als anklickbare Galerie." />

  <style>
    :root{
      --bg:#050814;
      --bg2:#020617;
      --panel:rgba(15,23,42,.92);
      --panel2:rgba(15,23,42,.78);
      --text:#e9edf3;
      --muted:#9aa6b2;
      --gold:#d4af37;
      --gold2:#f1d070;
      --shadow:0 26px 50px rgba(0,0,0,.55);
      --glow:0 0 26px rgba(212,175,55,.22), 0 10px 28px rgba(0,0,0,.55);
      --radius:18px;
      --radius2:14px;
      --maxw:1280px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
      background:
        radial-gradient(1200px 800px at 20% 10%, rgba(212,175,55,.12), transparent 60%),
        radial-gradient(900px 700px at 80% 20%, rgba(59,130,246,.10), transparent 55%),
        linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
    }

    .wrap{
      max-width:var(--maxw);
      margin:0 auto;
      padding:28px 18px 60px;
    }

    .hero{
      background: linear-gradient(135deg, rgba(15,23,42,.88), rgba(2,6,23,.92));
      border:1px solid rgba(255,255,255,.08);
      border-radius:22px;
      box-shadow: var(--shadow);
      padding:22px 20px;
      margin-bottom:18px;
    }
    .hero h1{
      margin:0 0 6px;
      font-size: clamp(26px, 4vw, 44px);
      letter-spacing:.2px;
    }
    .hero p{
      margin:0;
      color:var(--muted);
      line-height:1.45;
      font-size:14px;
    }

    .section{
      margin-top:16px;
      background: linear-gradient(180deg, rgba(15,23,42,.55), rgba(2,6,23,.65));
      border:1px solid rgba(255,255,255,.07);
      border-radius:22px;
      box-shadow: var(--shadow);
      padding:14px 14px 18px;
    }
    .section h2{
      margin:0 0 12px;
      font-size:16px;
      font-weight:800;
      color:var(--gold2);
      letter-spacing:.2px;
      padding:6px 6px 0;
    }

    /* Grid: 4 pro Reihe (Desktop / iPad quer), 2 (iPad hoch), 1 (Handy) */
    .grid{
      display:grid;
      gap:14px;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      padding:6px;
    }
    @media (max-width: 980px){
      .grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
    @media (max-width: 560px){
      .grid{ grid-template-columns: 1fr; }
    }

    .card{
      position:relative;
      display:flex;
      flex-direction:column;
      text-decoration:none;
      color:inherit;
      background: linear-gradient(180deg, rgba(15,23,42,.82), rgba(2,6,23,.88));
      border:1px solid rgba(255,255,255,.08);
      border-radius: var(--radius);
      overflow:hidden;
      box-shadow: 0 18px 40px rgba(0,0,0,.55);
      transition: transform .12s ease, border-color .12s ease, box-shadow .12s ease;
      min-height: 100%;
    }
    .card:hover{
      transform: translateY(-2px);
      border-color: rgba(212,175,55,.35);
      box-shadow: var(--glow);
    }

    .thumb{
      position:relative;
      width:100%;
      aspect-ratio: 2 / 3;            /* Buch-/Kapitel-Format */
      background: radial-gradient(500px 260px at 50% 25%, rgba(212,175,55,.10), rgba(2,6,23,.55));
      display:flex;
      align-items:center;
      justify-content:center;
      padding:10px;
    }

    /* WICHTIG: Kein Crop – komplettes Bild sichtbar */
    .thumb img{
      width:100%;
      height:100%;
      object-fit: contain;             /* statt cover */
      display:block;
      border-radius: var(--radius2);
      background: rgba(0,0,0,.22);
      box-shadow: 0 16px 34px rgba(0,0,0,.55);
    }

    .badge{
      position:absolute;
      top:10px;
      left:10px;
      background: rgba(212,175,55,.16);
      color: var(--gold2);
      border:1px solid rgba(212,175,55,.35);
      padding:4px 9px;
      font-size:12px;
      font-weight:800;
      border-radius:999px;
      letter-spacing:.2px;
      backdrop-filter: blur(6px);
    }

    .meta{
      padding:12px 12px 14px;
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .meta .title{
      font-weight:900;
      line-height:1.25;
      font-size:14px;
    }
    .meta .sub{
      color: var(--muted);
      font-size:12px;
      line-height:1.35;
    }

    .broken{
      border:1px dashed rgba(255,255,255,.18);
      background: rgba(255,255,255,.04);
      border-radius: var(--radius2);
      height:100%;
      width:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      color: rgba(255,255,255,.55);
      font-size:12px;
      padding:16px;
      text-align:center;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="hero">
      <h1>Die Rückeroberung der eigenen Souveränität</h1>
      <p>Buchübersicht: Cover, Inhaltsverzeichnis, Kapitel 1–22 (inkl. Bonus) – als anklickbare Galerie.</p>
    </div>

    <div class="section">
      <h2>Buchstart</h2>
      <div class="grid" id="grid-start"></div>
    </div>

    <div class="section">
      <h2>Kapitel 1–18</h2>
      <div class="grid" id="grid-main"></div>
    </div>

    <div class="section">
      <h2>Bonus 19–22</h2>
      <div class="grid" id="grid-bonus"></div>
    </div>

    <div class="section">
      <h2>Buchende</h2>
      <div class="grid" id="grid-end"></div>
    </div>
  </div>

  <script>
    (function(){
      "use strict";

      // Pfade relativ zu: /lp-anfang/pages/buch/index.html
      const IMG_BASE = "../../library/buch/images/";
      const PAGE_BASE = "./"; // Seiten liegen im selben Ordner: /pages/buch/

      // Einträge in der gewünschten Reihenfolge:
      // Cover Front -> Inhaltsverzeichnis -> Kapitel 1–18 -> Trenner direkt nach Kapitel 18 -> Bonus 19–22 -> Cover Back
      const startItems = [
        {
          badge: "Buch",
          title: "Buch – Cover (Front)",
          sub: "Start / Cover",
          img: "buch-cover-front-de.jpg",
          href: "cover-front.html"
        },
        {
          badge: "Buch",
          title: "Buch – Inhaltsverzeichnis",
          sub: "Übersicht",
          img: "buch-inhaltsverzeichnis-de.jpg",
          href: "inhaltsverzeichnis.html"
        }
      ];

      const chapterItems = [
        { n:"01", t:"Kapitel 1: Der unsichtbare Vertrag", img:"kapitel-01-der-unsichtbare-vertrag-de.jpg", href:"kapitel-01.html" },
        { n:"02", t:"Kapitel 2: Abhängigkeit als Design", img:"kapitel-02-abhaengigkeit-als-design-de.jpg", href:"kapitel-02.html" },
        { n:"03", t:"Kapitel 3: Fremdbestimmung – die leise Form der Kontrolle", img:"kapitel-03-fremdbestimmung-die-leise-form-der-kontrolle-de.jpg", href:"kapitel-03.html" },
        { n:"04", t:"Kapitel 4: Zensur, Framing und die schmale Debatte", img:"kapitel-04-zensur-framing-und-die-schmale-debatte-de.jpg", href:"kapitel-04.html" },
        { n:"05", t:"Kapitel 5: Die unsichtbaren Schalter", img:"kapitel-05-die-unsichtbaren-schalter-de.jpg", href:"kapitel-05.html" },
        { n:"06", t:"Kapitel 6: Souveränität ist nicht Egoismus", img:"kapitel-06-souveraenitaet-ist-nicht-egoismus-de.jpg", href:"kapitel-06.html" },
        { n:"07", t:"Kapitel 7: Freiheit braucht Eigentum", img:"kapitel-07-freiheit-braucht-eigentum-de.jpg", href:"kapitel-07.html" },
        { n:"08", t:"Kapitel 8: Korruption und Ausbeutung sind oft Nebenprodukte von Monopolen", img:"kapitel-08-korruption-und-ausbeutung-sind-oft-nebenprodukte-von-monopolen-de.jpg", href:"kapitel-08.html" },
        { n:"09", t:"Kapitel 9: Der Hebel", img:"kapitel-09-der-hebel-de.jpg", href:"kapitel-09.html" },
        { n:"10", t:"Kapitel 10: Dezentralität als Anti-Willkür", img:"kapitel-10-dezentralitaet-als-anti-willkuer-de.jpg", href:"kapitel-10.html" },
        { n:"11", t:"Kapitel 11: Peer-to-Peer ist eine Kultur", img:"kapitel-11-peer-to-peer-ist-eine-kultur-de.jpg", href:"kapitel-11.html" },
        { n:"12", t:"Kapitel 12: Vertrauen neu denken", img:"kapitel-12-vertrauen-neu-denken-de.jpg", href:"kapitel-12.html" },
        { n:"13", t:"Kapitel 13: Risiken, Schattenseiten und Gegenargumente", img:"kapitel-13-risiken-schattenseiten-und-gegenargumente-de.jpg", href:"kapitel-13.html" },
        { n:"14", t:"Kapitel 14: Das Souveränitäts-Protokoll", img:"kapitel-14-das-souveraenitaets-protokoll-de.jpg", href:"kapitel-14.html" },
        { n:"15", t:"Kapitel 15: Das finanzielle Fundament", img:"kapitel-15-das-finanzielle-fundament-de.jpg", href:"kapitel-15.html" },
        { n:"16", t:"Kapitel 16: Digitale Selbstverteidigung", img:"kapitel-16-digitale-selbstverteidigung-de.jpg", href:"kapitel-16.html" },
        { n:"17", t:"Kapitel 17: Lokale Resilienz", img:"kapitel-17-lokale-resilienz-de.jpg", href:"kapitel-17.html" },
        { n:"18", t:"Kapitel 18: Die Zukunft wird direkter", img:"kapitel-18-die-zukunft-wird-direkter-de.jpg", href:"kapitel-18.html" }
      ];

      const bonusItems = [
        {
          badge: "Trenner",
          title: "Buch – Trenner (Bonus)",
          sub: "Übergang nach Kapitel 18",
          img: "buch-trenner-bonus-de.jpg",
          href: "trenner-bonus.html"
        },
        {
          badge: "Bonus 1",
          title: "Kapitel 19 (Bonus 1): Unterwanderung – wenn Demokratie zur Fassade wird",
          sub: "Bonus",
          img: "kapitel-19-bonus-unterwanderung-wenn-demokratie-zur-fassade-wird-de.jpg",
          href: "kapitel-19.html"
        },
        {
          badge: "Bonus 2",
          title: "Kapitel 20 (Bonus 2): Rechtsrahmen hinterfragen – Völkerrecht, Menschenrechte, Handelsrecht und die Schattenzone der Zuständigkeiten",
          sub: "Bonus",
          img: "kapitel-20-bonus-rechtsrahmen-hinterfragen-voelkerrecht-menschenrechte-handelsrecht-und-die-schattenzone-der-zustaendigkeiten-de.jpg",
          href: "kapitel-20.html"
        },
        {
          badge: "Kapitel 21",
          title: "Kapitel 21: Die Rückeroberung der Kontrolle",
          sub: "Bonus",
          img: "kapitel-21-die-rueckeroberung-der-kontrolle-de.jpg",
          href: "kapitel-21.html"
        },
        {
          badge: "Kapitel 22",
          title: "Kapitel 22: Der unsichtbare Druck – Es allen recht machen wollen",
          sub: "Bonus",
          img: "kapitel-22-der-unsichtbare-druck-es-allen-recht-machen-wollen-de.jpg",
          href: "kapitel-22.html"
        }
      ];

      const endItems = [
        {
          badge: "Buch",
          title: "Buch – Cover (Back)",
          sub: "Rückseite",
          img: "buch-cover-back-de.jpg",
          href: "cover-back.html"
        }
      ];

      function makeCard(item){
        const a = document.createElement("a");
        a.className = "card";
        a.href = PAGE_BASE + item.href;

        const thumb = document.createElement("div");
        thumb.className = "thumb";

        const badge = document.createElement("div");
        badge.className = "badge";
        badge.textContent = item.badge || "Kapitel";
        thumb.appendChild(badge);

        const img = document.createElement("img");
        img.loading = "lazy";
        img.decoding = "async";
        img.alt = item.title || "";
        img.src = IMG_BASE + item.img;

        img.onerror = function(){
          // Wenn ein Bild fehlt: Karte bleibt sichtbar, restliche Galerie läuft weiter.
          img.remove();
          const ph = document.createElement("div");
          ph.className = "broken";
          ph.textContent = "Bild nicht gefunden: " + item.img;
          thumb.appendChild(ph);
        };

        thumb.appendChild(img);

        const meta = document.createElement("div");
        meta.className = "meta";

        const title = document.createElement("div");
        title.className = "title";
        title.textContent = item.title || "";

        const sub = document.createElement("div");
        sub.className = "sub";
        sub.textContent = item.sub || "";

        meta.appendChild(title);
        if(item.sub) meta.appendChild(sub);

        a.appendChild(thumb);
        a.appendChild(meta);

        return a;
      }

      function render(list, mountId){
        const mount = document.getElementById(mountId);
        if(!mount) return;
        mount.innerHTML = "";
        list.forEach(item => mount.appendChild(makeCard(item)));
      }

      // Rendern
      render(startItems, "grid-start");
      render(chapterItems.map(c => ({
        badge: "Kapitel " + c.n,
        title: c.t,
        sub: "",
        img: c.img,
        href: c.href
      })), "grid-main");
      render(bonusItems, "grid-bonus");
      render(endItems, "grid-end");
    })();
  </script>
</body>
</html>
