<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rechner – Verdienst (bezahlt, Levels) – FSA Club</title>
  <meta name="description" content="Echter Rechner: Umsatz & Verdienst im Club – nur auf bezahlte Produkte, Provision je Level, keine Monats-/Ratenlogik." />

  <style>
    :root{
      --gold:#d4af37;
      --txt:#e9e9e9;
      --muted:#cbd5e1;
      --panel:rgba(0,0,0,.72);
      --panel2:rgba(10,10,20,.62);
      --shadow:0 26px 50px rgba(0,0,0,.55);
      --glow:0 0 22px rgba(212,175,55,.55), 0 10px 28px rgba(0,0,0,.55);
      --radius:18px;
      --maxw:1100px;

      --ok: rgba(212,175,55,.22);
      --line: rgba(212,175,55,.16);
      --chip: rgba(0,0,0,.38);
      --field: rgba(0,0,0,.38);
      --field2: rgba(0,0,0,.25);
      --danger: rgba(255,100,100,.18);
    }

    html,body{
      margin:0;
      background:#000;
      color:var(--txt);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      overflow-x:hidden;
    }

    .bg-fixed{
      position:fixed; inset:0;
      background:
        radial-gradient(1200px 700px at 26% 10%, rgba(212,175,55,.18), transparent 60%),
        radial-gradient(1000px 700px at 74% 35%, rgba(28,194,160,.10), transparent 60%),
        linear-gradient(180deg, #05060a 0%, #000 60%, #03040a 100%);
      z-index:-2;
    }
    .bg-grid{
      position:fixed; inset:0;
      background-image:
        linear-gradient(rgba(212,175,55,.06) 1px, transparent 1px),
        linear-gradient(90deg, rgba(212,175,55,.06) 1px, transparent 1px);
      background-size:44px 44px;
      mask-image: radial-gradient(70% 55% at 50% 20%, #000 55%, transparent 100%);
      opacity:.35;
      z-index:-1;
      pointer-events:none;
    }

    /* Offset below fixed topbar from menu.js */
    #hero{ padding-top:88px; }

    .wrap{
      max-width:var(--maxw);
      margin:34px auto 70px;
      padding:0 18px;
    }

    .topline{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
      margin-bottom:14px;
    }

    .crumb{
      display:flex; align-items:center; gap:10px;
      padding:10px 12px;
      border-radius:999px;
      background:rgba(0,0,0,.55);
      box-shadow:0 0 0 1px rgba(212,175,55,.18) inset;
      text-decoration:none;
      color:var(--txt);
    }
    .crumb:hover{ box-shadow:0 0 0 1px rgba(212,175,55,.35) inset, var(--glow); }

    .langbox{
      display:flex; align-items:center; gap:10px;
      padding:10px 12px;
      border-radius:999px;
      background:rgba(0,0,0,.55);
      box-shadow:0 0 0 1px rgba(212,175,55,.18) inset;
    }
    .langbox .lbl{
      font-size:12px; letter-spacing:.04em; text-transform:uppercase;
      color:var(--muted);
    }
    .langbtn{
      border:0;
      background:rgba(212,175,55,.14);
      color:var(--txt);
      padding:8px 10px;
      border-radius:999px;
      cursor:pointer;
      box-shadow:0 0 0 1px rgba(212,175,55,.22) inset;
      font-weight:900;
    }
    .langbtn[aria-pressed="true"]{
      background:rgba(212,175,55,.28);
      box-shadow:0 0 0 1px rgba(212,175,55,.38) inset, 0 0 18px rgba(212,175,55,.22);
    }

    .hero{
      background:linear-gradient(180deg, rgba(0,0,0,.72), rgba(0,0,0,.55));
      border-radius:var(--radius);
      padding:22px 20px;
      box-shadow:var(--shadow);
      border:1px solid rgba(212,175,55,.18);
      position:relative;
      overflow:hidden;
    }
    .hero::before{
      content:"";
      position:absolute; inset:-2px;
      background:radial-gradient(900px 320px at 20% 10%, rgba(212,175,55,.22), transparent 55%);
      pointer-events:none;
    }

    .h1{
      margin:0 0 10px;
      font-size:28px;
      letter-spacing:.2px;
      position:relative;
    }
    .sub{
      margin:0 0 14px;
      color:var(--muted);
      line-height:1.55;
      max-width:95ch;
      position:relative;
      white-space:pre-line;
    }

    .cta-row{
      display:flex; flex-wrap:wrap; gap:12px;
      margin-top:10px;
      position:relative;
    }
    .btn{
      display:inline-flex; align-items:center; gap:10px;
      text-decoration:none;
      color:var(--txt);
      border-radius:14px;
      padding:12px 14px;
      background:rgba(212,175,55,.20);
      box-shadow:0 0 0 1px rgba(212,175,55,.30) inset;
      font-weight:900;
      cursor:pointer;
      border:0;
    }
    .btn:hover{ box-shadow:0 0 0 1px rgba(212,175,55,.45) inset, var(--glow); }
    .btn.secondary{
      background:rgba(0,0,0,.35);
      box-shadow:0 0 0 1px rgba(212,175,55,.18) inset;
      font-weight:800;
    }
    .btn.danger{
      background:rgba(255,100,100,.14);
      box-shadow:0 0 0 1px rgba(255,140,140,.18) inset;
      font-weight:900;
    }

    .section-title{
      margin:18px 0 10px;
      padding:14px 16px;
      border-radius:var(--radius);
      background:rgba(0,0,0,.55);
      border:1px solid rgba(212,175,55,.14);
      box-shadow:var(--shadow);
    }
    .section-title h2{
      margin:0 0 8px;
      font-size:16px;
      letter-spacing:.2px;
    }
    .section-title p{
      margin:0;
      color:var(--muted);
      line-height:1.55;
      max-width:95ch;
      white-space:pre-line;
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(12, 1fr);
      gap:14px;
      margin-top:16px;
    }

    .card{
      grid-column:span 12;
      background:var(--panel);
      border-radius:var(--radius);
      padding:18px 16px;
      box-shadow:var(--shadow);
      border:1px solid rgba(212,175,55,.16);
      opacity:0;
      transform:translateY(10px);
      animation:fadeIn .55s ease forwards;
    }
    .card:nth-child(1){ animation-delay:.06s; }
    .card:nth-child(2){ animation-delay:.12s; }
    .card:nth-child(3){ animation-delay:.18s; }
    .card:nth-child(4){ animation-delay:.24s; }
    .card:nth-child(5){ animation-delay:.30s; }

    @keyframes fadeIn{ to{ opacity:1; transform:translateY(0); } }

    .card h3{
      margin:0 0 10px;
      font-size:18px;
      display:flex; align-items:center; gap:10px;
    }
    .card p{
      margin:0;
      color:var(--muted);
      line-height:1.55;
      max-width:95ch;
      white-space:pre-line;
    }

    .form{
      margin-top:12px;
      display:grid;
      grid-template-columns:repeat(12, 1fr);
      gap:12px;
    }
    .field{
      grid-column:span 12;
      border-radius:16px;
      background:var(--field);
      box-shadow:0 0 0 1px rgba(212,175,55,.12) inset;
      padding:12px 12px;
    }
    .field .k{
      font-size:12px;
      letter-spacing:.04em;
      text-transform:uppercase;
      color:var(--muted);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .field .k .tag{
      font-size:11px;
      letter-spacing:.06em;
      text-transform:uppercase;
      padding:6px 10px;
      border-radius:999px;
      background:rgba(212,175,55,.10);
      box-shadow:0 0 0 1px rgba(212,175,55,.16) inset;
      color:var(--txt);
      white-space:nowrap;
    }
    .field .row{
      margin-top:10px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    input[type="number"], input[type="text"]{
      width:100%;
      max-width:340px;
      border:0;
      outline:none;
      color:var(--txt);
      background:rgba(0,0,0,.35);
      box-shadow:0 0 0 1px rgba(212,175,55,.16) inset;
      border-radius:12px;
      padding:12px 12px;
      font-weight:900;
    }
    input[type="text"]{ font-weight:800; }
    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }
    .mini{
      max-width:170px !important;
    }

    .hint{
      margin-top:10px;
      color:var(--muted);
      font-size:13.5px;
      line-height:1.5;
      white-space:pre-line;
    }

    .switch{
      display:flex;
      align-items:center;
      gap:10px;
      margin-top:10px;
      padding:10px 12px;
      border-radius:14px;
      background:rgba(0,0,0,.28);
      box-shadow:0 0 0 1px rgba(212,175,55,.10) inset;
      width:fit-content;
    }
    .switch input{
      width:18px;height:18px;
      accent-color: var(--gold);
      cursor:pointer;
    }

    .table{
      margin-top:12px;
      border-radius:16px;
      overflow:hidden;
      box-shadow:0 0 0 1px rgba(212,175,55,.14) inset;
      background:rgba(0,0,0,.26);
    }
    .trow{
      display:grid;
      grid-template-columns: 1.2fr 1fr 1fr 1fr;
      gap:0;
      border-top:1px solid rgba(212,175,55,.10);
    }
    .trow:first-child{ border-top:0; }
    .tcell{
      padding:12px 12px;
      border-right:1px solid rgba(212,175,55,.08);
    }
    .tcell:last-child{ border-right:0; }
    .thead .tcell{
      font-size:12px;
      letter-spacing:.06em;
      text-transform:uppercase;
      color:var(--muted);
      background:rgba(0,0,0,.36);
      font-weight:1000;
    }
    .tval{
      font-weight:1100;
      color:var(--txt);
      white-space:pre-line;
    }
    .tmuted{
      color:var(--muted);
      font-weight:800;
      font-size:13.5px;
      white-space:pre-line;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:999px;
      background:rgba(212,175,55,.10);
      box-shadow:0 0 0 1px rgba(212,175,55,.16) inset;
      color:var(--txt);
      font-weight:1000;
      font-size:13px;
      white-space:nowrap;
    }

    .footer{
      margin-top:18px;
      padding:14px 16px;
      border-radius:var(--radius);
      background:rgba(0,0,0,.55);
      border:1px solid rgba(212,175,55,.14);
      box-shadow:var(--shadow);
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      color:var(--muted);
      font-size:13px;
    }
    .footer a{
      color:var(--txt);
      text-decoration:none;
      box-shadow:0 0 0 1px rgba(212,175,55,.14) inset;
      padding:8px 10px;
      border-radius:999px;
      background:rgba(212,175,55,.10);
    }
    .footer a:hover{ box-shadow:0 0 0 1px rgba(212,175,55,.32) inset, var(--glow); }

    @media (min-width: 900px){
      .h1{ font-size:34px; }
      .field{ grid-column:span 6; }
      .wide{ grid-column:span 12; }
      .trow{ grid-template-columns: 1.4fr 1fr 1fr 1fr; }
    }
  </style>

  <script defer src="../../js/menu.js"></script>
</head>
<body>
  <div class="bg-fixed" aria-hidden="true"></div>
  <div class="bg-grid" aria-hidden="true"></div>

  <main id="hero">
    <div class="wrap">

      <div class="topline">
        <a class="crumb" href="./index.html" aria-label="Zurück zur Club-Basis">
          <span aria-hidden="true" style="display:inline-grid;place-items:center;width:18px;height:18px;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 18l-6-6 6-6" stroke="rgba(212,175,55,.95)" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          <span data-i18n="back_to_base">Zurück zur Club-Basis</span>
        </a>

        <div class="langbox" role="group" aria-label="Sprache wählen">
          <span class="lbl" data-i18n="lang_label">Sprache</span>
          <button class="langbtn" id="btnDE" type="button" aria-pressed="true">DE</button>
          <button class="langbtn" id="btnEN" type="button" aria-pressed="false">EN</button>
        </div>
      </div>

      <section class="hero" aria-label="Rechner Hero">
        <h1 class="h1" data-i18n="head">Rechner: Umsatz & Verdienst (bezahlt, Levels)</h1>
        <p class="sub" data-i18n="sub">
Echter Rechner mit Eingabefeldern.\n
Regeln:\n• Provision nur auf tatsächlich bezahlte Produkte\n• Provision nur für zahlendes Mitglied\n• Keine Monats-/Raten-Umrechnung
        </p>

        <div class="cta-row">
          <a class="btn secondary" href="./so-verdient-man-geld.html" data-i18n="cta_intro">Intro: So verdient man Geld</a>
          <a class="btn secondary" href="./portfolio.html" data-i18n="cta_portfolio">Produkt-Portfolio</a>
          <a class="btn secondary" href="./preise.html" data-i18n="cta_prices">Preise ansehen</a>
        </div>
      </section>

      <div class="section-title" aria-label="Eingaben">
        <h2 data-i18n="in_head">Eingaben</h2>
        <p data-i18n="in_sub">
Du trägst ein: Anzahl bezahlter Mitglieder je Level + optional bezahlte Zusatzprodukte je Level.\n
Der Rechner zeigt dir: Umsatz gesamt + Verdienst je Ebene + Gesamtverdienst.
        </p>
      </div>

      <section class="grid" aria-label="Formular & Ergebnis">

        <!-- BASIS -->
        <article class="card">
          <h3>
            <span aria-hidden="true" style="display:inline-grid;place-items:center;width:26px;height:26px;">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M12 2l8 4v6c0 5-3.4 9.4-8 10-4.6-.6-8-5-8-10V6l8-4z" stroke="rgba(212,175,55,.95)" stroke-width="2" stroke-linejoin="round"/>
              </svg>
            </span>
            <span data-i18n="b_head">Basisdaten</span>
          </h3>

          <div class="form">
            <div class="field">
              <div class="k">
                <span data-i18n="b_membership_price">Mitgliedschaftspreis (voll bezahlt)</span>
                <span class="tag" data-i18n="tag_money">€</span>
              </div>
              <div class="row">
                <input id="membershipPrice" type="number" min="0" step="0.01" value="60" class="mini" />
              </div>
              <div class="hint" data-i18n="b_membership_hint">Dieser Preis wird pro bezahltem Mitglied je Level gerechnet.</div>
            </div>

            <div class="field">
              <div class="k">
                <span data-i18n="b_currency">Währung</span>
                <span class="tag">EUR</span>
              </div>
              <div class="row">
                <span class="pill">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path d="M4 19V5" stroke="rgba(212,175,55,.85)" stroke-width="2" stroke-linecap="round"/>
                    <path d="M4 19h16" stroke="rgba(212,175,55,.85)" stroke-width="2" stroke-linecap="round"/>
                    <path d="M7 15l4-4 3 3 5-6" stroke="rgba(212,175,55,.95)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span data-i18n="b_currency_locked">Fix: Euro (Anzeige)</span>
                </span>
              </div>
              <div class="hint" data-i18n="b_currency_hint">Der Rechner rechnet intern nur mit Zahlen – Anzeige ist Euro.</div>
            </div>

            <div class="field wide">
              <div class="k">
                <span data-i18n="b_toggle_membership">Mitgliedschaft in Provision einbeziehen</span>
                <span class="tag" data-i18n="tag_rule">Regel</span>
              </div>
              <label class="switch" for="includeMembership">
                <input id="includeMembership" type="checkbox" checked />
                <span data-i18n="b_toggle_membership_lbl">Ja, Mitgliedschaft zählt für Provision (bezahlt)</span>
              </label>
              <div class="hint" data-i18n="b_toggle_membership_hint">Wenn du das deaktivierst, werden nur Zusatzprodukte (Kurse/Tool/Events) provisioniert.</div>
            </div>
          </div>
        </article>

        <!-- LEVELS -->
        <article class="card">
          <h3>
            <span aria-hidden="true" style="display:inline-grid;place-items:center;width:26px;height:26px;">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M12 2l10 6-10 6L2 8l10-6z" stroke="rgba(212,175,55,.95)" stroke-width="2" stroke-linejoin="round"/>
                <path d="M22 12l-10 6L2 12" stroke="rgba(212,175,55,.95)" stroke-width="2" stroke-linejoin="round"/>
              </svg>
            </span>
            <span data-i18n="l_head">Levels: Mitglieder & Provision</span>
          </h3>

          <p data-i18n="l_text">
Trage hier die Anzahl der bezahlten Mitglieder pro Level ein.\n
Level 1 = direkt von dir geworben.\n
Level 2/3 = indirekt (über deine geworbenen Mitglieder).
          </p>

          <div class="form">
            <div class="field">
              <div class="k">
                <span data-i18n="l1_members">Level 1: bezahlte Mitglieder</span>
                <span class="tag" data-i18n="tag_count">Anzahl</span>
              </div>
              <div class="row">
                <input id="l1Members" type="number" min="0" step="1" value="20" class="mini" />
              </div>
              <div class="hint" data-i18n="l1_members_hint">Nur bezahlt zählt.</div>
            </div>

            <div class="field">
              <div class="k">
                <span data-i18n="l1_rate">Provision Level 1</span>
                <span class="tag" data-i18n="tag_percent">%</span>
              </div>
              <div class="row">
                <input id="l1Rate" type="number" min="0" max="100" step="0.01" value="20" class="mini" />
              </div>
              <div class="hint" data-i18n="l1_rate_hint">Beispielwert, frei änderbar.</div>
            </div>

            <div class="field">
              <div class="k">
                <span data-i18n="l2_members">Level 2: bezahlte Mitglieder</span>
                <span class="tag" data-i18n="tag_count">Anzahl</span>
              </div>
              <div class="row">
                <input id="l2Members" type="number" min="0" step="1" value="0" class="mini" />
              </div>
              <div class="hint" data-i18n="l2_members_hint">Indirekt über Level 1.</div>
            </div>

            <div class="field">
              <div class="k">
                <span data-i18n="l2_rate">Provision Level 2</span>
                <span class="tag" data-i18n="tag_percent">%</span>
              </div>
              <div class="row">
                <input id="l2Rate" type="number" min="0" max="100" step="0.01" value="15" class="mini" />
              </div>
              <div class="hint" data-i18n="l2_rate_hint">Beispielwert, frei änderbar.</div>
            </div>

            <div class="field">
              <div class="k">
                <span data-i18n="l3_members">Level 3: bezahlte Mitglieder</span>
                <span class="tag" data-i18n="tag_count">Anzahl</span>
              </div>
              <div class="row">
                <input id="l3Members" type="number" min="0" step="1" value="0" class="mini" />
              </div>
              <div class="hint" data-i18n="l3_members_hint">Indirekt über Level 2.</div>
            </div>

            <div class="field">
              <div class="k">
                <span data-i18n="l3_rate">Provision Level 3</span>
                <span class="tag" data-i18n="tag_percent">%</span>
              </div>
              <div class="row">
                <input id="l3Rate" type="number" min="0" max="100" step="0.01" value="10" class="mini" />
              </div>
              <div class="hint" data-i18n="l3_rate_hint">Beispielwert, frei änderbar.</div>
            </div>
          </div>
        </article>

        <!-- PRODUKTE -->
        <article class="card">
          <h3>
            <span aria-hidden="true" style="display:inline-grid;place-items:center;width:26px;height:26px;">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M20 13l-7 7-11-11V2h7l11 11z" stroke="rgba(212,175,55,.95)" stroke-width="2" stroke-linejoin="round"/>
                <circle cx="7.5" cy="7.5" r="1.6" fill="rgba(212,175,55,.85)"/>
              </svg>
            </span>
            <span data-i18n="p_head">Zusatzprodukte (bezahlt)</span>
          </h3>

          <p data-i18n="p_text">
Hier trägst du ein, wie viele bezahlte Produkte pro Level zusätzlich gekauft wurden.\n
Beispiel: Setup-Kurs, Trading, NFT, Leadmaschine, Events.\n
Provision gilt auf alle Produkte – aber nur, wenn bezahlt.
          </p>

          <div class="form">
            <div class="field wide">
              <div class="k">
                <span data-i18n="p_table_head">Produkte (Name, Preis, Menge je Level)</span>
                <span class="tag" data-i18n="tag_paid">bezahlt</span>
              </div>

              <div class="table" role="table" aria-label="Produkte Tabelle">
                <div class="trow thead" role="row">
                  <div class="tcell" role="columnheader" data-i18n="th_name">Produkt</div>
                  <div class="tcell" role="columnheader" data-i18n="th_price">Preis (€)</div>
                  <div class="tcell" role="columnheader" data-i18n="th_l1">Menge L1</div>
                  <div class="tcell" role="columnheader" data-i18n="th_l2l3">Menge L2/L3</div>
                </div>

                <!-- Row 1 -->
                <div class="trow" role="row">
                  <div class="tcell" role="cell">
                    <input id="prod1Name" type="text" value="Setup-Kurs" />
                  </div>
                  <div class="tcell" role="cell">
                    <input id="prod1Price" type="number" min="0" step="0.01" value="140" class="mini" />
                  </div>
                  <div class="tcell" role="cell">
                    <input id="prod1L1Qty" type="number" min="0" step="1" value="0" class="mini" />
                  </div>
                  <div class="tcell" role="cell">
                    <div class="row" style="gap:8px;">
                      <input id="prod1L2Qty" type="number" min="0" step="1" value="0" class="mini" aria-label="Menge Level 2" />
                      <input id="prod1L3Qty" type="number" min="0" step="1" value="0" class="mini" aria-label="Menge Level 3" />
                    </div>
                    <div class="tmuted" style="margin-top:8px;" data-i18n="hint_l2_l3">links=L2 · rechts=L3</div>
                  </div>
                </div>

                <!-- Row 2 -->
                <div class="trow" role="row">
                  <div class="tcell" role="cell">
                    <input id="prod2Name" type="text" value="Trading-Kurs" />
                  </div>
                  <div class="tcell" role="cell">
                    <input id="prod2Price" type="number" min="0" step="0.01" value="180" class="mini" />
                  </div>
                  <div class="tcell" role="cell">
                    <input id="prod2L1Qty" type="number" min="0" step="1" value="0" class="mini" />
                  </div>
                  <div class="tcell" role="cell">
                    <div class="row" style="gap:8px;">
                      <input id="prod2L2Qty" type="number" min="0" step="1" value="0" class="mini" aria-label="Menge Level 2" />
                      <input id="prod2L3Qty" type="number" min="0" step="1" value="0" class="mini" aria-label="Menge Level 3" />
                    </div>
                    <div class="tmuted" style="margin-top:8px;" data-i18n="hint_l2_l3">links=L2 · rechts=L3</div>
                  </div>
                </div>

                <!-- Row 3 -->
                <div class="trow" role="row">
                  <div class="tcell" role="cell">
                    <input id="prod3Name" type="text" value="NFT-Basisbereich" />
                  </div>
                  <div class="tcell" role="cell">
                    <input id="prod3Price" type="number" min="0" step="0.01" value="160" class="mini" />
                  </div>
                  <div class="tcell" role="cell">
                    <input id="prod3L1Qty" type="number" min="0" step="1" value="0" class="mini" />
                  </div>
                  <div class="tcell" role="cell">
                    <div class="row" style="gap:8px;">
                      <input id="prod3L2Qty" type="number" min="0" step="1" value="0" class="mini" aria-label="Menge Level 2" />
                      <input id="prod3L3Qty" type="number" min="0" step="1" value="0" class="mini" aria-label="Menge Level 3" />
                    </div>
                    <div class="tmuted" style="margin-top:8px;" data-i18n="hint_l2_l3">links=L2 · rechts=L3</div>
                  </div>
                </div>

                <!-- Row 4 -->
                <div class="trow" role="row">
                  <div class="tcell" role="cell">
                    <input id="prod4Name" type="text" value="Leadmaschine (Tool)" />
                  </div>
                  <div class="tcell" role="cell">
                    <input id="prod4Price" type="number" min="0" step="0.01" value="150" class="mini" />
                  </div>
                  <div class="tcell" role="cell">
                    <input id="prod4L1Qty" type="number" min="0" step="1" value="0" class="mini" />
                  </div>
                  <div class="tcell" role="cell">
                    <div class="row" style="gap:8px;">
                      <input id="prod4L2Qty" type="number" min="0" step="1" value="0" class="mini" aria-label="Menge Level 2" />
                      <input id="prod4L3Qty" type="number" min="0" step="1" value="0" class="mini" aria-label="Menge Level 3" />
                    </div>
                    <div class="tmuted" style="margin-top:8px;" data-i18n="hint_l2_l3">links=L2 · rechts=L3</div>
                  </div>
                </div>
              </div>

              <div class="hint" data-i18n="p_hint">
Hinweis:\n• „Menge“ = Anzahl bezahlter Käufe je Level\n• Preise sind frei anpassbar\n• Wenn ein Produkt nicht genutzt wird: Menge = 0
              </div>

              <div class="cta-row" style="margin-top:12px;">
                <button class="btn secondary" id="btnExample" type="button" data-i18n="btn_example">Beispielwerte laden</button>
                <button class="btn secondary" id="btnSave" type="button" data-i18n="btn_save">Speichern (Browser)</button>
                <button class="btn danger" id="btnReset" type="button" data-i18n="btn_reset">Zurücksetzen</button>
              </div>
            </div>
          </div>
        </article>

        <!-- ERGEBNIS -->
        <article class="card">
          <h3>
            <span aria-hidden="true" style="display:inline-grid;place-items:center;width:26px;height:26px;">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M4 19V5" stroke="rgba(212,175,55,.85)" stroke-width="2" stroke-linecap="round"/>
                <path d="M4 19h16" stroke="rgba(212,175,55,.85)" stroke-width="2" stroke-linecap="round"/>
                <path d="M7 15l4-4 3 3 5-6" stroke="rgba(212,175,55,.95)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </span>
            <span data-i18n="r_head">Ergebnis</span>
          </h3>

          <div class="table" role="table" aria-label="Ergebnis Tabelle">
            <div class="trow thead" role="row">
              <div class="tcell" role="columnheader" data-i18n="rh_row">Ebene</div>
              <div class="tcell" role="columnheader" data-i18n="rh_rev">Umsatz (€)</div>
              <div class="tcell" role="columnheader" data-i18n="rh_rate">Provision</div>
              <div class="tcell" role="columnheader" data-i18n="rh_earn">Verdienst (€)</div>
            </div>

            <div class="trow" role="row">
              <div class="tcell" role="cell"><span class="tval">Level 1</span></div>
              <div class="tcell" role="cell"><span class="tval" id="outRevL1">0,00 €</span></div>
              <div class="tcell" role="cell"><span class="tmuted" id="outRateL1">0%</span></div>
              <div class="tcell" role="cell"><span class="tval" id="outEarnL1">0,00 €</span></div>
            </div>

            <div class="trow" role="row">
              <div class="tcell" role="cell"><span class="tval">Level 2</span></div>
              <div class="tcell" role="cell"><span class="tval" id="outRevL2">0,00 €</span></div>
              <div class="tcell" role="cell"><span class="tmuted" id="outRateL2">0%</span></div>
              <div class="tcell" role="cell"><span class="tval" id="outEarnL2">0,00 €</span></div>
            </div>

            <div class="trow" role="row">
              <div class="tcell" role="cell"><span class="tval">Level 3</span></div>
              <div class="tcell" role="cell"><span class="tval" id="outRevL3">0,00 €</span></div>
              <div class="tcell" role="cell"><span class="tmuted" id="outRateL3">0%</span></div>
              <div class="tcell" role="cell"><span class="tval" id="outEarnL3">0,00 €</span></div>
            </div>

            <div class="trow" role="row">
              <div class="tcell" role="cell"><span class="tval" data-i18n="total_row">Gesamt</span></div>
              <div class="tcell" role="cell"><span class="tval" id="outRevTotal">0,00 €</span></div>
              <div class="tcell" role="cell"><span class="tmuted" id="outRateTotal">—</span></div>
              <div class="tcell" role="cell"><span class="tval" id="outEarnTotal">0,00 €</span></div>
            </div>
          </div>

          <div class="form">
            <div class="field wide" style="margin-top:12px;">
              <div class="k">
                <span data-i18n="r_breakdown">Breakdown (was zählt)</span>
                <span class="tag" data-i18n="tag_paid">bezahlt</span>
              </div>
              <div class="hint" id="outBreakdown"></div>
            </div>
          </div>
        </article>

        <!-- HINWEIS -->
        <article class="card">
          <h3>
            <span aria-hidden="true" style="display:inline-grid;place-items:center;width:26px;height:26px;">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M12 2l1.2 5.2L18 8l-4.8 1L12 14l-1-5-5-1 5-0.8L12 2z" stroke="rgba(212,175,55,.95)" stroke-width="2" stroke-linejoin="round"/>
              </svg>
            </span>
            <span data-i18n="n_head">Hinweis</span>
          </h3>

          <p data-i18n="n_text">
Dieses Tool ist ein Anschaungsbeispiel.\n
Es ist kein Abrechnungs- oder Steuer-Tool.\n
Es zeigt nur: Umsatz (bezahlt) × Provision (Level) = Verdienst.
          </p>

          <div class="cta-row" style="margin-top:12px;">
            <a class="btn secondary" href="./akquise.html" data-i18n="n_btn1">Akquise-Ansprache</a>
            <a class="btn secondary" href="./portfolio.html" data-i18n="n_btn2">Portfolio öffnen</a>
            <a class="btn" href="./checkout.html" data-i18n="n_btn3">Mitgliedschaft aktivieren</a>
          </div>
        </article>

      </section>

      <div class="footer">
        <span data-i18n="footer_note">Regel: Provision nur auf bezahlte Produkte, nur für zahlende Mitglieder. Keine Monats-/Ratenlogik.</span>
        <a href="./index.html" data-i18n="footer_cta">Zurück zur Club-Basis</a>
      </div>

    </div>
  </main>

  <script>
    (function(){
      const $ = (id)=>document.getElementById(id);

      const ids = [
        "membershipPrice","includeMembership",
        "l1Members","l2Members","l3Members",
        "l1Rate","l2Rate","l3Rate",
        "prod1Name","prod1Price","prod1L1Qty","prod1L2Qty","prod1L3Qty",
        "prod2Name","prod2Price","prod2L1Qty","prod2L2Qty","prod2L3Qty",
        "prod3Name","prod3Price","prod3L1Qty","prod3L2Qty","prod3L3Qty",
        "prod4Name","prod4Price","prod4L1Qty","prod4L2Qty","prod4L3Qty"
      ];

      function num(v){
        const n = Number(String(v ?? "").replace(",", "."));
        return isFinite(n) ? n : 0;
      }

      function clamp(n, a, b){
        n = num(n);
        if(n < a) return a;
        if(n > b) return b;
        return n;
      }

      function moneyEUR(n){
        n = num(n);
        try{
          return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(n);
        }catch(e){
          const s = n.toFixed(2).replace(".", ",");
          return s + " €";
        }
      }

      function pct(n){
        return (Math.round(num(n)*100)/100).toString().replace(".", ",") + "%";
      }

      function readState(){
        const s = {};
        ids.forEach(id=>{
          const el = $(id);
          if(!el) return;
          if(el.type === "checkbox") s[id] = !!el.checked;
          else s[id] = el.value;
        });
        return s;
      }

      function writeState(s){
        ids.forEach(id=>{
          const el = $(id);
          if(!el || s[id] === undefined) return;
          if(el.type === "checkbox") el.checked = !!s[id];
          else el.value = s[id];
        });
      }

      function productRows(){
        return [
          { name:$("prod1Name").value, price:num($("prod1Price").value), q1:num($("prod1L1Qty").value), q2:num($("prod1L2Qty").value), q3:num($("prod1L3Qty").value) },
          { name:$("prod2Name").value, price:num($("prod2Price").value), q1:num($("prod2L1Qty").value), q2:num($("prod2L2Qty").value), q3:num($("prod2L3Qty").value) },
          { name:$("prod3Name").value, price:num($("prod3Price").value), q1:num($("prod3L1Qty").value), q2:num($("prod3L2Qty").value), q3:num($("prod3L3Qty").value) },
          { name:$("prod4Name").value, price:num($("prod4Price").value), q1:num($("prod4L1Qty").value), q2:num($("prod4L2Qty").value), q3:num($("prod4L3Qty").value) }
        ];
      }

      function calc(){
        const membershipPrice = Math.max(0, num($("membershipPrice").value));
        const includeMembership = !!$("includeMembership").checked;

        const l1Members = Math.max(0, Math.floor(num($("l1Members").value)));
        const l2Members = Math.max(0, Math.floor(num($("l2Members").value)));
        const l3Members = Math.max(0, Math.floor(num($("l3Members").value)));

        const r1 = clamp($("l1Rate").value, 0, 100)/100;
        const r2 = clamp($("l2Rate").value, 0, 100)/100;
        const r3 = clamp($("l3Rate").value, 0, 100)/100;

        const prods = productRows();

        // Membership revenue per level (optional included)
        const revM1 = includeMembership ? (l1Members * membershipPrice) : 0;
        const revM2 = includeMembership ? (l2Members * membershipPrice) : 0;
        const revM3 = includeMembership ? (l3Members * membershipPrice) : 0;

        // Product revenue per level
        let revP1 = 0, revP2 = 0, revP3 = 0;
        const lines1 = [], lines2 = [], lines3 = [];

        prods.forEach(p=>{
          const name = (p.name || "").trim() || "Produkt";
          const price = Math.max(0, num(p.price));
          const a1 = Math.max(0, Math.floor(num(p.q1)));
          const a2 = Math.max(0, Math.floor(num(p.q2)));
          const a3 = Math.max(0, Math.floor(num(p.q3)));

          const s1 = a1 * price;
          const s2 = a2 * price;
          const s3 = a3 * price;

          if(s1 > 0) lines1.push(`• ${name}: ${a1} × ${moneyEUR(price)} = ${moneyEUR(s1)}`);
          if(s2 > 0) lines2.push(`• ${name}: ${a2} × ${moneyEUR(price)} = ${moneyEUR(s2)}`);
          if(s3 > 0) lines3.push(`• ${name}: ${a3} × ${moneyEUR(price)} = ${moneyEUR(s3)}`);

          revP1 += s1; revP2 += s2; revP3 += s3;
        });

        // Total revenue per level
        const rev1 = revM1 + revP1;
        const rev2 = revM2 + revP2;
        const rev3 = revM3 + revP3;

        // Earnings per level
        const earn1 = rev1 * r1;
        const earn2 = rev2 * r2;
        const earn3 = rev3 * r3;

        const revT = rev1 + rev2 + rev3;
        const earnT = earn1 + earn2 + earn3;

        $("outRevL1").textContent = moneyEUR(rev1);
        $("outRevL2").textContent = moneyEUR(rev2);
        $("outRevL3").textContent = moneyEUR(rev3);
        $("outRevTotal").textContent = moneyEUR(revT);

        $("outRateL1").textContent = pct(r1*100);
        $("outRateL2").textContent = pct(r2*100);
        $("outRateL3").textContent = pct(r3*100);
        $("outRateTotal").textContent = "—";

        $("outEarnL1").textContent = moneyEUR(earn1);
        $("outEarnL2").textContent = moneyEUR(earn2);
        $("outEarnL3").textContent = moneyEUR(earn3);
        $("outEarnTotal").textContent = moneyEUR(earnT);

        const mLines = [];
        if(includeMembership){
          mLines.push(`Mitgliedschaft (bezahlt):`);
          mLines.push(`• L1: ${l1Members} × ${moneyEUR(membershipPrice)} = ${moneyEUR(l1Members * membershipPrice)}`);
          mLines.push(`• L2: ${l2Members} × ${moneyEUR(membershipPrice)} = ${moneyEUR(l2Members * membershipPrice)}`);
          mLines.push(`• L3: ${l3Members} × ${moneyEUR(membershipPrice)} = ${moneyEUR(l3Members * membershipPrice)}`);
        }else{
          mLines.push(`Mitgliedschaft: deaktiviert (nicht provisioniert).`);
        }

        const pLines = [];
        pLines.push(`Zusatzprodukte (bezahlt):`);
        pLines.push(`• L1: ${lines1.length ? "\n" + lines1.join("\n") : "keine"}`);
        pLines.push(`• L2: ${lines2.length ? "\n" + lines2.join("\n") : "keine"}`);
        pLines.push(`• L3: ${lines3.length ? "\n" + lines3.join("\n") : "keine"}`);

        const summary = [];
        summary.push(`Provision (Level):`);
        summary.push(`• L1: ${pct(r1*100)} · L2: ${pct(r2*100)} · L3: ${pct(r3*100)}`);
        summary.push(`\nErgebnis:`);
        summary.push(`• Umsatz gesamt: ${moneyEUR(revT)}`);
        summary.push(`• Verdienst gesamt: ${moneyEUR(earnT)}`);

        $("outBreakdown").textContent = [
          ...mLines,
          "",
          ...pLines,
          "",
          ...summary
        ].join("\n");
      }

      function bind(){
        ids.forEach(id=>{
          const el = $(id);
          if(!el) return;
          const evt = (el.type === "checkbox") ? "change" : "input";
          el.addEventListener(evt, ()=>{ calc(); });
        });

        $("btnExample").addEventListener("click", ()=>{
          // Beispiel: 20 direkte Mitglieder, 20%/15%/10%, zusätzlich ein paar Käufe
          $("membershipPrice").value = "60";
          $("includeMembership").checked = true;

          $("l1Members").value = "20";
          $("l2Members").value = "20";
          $("l3Members").value = "10";

          $("l1Rate").value = "20";
          $("l2Rate").value = "15";
          $("l3Rate").value = "10";

          $("prod1Name").value = "Setup-Kurs";
          $("prod1Price").value = "140";
          $("prod1L1Qty").value = "5";
          $("prod1L2Qty").value = "3";
          $("prod1L3Qty").value = "1";

          $("prod2Name").value = "Trading-Kurs";
          $("prod2Price").value = "180";
          $("prod2L1Qty").value = "2";
          $("prod2L2Qty").value = "1";
          $("prod2L3Qty").value = "0";

          $("prod3Name").value = "NFT-Basisbereich";
          $("prod3Price").value = "160";
          $("prod3L1Qty").value = "1";
          $("prod3L2Qty").value = "1";
          $("prod3L3Qty").value = "0";

          $("prod4Name").value = "Leadmaschine (Tool)";
          $("prod4Price").value = "150";
          $("prod4L1Qty").value = "4";
          $("prod4L2Qty").value = "2";
          $("prod4L3Qty").value = "1";

          calc();
        });

        $("btnSave").addEventListener("click", ()=>{
          try{
            localStorage.setItem("fsa_rechner_verdienst_v1", JSON.stringify(readState()));
            flash("btnSave");
          }catch(e){}
        });

        $("btnReset").addEventListener("click", ()=>{
          // konservativ: auf Default, ohne Auto-Optimierung
          const defaults = {
            membershipPrice:"60",
            includeMembership:true,
            l1Members:"0", l2Members:"0", l3Members:"0",
            l1Rate:"20", l2Rate:"15", l3Rate:"10",
            prod1Name:"Setup-Kurs", prod1Price:"140", prod1L1Qty:"0", prod1L2Qty:"0", prod1L3Qty:"0",
            prod2Name:"Trading-Kurs", prod2Price:"180", prod2L1Qty:"0", prod2L2Qty:"0", prod2L3Qty:"0",
            prod3Name:"NFT-Basisbereich", prod3Price:"160", prod3L1Qty:"0", prod3L2Qty:"0", prod3L3Qty:"0",
            prod4Name:"Leadmaschine (Tool)", prod4Price:"150", prod4L1Qty:"0", prod4L2Qty:"0", prod4L3Qty:"0"
          };
          writeState(defaults);
          try{ localStorage.removeItem("fsa_rechner_verdienst_v1"); }catch(e){}
          calc();
          flash("btnReset");
        });
      }

      function flash(id){
        const el = $(id);
        if(!el) return;
        el.style.boxShadow = "0 0 0 1px rgba(212,175,55,.45) inset, 0 0 22px rgba(212,175,55,.18)";
        setTimeout(()=>{ el.style.boxShadow = ""; }, 650);
      }

      // i18n
      const dict = {
        de: {
          back_to_base: "Zurück zur Club-Basis",
          lang_label: "Sprache",

          head: "Rechner: Umsatz & Verdienst (bezahlt, Levels)",
          sub: "Echter Rechner mit Eingabefeldern.\n\nRegeln:\n• Provision nur auf tatsächlich bezahlte Produkte\n• Provision nur für zahlendes Mitglied\n• Keine Monats-/Raten-Umrechnung",

          cta_intro: "Intro: So verdient man Geld",
          cta_portfolio: "Produkt-Portfolio",
          cta_prices: "Preise ansehen",

          in_head: "Eingaben",
          in_sub: "Du trägst ein: Anzahl bezahlter Mitglieder je Level + optional bezahlte Zusatzprodukte je Level.\n\nDer Rechner zeigt dir: Umsatz gesamt + Verdienst je Ebene + Gesamtverdienst.",

          b_head: "Basisdaten",
          b_membership_price: "Mitgliedschaftspreis (voll bezahlt)",
          b_membership_hint: "Dieser Preis wird pro bezahltem Mitglied je Level gerechnet.",
          b_currency: "Währung",
          b_currency_locked: "Fix: Euro (Anzeige)",
          b_currency_hint: "Der Rechner rechnet intern nur mit Zahlen – Anzeige ist Euro.",
          b_toggle_membership: "Mitgliedschaft in Provision einbeziehen",
          b_toggle_membership_lbl: "Ja, Mitgliedschaft zählt für Provision (bezahlt)",
          b_toggle_membership_hint: "Wenn du das deaktivierst, werden nur Zusatzprodukte (Kurse/Tool/Events) provisioniert.",

          l_head: "Levels: Mitglieder & Provision",
          l_text: "Trage hier die Anzahl der bezahlten Mitglieder pro Level ein.\n\nLevel 1 = direkt von dir geworben.\n\nLevel 2/3 = indirekt (über deine geworbenen Mitglieder).",
          l1_members: "Level 1: bezahlte Mitglieder",
          l1_members_hint: "Nur bezahlt zählt.",
          l1_rate: "Provision Level 1",
          l1_rate_hint: "Beispielwert, frei änderbar.",
          l2_members: "Level 2: bezahlte Mitglieder",
          l2_members_hint: "Indirekt über Level 1.",
          l2_rate: "Provision Level 2",
          l2_rate_hint: "Beispielwert, frei änderbar.",
          l3_members: "Level 3: bezahlte Mitglieder",
          l3_members_hint: "Indirekt über Level 2.",
          l3_rate: "Provision Level 3",
          l3_rate_hint: "Beispielwert, frei änderbar.",

          p_head: "Zusatzprodukte (bezahlt)",
          p_text: "Hier trägst du ein, wie viele bezahlte Produkte pro Level zusätzlich gekauft wurden.\n\nBeispiel: Setup-Kurs, Trading, NFT, Leadmaschine, Events.\n\nProvision gilt auf alle Produkte – aber nur, wenn bezahlt.",
          p_table_head: "Produkte (Name, Preis, Menge je Level)",
          th_name: "Produkt",
          th_price: "Preis (€)",
          th_l1: "Menge L1",
          th_l2l3: "Menge L2/L3",
          hint_l2_l3: "links=L2 · rechts=L3",
          p_hint: "Hinweis:\n• „Menge“ = Anzahl bezahlter Käufe je Level\n• Preise sind frei anpassbar\n• Wenn ein Produkt nicht genutzt wird: Menge = 0",
          btn_example: "Beispielwerte laden",
          btn_save: "Speichern (Browser)",
          btn_reset: "Zurücksetzen",

          r_head: "Ergebnis",
          rh_row: "Ebene",
          rh_rev: "Umsatz (€)",
          rh_rate: "Provision",
          rh_earn: "Verdienst (€)",
          total_row: "Gesamt",
          r_breakdown: "Breakdown (was zählt)",

          n_head: "Hinweis",
          n_text: "Dieses Tool ist ein Anschaungsbeispiel.\n\nEs ist kein Abrechnungs- oder Steuer-Tool.\n\nEs zeigt nur: Umsatz (bezahlt) × Provision (Level) = Verdienst.",
          n_btn1: "Akquise-Ansprache",
          n_btn2: "Portfolio öffnen",
          n_btn3: "Mitgliedschaft aktivieren",

          footer_note: "Regel: Provision nur auf bezahlte Produkte, nur für zahlende Mitglieder. Keine Monats-/Ratenlogik.",
          footer_cta: "Zurück zur Club-Basis",

          tag_money: "€",
          tag_rule: "Regel",
          tag_count: "Anzahl",
          tag_percent: "%",
          tag_paid: "bezahlt"
        },

        en: {
          back_to_base: "Back to Club Hub",
          lang_label: "Language",

          head: "Calculator: revenue & earnings (paid, levels)",
          sub: "Real calculator with input fields.\n\nRules:\n• commission only on actually paid products\n• commission only for paying members\n• no monthly / installment conversion",

          cta_intro: "Intro: how money is made",
          cta_portfolio: "Product portfolio",
          cta_prices: "View pricing",

          in_head: "Inputs",
          in_sub: "Enter: number of paid members per level + optional paid add-on products per level.\n\nThe calculator shows: total revenue + earnings per level + total earnings.",

          b_head: "Base data",
          b_membership_price: "Membership price (paid in full)",
          b_membership_hint: "This price is applied per paid member per level.",
          b_currency: "Currency",
          b_currency_locked: "Fixed: Euro (display)",
          b_currency_hint: "Internally it’s just numbers — displayed as Euro.",
          b_toggle_membership: "Include membership in commission",
          b_toggle_membership_lbl: "Yes, membership counts for commission (paid)",
          b_toggle_membership_hint: "If disabled, only add-on products (courses/tool/events) are commissionable.",

          l_head: "Levels: members & commission",
          l_text: "Enter the number of paid members per level.\n\nLevel 1 = recruited by you directly.\n\nLevel 2/3 = indirect (via your members).",
          l1_members: "Level 1: paid members",
          l1_members_hint: "Only paid counts.",
          l1_rate: "Commission Level 1",
          l1_rate_hint: "Example value, editable.",
          l2_members: "Level 2: paid members",
          l2_members_hint: "Indirect via Level 1.",
          l2_rate: "Commission Level 2",
          l2_rate_hint: "Example value, editable.",
          l3_members: "Level 3: paid members",
          l3_members_hint: "Indirect via Level 2.",
          l3_rate: "Commission Level 3",
          l3_rate_hint: "Example value, editable.",

          p_head: "Add-on products (paid)",
          p_text: "Enter how many paid products were additionally bought per level.\n\nExample: Setup course, Trading, NFT, Lead Machine, Events.\n\nCommission applies to all products — only if paid.",
          p_table_head: "Products (name, price, quantity per level)",
          th_name: "Product",
          th_price: "Price (€)",
          th_l1: "Qty L1",
          th_l2l3: "Qty L2/L3",
          hint_l2_l3: "left=L2 · right=L3",
          p_hint: "Note:\n• “Qty” = number of paid purchases per level\n• prices are editable\n• if not used: set qty = 0",
          btn_example: "Load example values",
          btn_save: "Save (browser)",
          btn_reset: "Reset",

          r_head: "Result",
          rh_row: "Level",
          rh_rev: "Revenue (€)",
          rh_rate: "Commission",
          rh_earn: "Earnings (€)",
          total_row: "Total",
          r_breakdown: "Breakdown (what counts)",

          n_head: "Note",
          n_text: "This tool is an illustrative example.\n\nIt is not a billing or tax tool.\n\nIt simply shows: paid revenue × level commission = earnings.",
          n_btn1: "Acquisition pitch",
          n_btn2: "Open portfolio",
          n_btn3: "Activate membership",

          footer_note: "Rule: commission only on paid products, only for paying members. No monthly/installment logic.",
          footer_cta: "Back to Club Hub",

          tag_money: "€",
          tag_rule: "Rule",
          tag_count: "Count",
          tag_percent: "%",
          tag_paid: "paid"
        }
      };

      const btnDE = document.getElementById("btnDE");
      const btnEN = document.getElementById("btnEN");

      function applyLang(lang){
        const map = dict[lang] || dict.de;
        document.documentElement.lang = lang;

        document.querySelectorAll("[data-i18n]").forEach(el=>{
          const key = el.getAttribute("data-i18n");
          if(map[key] !== undefined) el.textContent = map[key];
        });

        btnDE.setAttribute("aria-pressed", lang === "de" ? "true" : "false");
        btnEN.setAttribute("aria-pressed", lang === "en" ? "true" : "false");

        try{ localStorage.setItem("fsa_lang", lang); }catch(e){}
      }

      btnDE.addEventListener("click", ()=>{ applyLang("de"); });
      btnEN.addEventListener("click", ()=>{ applyLang("en"); });

      function restore(){
        let savedLang = "de";
        try{ savedLang = localStorage.getItem("fsa_lang") || "de"; }catch(e){}
        if(savedLang !== "de" && savedLang !== "en") savedLang = "de";
        applyLang(savedLang);

        try{
          const raw = localStorage.getItem("fsa_rechner_verdienst_v1");
          if(raw){
            const state = JSON.parse(raw);
            writeState(state);
          }
        }catch(e){}
      }

      restore();
      bind();
      calc();
    })();
  </script>
</body>
</html>
