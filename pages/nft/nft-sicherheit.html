<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NFT Handel – Sicherheit (Modul 2 Gate) | FSA Akademie</title>
  <meta name="description" content="NFT Sicherheit: Scams, Approvals, Signaturen, Fake-Mints. Gatekeeper-Modul mit Selbsttest und Checklisten." />
  <style>
    :root{
      --bg0:#05060a;
      --bg1:#070a12;
      --card: rgba(10,10,20,.66);
      --card2: rgba(12,14,26,.72);
      --text:#f2f2f2;
      --muted:#cbd5e1;
      --gold:#d4af37;
      --turq:#1cc2a0;
      --danger:#ff4d4d;
      --ok:#3ddc97;
      --warn:#ffd166;
      --shadow:0 26px 50px rgba(0,0,0,.55);
      --glow:0 0 26px rgba(212,175,55,.28), 0 10px 28px rgba(0,0,0,.55);
      --radius:16px;
      --maxw:1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(212,175,55,.10), transparent 60%),
        radial-gradient(900px 520px at 80% 15%, rgba(28,194,160,.10), transparent 58%),
        radial-gradient(900px 520px at 40% 95%, rgba(212,175,55,.08), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }
    a{color:inherit; text-decoration:none}
    .wrap{max-width:var(--maxw); margin:0 auto; padding:22px 16px 86px}

    header{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; margin-bottom:16px; flex-wrap:wrap;
    }
    .topleft{display:flex; align-items:center; gap:10px; flex-wrap:wrap}
    .crumb{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px; border-radius:999px;
      background:rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.10);
      box-shadow:0 10px 18px rgba(0,0,0,.25);
    }
    .crumb svg{width:18px;height:18px;opacity:.9}
    .crumb span{font-size:14px; color:var(--muted)}

    .lang{display:flex; gap:8px; align-items:center}
    .btn{
      appearance:none; border:none; cursor:pointer;
      padding:10px 12px; border-radius:12px;
      background:rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.12);
      color:var(--text);
      box-shadow:0 12px 22px rgba(0,0,0,.28);
      font-weight:700;
      letter-spacing:.2px;
      transition: transform .15s ease, border-color .15s ease, background .15s ease;
    }
    .btn:hover{transform: translateY(-1px); border-color: rgba(212,175,55,.35)}
    .btn.active{border-color: rgba(28,194,160,.55); background: rgba(28,194,160,.10)}
    .btn.danger{border-color: rgba(255,77,77,.45)}
    .btn.danger:hover{border-color: rgba(255,77,77,.75)}
    .btn.ok{border-color: rgba(61,220,151,.45)}
    .btn.ok:hover{border-color: rgba(61,220,151,.75)}

    .hero{
      border-radius:22px;
      background: linear-gradient(135deg, rgba(255,77,77,.12), rgba(212,175,55,.12), rgba(28,194,160,.10));
      border:1px solid rgba(255,255,255,.14);
      box-shadow: var(--glow);
      padding:18px 16px;
      margin-bottom:12px;
    }
    .hero h1{margin:0 0 6px; font-size:28px; line-height:1.15}
    .hero p{margin:0; color:var(--muted); max-width:980px; line-height:1.55}

    .note{
      padding:12px 12px;
      border-radius:16px;
      background:rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.10);
      color:var(--muted);
      margin-bottom:12px;
      line-height:1.55;
    }

    .statusrow{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
      margin:10px 0 14px;
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:9px 10px;
      border-radius:999px;
      background:rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.10);
      color:var(--muted);
      font-size:13px;
    }
    .pill strong{color:var(--text)}
    .pill svg{width:16px;height:16px;opacity:.9}
    .pill.ok{border-color: rgba(61,220,151,.35)}
    .pill.warn{border-color: rgba(255,209,102,.35)}
    .pill.danger{border-color: rgba(255,77,77,.35)}

    .chipnav{
      display:flex; flex-wrap:wrap; gap:8px;
      margin:10px 0 14px;
    }
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px;
      border-radius:999px;
      background:rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.10);
      color:var(--muted);
      transition: transform .15s ease, border-color .15s ease;
    }
    .chip:hover{transform: translateY(-1px); border-color: rgba(212,175,55,.35)}
    .chip svg{width:16px;height:16px;opacity:.9}

    .grid{display:grid; grid-template-columns: repeat(12, 1fr); gap:12px}
    .card{
      grid-column: span 12;
      background:var(--card);
      border:1px solid rgba(255,255,255,.12);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:14px 14px;
    }
    @media (min-width: 920px){
      .c6{grid-column: span 6}
      .c4{grid-column: span 4}
      .c8{grid-column: span 8}
    }
    h2{margin:0 0 8px; font-size:18px}
    h3{margin:12px 0 6px; font-size:16px}
    p,li{color:var(--muted); line-height:1.6}
    ul{margin:8px 0 0; padding-left:18px}

    .mini{
      border-radius:16px;
      background:var(--card2);
      border:1px solid rgba(255,255,255,.12);
      padding:12px;
      box-shadow:0 18px 34px rgba(0,0,0,.35);
      margin-top:10px;
    }
    .svgbox{
      margin-top:10px;
      border-radius:16px;
      background:rgba(0,0,0,.20);
      border:1px solid rgba(255,255,255,.10);
      padding:10px;
      overflow:hidden;
    }

    .kbd{
      display:inline-block;
      padding:2px 7px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.25);
      color:rgba(242,242,242,.9);
      font-size:12px;
      line-height:1.2;
      font-weight:700;
    }

    .checklist{
      display:grid; gap:8px; margin-top:10px;
    }
    .check{
      display:flex; gap:10px; align-items:flex-start;
      padding:10px 10px;
      border-radius:14px;
      background:rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.10);
    }
    .check input{margin-top:3px}
    .check label{color:var(--muted); line-height:1.5; cursor:pointer}

    .quiz{
      margin-top:10px;
      border-radius:16px;
      background:rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.10);
      padding:12px;
    }
    .q{
      padding:10px;
      border-radius:14px;
      background:rgba(12,14,26,.55);
      border:1px solid rgba(255,255,255,.10);
      margin-bottom:10px;
    }
    .q:last-child{margin-bottom:0}
    .qtitle{margin:0 0 8px; color:rgba(242,242,242,.92); font-weight:800}
    .opt{display:flex; gap:10px; align-items:flex-start; margin:6px 0}
    .opt input{margin-top:3px}
    .opt span{color:var(--muted); line-height:1.45}

    .quizbar{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
      margin-top:10px;
    }
    .result{
      margin-top:10px;
      border-radius:16px;
      padding:12px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.20);
      color:var(--muted);
      line-height:1.55;
    }

    .doors{
      display:grid; grid-template-columns: repeat(12,1fr); gap:12px; margin-top:10px;
    }
    .doors a{grid-column: span 12}
    @media (min-width: 920px){ .doors a{grid-column: span 6} }
    .door{
      display:flex; gap:12px; align-items:flex-start;
      padding:14px; border-radius:16px;
      background:var(--card2);
      border:1px solid rgba(255,255,255,.12);
      box-shadow:0 18px 34px rgba(0,0,0,.35);
      transition: transform .15s ease, border-color .15s ease;
    }
    .door:hover{transform: translateY(-2px); border-color: rgba(212,175,55,.35)}
    .door svg{width:28px;height:28px; flex:0 0 auto; margin-top:2px}
    .door h3{margin:0 0 4px; font-size:16px; color:var(--text)}
    .door p{margin:0; font-size:14px}

    footer{margin-top:18px; color:rgba(255,255,255,.55); font-size:12px; text-align:center}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="topleft">
        <a class="crumb" href="./nft-basis.html" aria-label="Zur Kursbasis">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M10 6 4 12l6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M20 12H5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <span data-i18n="crumb_back">Zur Kursbasis</span>
        </a>

        <a class="crumb" href="../../index.html" aria-label="Zur Startseite">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M4 11.5 12 4l8 7.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M6.5 10.7V20h11V10.7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span data-i18n="crumb_home">Zur Startseite</span>
        </a>
      </div>

      <div class="lang">
        <button class="btn" id="langDE" type="button">DE</button>
        <button class="btn" id="langEN" type="button">EN</button>
      </div>
    </header>

    <section class="hero">
      <h1 data-i18n="hero_title">NFT Sicherheit – Gatekeeper</h1>
      <p data-i18n="hero_sub">
        Dieses Modul schützt dich vor den häufigsten NFT-Scams. Ziel ist nicht „Mut“, sondern ein System:
        bevor du klickst, musst du wissen, was du signierst – sonst bist du Beute.
      </p>
    </section>

    <div class="note" data-i18n="note_text">
      Hinweis: Bildung, keine Finanzberatung. In diesem Modul geht es um Selbstschutz: Links, Signaturen, Approvals, Fake-Mints, Social Engineering.
      Am Ende gibt es einen Selbsttest. Erst wenn du bestehst, gilt das Gate als „bestanden“ (lokal im Browser gespeichert).
    </div>

    <div class="statusrow">
      <div class="pill" id="gatePill">
        <svg viewBox="0 0 24 24" fill="none">
          <path d="M12 2l8 4v6c0 5-3.5 9.5-8 10-4.5-.5-8-5-8-10V6l8-4z" stroke="currentColor" stroke-width="2" opacity=".9"/>
          <path d="M12 11v4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M12 18h.01" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
        </svg>
        <span data-i18n="gate_status">Gate-Status:</span>
        <strong id="gateStatusText">—</strong>
      </div>

      <button class="btn danger" id="resetGate" type="button" data-i18n="reset_btn">Gate zurücksetzen</button>
      <button class="btn" id="copyRules" type="button" data-i18n="copy_btn">Regeln kopieren</button>
    </div>

    <nav class="chipnav" aria-label="Abschnitte">
      <a class="chip" href="#grundregeln">
        <svg viewBox="0 0 24 24" fill="none"><path d="M6 7h12v14H6z" stroke="currentColor" stroke-width="2"/><path d="M9 4h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        <span data-i18n="nav_rules">Grundregeln</span>
      </a>
      <a class="chip" href="#signaturen">
        <svg viewBox="0 0 24 24" fill="none"><path d="M4 12h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M12 4v16" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity=".6"/></svg>
        <span data-i18n="nav_sign">Signaturen & Approvals</span>
      </a>
      <a class="chip" href="#scams">
        <svg viewBox="0 0 24 24" fill="none"><path d="M12 2l10 18H2L12 2z" stroke="currentColor" stroke-width="2"/><path d="M12 9v4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M12 16h.01" stroke="currentColor" stroke-width="3" stroke-linecap="round"/></svg>
        <span data-i18n="nav_scams">Scam-Akten</span>
      </a>
      <a class="chip" href="#checklist">
        <svg viewBox="0 0 24 24" fill="none"><path d="M6 7h12v14H6z" stroke="currentColor" stroke-width="2"/><path d="M8.5 11l1.5 1.5L15.5 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8.5 16l1.5 1.5L15.5 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span data-i18n="nav_check">Checkliste</span>
      </a>
      <a class="chip" href="#quiz">
        <svg viewBox="0 0 24 24" fill="none"><path d="M7 3h10v4H7z" stroke="currentColor" stroke-width="2"/><path d="M6 7h12v14H6z" stroke="currentColor" stroke-width="2" opacity=".9"/><path d="M9 12h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        <span data-i18n="nav_quiz">Selbsttest</span>
      </a>
    </nav>

    <div class="grid">

      <section class="card c6" id="grundregeln">
        <h2 data-i18n="rules_title">1) Grundregeln (dein Sicherheits-Protokoll)</h2>
        <p data-i18n="rules_intro">
          Wenn du nur eine Sache aus NFTs mitnimmst: Die meisten Verluste passieren nicht durch „falsche Trades“,
          sondern durch falsche Klicks. Deshalb arbeitest du mit Regeln wie mit einem Sicherheitsgurt.
        </p>

        <div class="mini">
          <h3 data-i18n="rules_h3">Die 10 Regeln (kurz & brutal)</h3>
          <ul>
            <li data-i18n="r1">Seed Phrase niemals digital verschicken. Niemals. Kein Support braucht sie.</li>
            <li data-i18n="r2">Keine Links aus DMs anklicken (Discord/Twitter/Telegram).</li>
            <li data-i18n="r3">Immer Domain prüfen: Buchstabendreher sind eine typische Falle.</li>
            <li data-i18n="r4">Wenn Zeitdruck aufgebaut wird („nur 2 Minuten“), ist es fast immer Scam.</li>
            <li data-i18n="r5">Wallet trennen: eine Hot-Wallet für Aktionen, Cold-Wallet für Wert.</li>
            <li data-i18n="r6">Unbekannte Approvals sind Risiko: du gibst Rechte ab.</li>
            <li data-i18n="r7">Vor jedem Mint: offizielle Quelle verifizieren (Website/Ankündigung mehrfach prüfen).</li>
            <li data-i18n="r8">Bei Unsicherheit: abbrechen. Abbrechen ist eine Superkraft.</li>
            <li data-i18n="r9">Keine „Support“-Screenshares, keine Remote-Tools, keine QR-Scans aus DMs.</li>
            <li data-i18n="r10">Nie handeln oder minten, wenn du emotional bist (FOMO/Stress/Angst).</li>
          </ul>
        </div>
      </section>

      <section class="card c6">
        <h2 data-i18n="mindset_title">2) Das wichtigste Mindset</h2>
        <p data-i18n="mindset_p1">
          Scams sind selten „technisch genial“. Sie sind psychologisch gut: sie triggern Stress, Gier oder Autorität.
          Deshalb ist dein erster Schutz nicht das Tool – sondern deine Reaktion.
        </p>

        <div class="mini">
          <h3 data-i18n="mindset_h3">3 typische Hebel</h3>
          <ul>
            <li data-i18n="m1"><span class="kbd">Zeitdruck</span> („Mint endet gleich“)</li>
            <li data-i18n="m2"><span class="kbd">Autorität</span> („Ich bin Admin / Support“)</li>
            <li data-i18n="m3"><span class="kbd">Belohnung</span> („Airdrop nur für dich“)</li>
          </ul>
        </div>

        <div class="svgbox" aria-label="Grafik: Stress-Falle">
          <svg viewBox="0 0 820 210" width="100%" height="auto" role="img" aria-label="Stress führt zu Klick führt zu Signatur">
            <rect x="0" y="0" width="820" height="210" fill="rgba(0,0,0,.15)"/>
            <text x="16" y="28" fill="rgba(242,242,242,.85)" font-size="14" font-family="system-ui">Scam-Kette (psychologisch)</text>

            <rect x="16" y="54" width="240" height="52" rx="16" fill="rgba(255,209,102,.18)" stroke="rgba(255,209,102,.35)"/>
            <text x="32" y="84" fill="rgba(203,213,225,.95)" font-size="12" font-family="system-ui">Trigger (FOMO / Druck)</text>

            <rect x="290" y="54" width="240" height="52" rx="16" fill="rgba(255,255,255,.08)" stroke="rgba(255,255,255,.12)"/>
            <text x="306" y="84" fill="rgba(203,213,225,.95)" font-size="12" font-family="system-ui">Klick / Link / DM</text>

            <rect x="564" y="54" width="240" height="52" rx="16" fill="rgba(255,77,77,.14)" stroke="rgba(255,77,77,.35)"/>
            <text x="580" y="84" fill="rgba(203,213,225,.95)" font-size="12" font-family="system-ui">Signatur / Approval</text>

            <path d="M256 80h34" stroke="rgba(255,255,255,.25)" stroke-width="3" stroke-linecap="round"/>
            <path d="M530 80h34" stroke="rgba(255,255,255,.25)" stroke-width="3" stroke-linecap="round"/>
            <text x="16" y="146" fill="rgba(203,213,225,.9)" font-size="12" font-family="system-ui">Dein Schutz: Pause + prüfen + abbrechen.</text>
          </svg>
        </div>
      </section>

      <section class="card c12" id="signaturen">
        <h2 data-i18n="sign_title">3) Signaturen & Approvals (das gefährlichste Missverständnis)</h2>
        <p data-i18n="sign_p1">
          Viele denken: „Ich klicke nur auf OK.“ In Wirklichkeit unterschreibst du eine Anweisung. Bei NFTs ist das oft:
          „Diese Adresse darf ab jetzt meine Tokens bewegen.“ Das nennt man Approval. Wenn du einem Drainer zustimmst,
          kann er Assets abziehen – auch ohne dass du später noch einmal bestätigst.
        </p>

        <div class="grid" style="margin-top:10px">
          <div class="card c6" style="margin:0">
            <h3 data-i18n="sign_h3_a">Signatur (einfach)</h3>
            <p data-i18n="sign_a">
              Eine Signatur ist wie eine digitale Unterschrift. Sie bestätigt: „Ja, das bin ich, und ich stimme zu.“
              Signaturen werden missbraucht, wenn du nicht verstehst, wozu du zustimmst.
            </p>
          </div>
          <div class="card c6" style="margin:0">
            <h3 data-i18n="sign_h3_b">Approval (kritisch)</h3>
            <p data-i18n="sign_b">
              Ein Approval ist eine Erlaubnis. Du sagst: „Diese App/Adresse darf X tun.“ Das kann sinnvoll sein
              (z. B. Marktplatz), aber gefährlich, wenn die Adresse böse ist oder du unbegrenzt erlaubst.
            </p>
          </div>
        </div>

        <div class="svgbox" aria-label="Grafik: Approval erklärt">
          <svg viewBox="0 0 820 240" width="100%" height="auto" role="img" aria-label="Approval Flow">
            <rect x="0" y="0" width="820" height="240" fill="rgba(0,0,0,.15)"/>
            <text x="16" y="28" fill="rgba(242,242,242,.85)" font-size="14" font-family="system-ui">Approval-Logik (vereinfacht)</text>

            <rect x="16" y="55" width="245" height="52" rx="16" fill="rgba(28,194,160,.14)" stroke="rgba(28,194,160,.35)"/>
            <text x="32" y="85" fill="rgba(203,213,225,.95)" font-size="12" font-family="system-ui">Deine Wallet (Owner)</text>

            <rect x="287" y="55" width="245" height="52" rx="16" fill="rgba(255,255,255,.08)" stroke="rgba(255,255,255,.12)"/>
            <text x="303" y="85" fill="rgba(203,213,225,.95)" font-size="12" font-family="system-ui">Smart Contract</text>

            <rect x="559" y="55" width="245" height="52" rx="16" fill="rgba(255,77,77,.14)" stroke="rgba(255,77,77,.35)"/>
            <text x="575" y="85" fill="rgba(203,213,225,.95)" font-size="12" font-family="system-ui">Spender (darf bewegen)</text>

            <path d="M261 81h26" stroke="rgba(255,255,255,.25)" stroke-width="3" stroke-linecap="round"/>
            <path d="M532 81h27" stroke="rgba(255,255,255,.25)" stroke-width="3" stroke-linecap="round"/>

            <text x="16" y="140" fill="rgba(203,213,225,.9)" font-size="12" font-family="system-ui">Wenn du „unlimited“ erlaubst, kann der Spender später mehrfach handeln.</text>
            <text x="16" y="165" fill="rgba(203,213,225,.9)" font-size="12" font-family="system-ui">Sicherheitsregel: nur erlauben, was du verstehst — und regelmäßig prüfen.</text>
          </svg>
        </div>
      </section>

      <section class="card c12" id="scams">
        <h2 data-i18n="cases_title">4) Scam-Akten (Fallbeispiele, wie es wirklich abläuft)</h2>
        <p data-i18n="cases_intro">
          Lies diese Fälle wie eine Feuerwehrübung. Du willst nicht „mutig“ sein – du willst in der echten Situation
          automatisch richtig reagieren.
        </p>

        <div class="grid" style="margin-top:10px">
          <div class="card c6" style="margin:0">
            <h3 data-i18n="c1_t">Akte 1: Fake Mint Link</h3>
            <p data-i18n="c1_p">
              Du bekommst in Discord eine Nachricht: „Offizieller Mint ist live“. Der Link sieht echt aus, aber die Domain hat
              einen Buchstabendreher. Du connectest deine Wallet, klickst „Mint“, signierst – und plötzlich werden NFTs/Token abgezogen.
            </p>
            <div class="mini">
              <h3 data-i18n="c1_h">Dein Gegenmittel</h3>
              <ul>
                <li data-i18n="c1_l1">Keine DMs anklicken.</li>
                <li data-i18n="c1_l2">Link nur über offizielle Website/mehrere Quellen verifizieren.</li>
                <li data-i18n="c1_l3">Wenn du gestresst bist: abbrechen.</li>
              </ul>
            </div>
          </div>

          <div class="card c6" style="margin:0">
            <h3 data-i18n="c2_t">Akte 2: „Support“ will helfen</h3>
            <p data-i18n="c2_p">
              Jemand behauptet, er sei Support/Admin. Er bietet Screenshare an und will, dass du eine „Verifizierung“ machst.
              In Wahrheit führt er dich zu einer Signatur, die ihm Rechte gibt.
            </p>
            <div class="mini">
              <h3 data-i18n="c2_h">Dein Gegenmittel</h3>
              <ul>
                <li data-i18n="c2_l1">Support fragt niemals nach Seed Phrase.</li>
                <li data-i18n="c2_l2">Kein Screenshare/Remote-Tools.</li>
                <li data-i18n="c2_l3">Keine „Verifizierung“ über DMs.</li>
              </ul>
            </div>
          </div>

          <div class="card c6" style="margin:0">
            <h3 data-i18n="c3_t">Akte 3: Airdrop/Free Mint</h3>
            <p data-i18n="c3_p">
              Du siehst „Du hast einen Airdrop!“ und eine Seite, die deine Wallet verbinden will. Oft steckt ein Drainer dahinter:
              du signierst „nur kurz“ und gibst Rechte ab.
            </p>
            <div class="mini">
              <h3 data-i18n="c3_h">Dein Gegenmittel</h3>
              <ul>
                <li data-i18n="c3_l1">Kostenlos ist oft das teuerste.</li>
                <li data-i18n="c3_l2">Nur interagieren, wenn Quelle sicher ist.</li>
                <li data-i18n="c3_l3">Wenn unklar: ignorieren.</li>
              </ul>
            </div>
          </div>

          <div class="card c6" style="margin:0">
            <h3 data-i18n="c4_t">Akte 4: Wallet-Drainer nach „Connect“</h3>
            <p data-i18n="c4_p">
              Manche Seiten sehen aus wie Marktplätze, aber sie wollen kein „Login“ – sie wollen eine Signatur.
              Sobald du zustimmst, kann das System deine Assets bewegen.
            </p>
            <div class="mini">
              <h3 data-i18n="c4_h">Dein Gegenmittel</h3>
              <ul>
                <li data-i18n="c4_l1">Connect ist nicht harmlos, wenn direkt danach eine Signatur kommt.</li>
                <li data-i18n="c4_l2">Domain & Quelle prüfen, sonst abbrechen.</li>
                <li data-i18n="c4_l3">Hot/Cold Trennung konsequent.</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <section class="card c12" id="checklist">
        <h2 data-i18n="cl_title">5) Checkliste vor JEDEM Klick</h2>
        <p data-i18n="cl_intro">
          Diese Checkliste ist dafür da, dass du nicht raten musst. Wenn du 2 Punkte nicht sicher beantworten kannst:
          nicht klicken.
        </p>

        <div class="checklist" id="checklistBox">
          <div class="check">
            <input type="checkbox" id="cl1" />
            <label for="cl1" data-i18n="cl1">Quelle geprüft: Link kommt nicht aus DM, Domain stimmt zu 100%.</label>
          </div>
          <div class="check">
            <input type="checkbox" id="cl2" />
            <label for="cl2" data-i18n="cl2">Ich bin ruhig: kein Stress, kein Zeitdruck, keine FOMO.</label>
          </div>
          <div class="check">
            <input type="checkbox" id="cl3" />
            <label for="cl3" data-i18n="cl3">Ich verstehe, warum ich connecten soll – und was danach passiert.</label>
          </div>
          <div class="check">
            <input type="checkbox" id="cl4" />
            <label for="cl4" data-i18n="cl4">Ich prüfe: Signatur/Approval ist nachvollziehbar (kein „unlimited“ blind).</label>
          </div>
          <div class="check">
            <input type="checkbox" id="cl5" />
            <label for="cl5" data-i18n="cl5">Wert liegt nicht auf der Hot-Wallet (Hot/Cold getrennt).</label>
          </div>
        </div>

        <div class="mini">
          <h3 data-i18n="cl_h3">Souveränitäts-Satz</h3>
          <p data-i18n="cl_phrase">
            „Wenn ich es nicht verstehe, unterschreibe ich es nicht.“
          </p>
        </div>
      </section>

      <section class="card c12" id="quiz">
        <h2 data-i18n="quiz_title">6) Selbsttest (Gate) – Bestehen ab 8/10</h2>
        <p data-i18n="quiz_intro">
          Dieser Test ist bewusst praxisnah. Du brauchst keine Technik-Wörter, sondern klare Entscheidungen.
          Ergebnis wird nur lokal in deinem Browser gespeichert.
        </p>

        <div class="quiz" id="quizBox"></div>

        <div class="quizbar">
          <button class="btn ok" id="gradeBtn" type="button" data-i18n="grade_btn">Test auswerten</button>
          <button class="btn" id="clearQuiz" type="button" data-i18n="clear_btn">Antworten löschen</button>
        </div>

        <div class="result" id="resultBox" aria-live="polite"></div>
      </section>

      <section class="card c12">
        <h2 data-i18n="next_title">Weiter nach dem Gate</h2>
        <p data-i18n="next_sub">Wenn du bestanden hast: als nächstes Analyse (Scorecards) und Praxis ohne Geld.</p>

        <div class="doors">
          <a class="door" href="./nft-analyse.html">
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M4 19V5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M7 17l4-5 3 3 6-8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div>
              <h3 data-i18n="d1_t">Analyse (Modul 3)</h3>
              <p data-i18n="d1_s">Scorecards, Liquidität, Holder-Qualität, Ampel-Prinzip – nüchtern prüfen.</p>
            </div>
          </a>

          <a class="door" href="./nft-praxis-ohne-geld.html">
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M6 7h12v14H6z" stroke="currentColor" stroke-width="2"/>
              <path d="M9 11h6M9 14h6M9 17h4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <div>
              <h3 data-i18n="d2_t">Praxis ohne Geld</h3>
              <p data-i18n="d2_s">Shadow-Trading, Fee-Training, Explorer-Analyse – Kompetenz ohne Kapitalrisiko.</p>
            </div>
          </a>
        </div>
      </section>

    </div>

    <footer>
      <span data-i18n="footer_text">FSA Akademie – Lernen mit Realitätssinn, ohne Hype. Keine Finanzberatung.</span>
    </footer>
  </div>

  <script>
    const STORAGE_LANG = "fsa_lang";
    const STORAGE_GATE = "nft_gate_security_passed_v1";

    const I18N = {
      crumb_back:{de:"Zur Kursbasis",en:"Back to course base"},
      crumb_home:{de:"Zur Startseite",en:"Back to home"},

      hero_title:{de:"NFT Sicherheit – Gatekeeper",en:"NFT Security — Gatekeeper"},
      hero_sub:{de:"Dieses Modul schützt dich vor den häufigsten NFT-Scams. Ziel ist nicht „Mut“, sondern ein System: bevor du klickst, musst du wissen, was du signierst – sonst bist du Beute.",
                en:"This module protects you from common NFT scams. The goal is not 'bravery' but a system: before you click, you must know what you sign — otherwise you're prey."},
      note_text:{de:"Hinweis: Bildung, keine Finanzberatung. In diesem Modul geht es um Selbstschutz: Links, Signaturen, Approvals, Fake-Mints, Social Engineering. Am Ende gibt es einen Selbsttest. Erst wenn du bestehst, gilt das Gate als „bestanden“ (lokal im Browser gespeichert).",
                 en:"Note: educational only, not financial advice. This module is about self-protection: links, signatures, approvals, fake mints, social engineering. At the end there is a self-test. Only if you pass, the gate is marked as passed (stored locally in your browser)."},
      gate_status:{de:"Gate-Status:",en:"Gate status:"},
      reset_btn:{de:"Gate zurücksetzen",en:"Reset gate"},
      copy_btn:{de:"Regeln kopieren",en:"Copy rules"},

      nav_rules:{de:"Grundregeln",en:"Core rules"},
      nav_sign:{de:"Signaturen & Approvals",en:"Signatures & approvals"},
      nav_scams:{de:"Scam-Akten",en:"Scam cases"},
      nav_check:{de:"Checkliste",en:"Checklist"},
      nav_quiz:{de:"Selbsttest",en:"Self-test"},

      rules_title:{de:"1) Grundregeln (dein Sicherheits-Protokoll)",en:"1) Core rules (your security protocol)"},
      rules_intro:{de:"Wenn du nur eine Sache aus NFTs mitnimmst: Die meisten Verluste passieren nicht durch „falsche Trades“, sondern durch falsche Klicks. Deshalb arbeitest du mit Regeln wie mit einem Sicherheitsgurt.",
                  en:"If you take one thing from NFTs: most losses don't happen from 'bad trades' but from bad clicks. That's why you use rules like a seatbelt."},
      rules_h3:{de:"Die 10 Regeln (kurz & brutal)",en:"The 10 rules (short & brutal)"},
      r1:{de:"Seed Phrase niemals digital verschicken. Niemals. Kein Support braucht sie.",en:"Never send your seed phrase digitally. Never. No support needs it."},
      r2:{de:"Keine Links aus DMs anklicken (Discord/Twitter/Telegram).",en:"Never click links from DMs (Discord/Twitter/Telegram)."},
      r3:{de:"Immer Domain prüfen: Buchstabendreher sind eine typische Falle.",en:"Always check the domain: typos are a common trap."},
      r4:{de:"Wenn Zeitdruck aufgebaut wird („nur 2 Minuten“), ist es fast immer Scam.",en:"If they create time pressure ('only 2 minutes'), it's almost always a scam."},
      r5:{de:"Wallet trennen: eine Hot-Wallet für Aktionen, Cold-Wallet für Wert.",en:"Separate wallets: hot wallet for actions, cold wallet for value."},
      r6:{de:"Unbekannte Approvals sind Risiko: du gibst Rechte ab.",en:"Unknown approvals are risk: you grant permissions."},
      r7:{de:"Vor jedem Mint: offizielle Quelle verifizieren (Website/Ankündigung mehrfach prüfen).",en:"Before any mint: verify official sources (double-check website/announcements)."},
      r8:{de:"Bei Unsicherheit: abbrechen. Abbrechen ist eine Superkraft.",en:"If unsure: abort. Aborting is a superpower."},
      r9:{de:"Keine „Support“-Screenshares, keine Remote-Tools, keine QR-Scans aus DMs.",en:"No 'support' screen shares, no remote tools, no QR scans from DMs."},
      r10:{de:"Nie handeln oder minten, wenn du emotional bist (FOMO/Stress/Angst).",en:"Never trade or mint when emotional (FOMO/stress/fear)."},

      mindset_title:{de:"2) Das wichtigste Mindset",en:"2) The most important mindset"},
      mindset_p1:{de:"Scams sind selten „technisch genial“. Sie sind psychologisch gut: sie triggern Stress, Gier oder Autorität. Deshalb ist dein erster Schutz nicht das Tool – sondern deine Reaktion.",
                  en:"Scams are rarely 'technically genius'. They are psychologically good: they trigger stress, greed, or authority. So your first protection isn't a tool — it's your reaction."},
      mindset_h3:{de:"3 typische Hebel",en:"3 common levers"},
      m1:{de:"Zeitdruck („Mint endet gleich“)",en:"Time pressure ('mint ends soon')"},
      m2:{de:"Autorität („Ich bin Admin / Support“)",en:"Authority ('I'm admin/support')"},
      m3:{de:"Belohnung („Airdrop nur für dich“)",en:"Reward ('airdrop just for you')"},

      sign_title:{de:"3) Signaturen & Approvals (das gefährlichste Missverständnis)",en:"3) Signatures & approvals (the most dangerous misunderstanding)"},
      sign_p1:{de:"Viele denken: „Ich klicke nur auf OK.“ In Wirklichkeit unterschreibst du eine Anweisung. Bei NFTs ist das oft: „Diese Adresse darf ab jetzt meine Tokens bewegen.“ Das nennt man Approval. Wenn du einem Drainer zustimmst, kann er Assets abziehen – auch ohne dass du später noch einmal bestätigst.",
               en:"Many think: 'I just click OK.' In reality you're signing an instruction. In NFTs it's often: 'This address may move my tokens from now on.' That's an approval. If you approve a drainer, it can drain assets — even without further confirmation later."},
      sign_h3_a:{de:"Signatur (einfach)",en:"Signature (simple)"},
      sign_a:{de:"Eine Signatur ist wie eine digitale Unterschrift. Sie bestätigt: „Ja, das bin ich, und ich stimme zu.“ Signaturen werden missbraucht, wenn du nicht verstehst, wozu du zustimmst.",
              en:"A signature is like a digital autograph. It confirms: 'Yes, that's me, and I agree.' Signatures are abused when you don't understand what you're agreeing to."},
      sign_h3_b:{de:"Approval (kritisch)",en:"Approval (critical)"},
      sign_b:{de:"Ein Approval ist eine Erlaubnis. Du sagst: „Diese App/Adresse darf X tun.“ Das kann sinnvoll sein (z. B. Marktplatz), aber gefährlich, wenn die Adresse böse ist oder du unbegrenzt erlaubst.",
              en:"An approval is permission. You say: 'This app/address may do X.' It can be useful (e.g., marketplace), but dangerous if the address is malicious or you allow unlimited access."},

      cases_title:{de:"4) Scam-Akten (Fallbeispiele, wie es wirklich abläuft)",en:"4) Scam cases (how it really happens)"},
      cases_intro:{de:"Lies diese Fälle wie eine Feuerwehrübung. Du willst nicht „mutig“ sein – du willst in der echten Situation automatisch richtig reagieren.",
                   en:"Read these cases like a fire drill. You don't want to be 'brave' — you want to react correctly automatically in a real situation."},
      c1_t:{de:"Akte 1: Fake Mint Link",en:"Case 1: Fake mint link"},
      c1_p:{de:"Du bekommst in Discord eine Nachricht: „Offizieller Mint ist live“. Der Link sieht echt aus, aber die Domain hat einen Buchstabendreher. Du connectest deine Wallet, klickst „Mint“, signierst – und plötzlich werden NFTs/Token abgezogen.",
            en:"You get a Discord message: 'Official mint is live'. The link looks real, but the domain has a typo. You connect, click 'mint', sign — and suddenly NFTs/tokens get drained."},
      c1_h:{de:"Dein Gegenmittel",en:"Your countermeasure"},
      c1_l1:{de:"Keine DMs anklicken.",en:"Don't click DMs."},
      c1_l2:{de:"Link nur über offizielle Website/mehrere Quellen verifizieren.",en:"Verify via official website/multiple sources."},
      c1_l3:{de:"Wenn du gestresst bist: abbrechen.",en:"If stressed: abort."},

      c2_t:{de:"Akte 2: „Support“ will helfen",en:"Case 2: 'Support' wants to help"},
      c2_p:{de:"Jemand behauptet, er sei Support/Admin. Er bietet Screenshare an und will, dass du eine „Verifizierung“ machst. In Wahrheit führt er dich zu einer Signatur, die ihm Rechte gibt.",
            en:"Someone claims to be admin/support. They offer screenshare and want you to 'verify'. In reality they lead you to a signature that grants them permissions."},
      c2_h:{de:"Dein Gegenmittel",en:"Your countermeasure"},
      c2_l1:{de:"Support fragt niemals nach Seed Phrase.",en:"Support never asks for seed phrase."},
      c2_l2:{de:"Kein Screenshare/Remote-Tools.",en:"No screenshare/remote tools."},
      c2_l3:{de:"Keine „Verifizierung“ über DMs.",en:"No 'verification' via DMs."},

      c3_t:{de:"Akte 3: Airdrop/Free Mint",en:"Case 3: Airdrop/free mint"},
      c3_p:{de:"Du siehst „Du hast einen Airdrop!“ und eine Seite, die deine Wallet verbinden will. Oft steckt ein Drainer dahinter: du signierst „nur kurz“ und gibst Rechte ab.",
            en:"You see 'You received an airdrop!' and a site asking to connect. Often it's a drainer: you sign 'quickly' and grant permissions."},
      c3_h:{de:"Dein Gegenmittel",en:"Your countermeasure"},
      c3_l1:{de:"Kostenlos ist oft das teuerste.",en:"Free is often the most expensive."},
      c3_l2:{de:"Nur interagieren, wenn Quelle sicher ist.",en:"Interact only if the source is trusted."},
      c3_l3:{de:"Wenn unklar: ignorieren.",en:"If unclear: ignore."},

      c4_t:{de:"Akte 4: Wallet-Drainer nach „Connect“",en:"Case 4: Drainer after 'connect'"},
      c4_p:{de:"Manche Seiten sehen aus wie Marktplätze, aber sie wollen kein „Login“ – sie wollen eine Signatur. Sobald du zustimmst, kann das System deine Assets bewegen.",
            en:"Some sites look like marketplaces, but they don't want a 'login' — they want a signature. Once you agree, it can move your assets."},
      c4_h:{de:"Dein Gegenmittel",en:"Your countermeasure"},
      c4_l1:{de:"Connect ist nicht harmlos, wenn direkt danach eine Signatur kommt.",en:"Connect isn't harmless if a signature follows immediately."},
      c4_l2:{de:"Domain & Quelle prüfen, sonst abbrechen.",en:"Check domain & source, otherwise abort."},
      c4_l3:{de:"Hot/Cold Trennung konsequent.",en:"Be strict with hot/cold separation."},

      cl_title:{de:"5) Checkliste vor JEDEM Klick",en:"5) Checklist before EVERY click"},
      cl_intro:{de:"Diese Checkliste ist dafür da, dass du nicht raten musst. Wenn du 2 Punkte nicht sicher beantworten kannst: nicht klicken.",
               en:"This checklist prevents guessing. If you can't confidently answer 2 items: don't click."},
      cl1:{de:"Quelle geprüft: Link kommt nicht aus DM, Domain stimmt zu 100%.",en:"Source verified: not from DM, domain is 100% correct."},
      cl2:{de:"Ich bin ruhig: kein Stress, kein Zeitdruck, keine FOMO.",en:"I'm calm: no stress, no time pressure, no FOMO."},
      cl3:{de:"Ich verstehe, warum ich connecten soll – und was danach passiert.",en:"I understand why I should connect — and what happens next."},
      cl4:{de:"Ich prüfe: Signatur/Approval ist nachvollziehbar (kein „unlimited“ blind).",en:"I check: signature/approval makes sense (no blind 'unlimited')."},
      cl5:{de:"Wert liegt nicht auf der Hot-Wallet (Hot/Cold getrennt).",en:"Value is not on the hot wallet (hot/cold separated)."},
      cl_h3:{de:"Souveränitäts-Satz",en:"Sovereignty sentence"},
      cl_phrase:{de:"„Wenn ich es nicht verstehe, unterschreibe ich es nicht.“",en:"'If I don't understand it, I don't sign it.'"},

      quiz_title:{de:"6) Selbsttest (Gate) – Bestehen ab 8/10",en:"6) Self-test (Gate) — pass with 8/10"},
      quiz_intro:{de:"Dieser Test ist bewusst praxisnah. Du brauchst keine Technik-Wörter, sondern klare Entscheidungen. Ergebnis wird nur lokal in deinem Browser gespeichert.",
                  en:"This test is practice-based. You don't need tech jargon — you need clear decisions. Result is stored locally in your browser only."},
      grade_btn:{de:"Test auswerten",en:"Grade test"},
      clear_btn:{de:"Antworten löschen",en:"Clear answers"},

      next_title:{de:"Weiter nach dem Gate",en:"Next after the gate"},
      next_sub:{de:"Wenn du bestanden hast: als nächstes Analyse (Scorecards) und Praxis ohne Geld.",en:"If you passed: next is Analysis (scorecards) and Practice without money."},
      d1_t:{de:"Analyse (Modul 3)",en:"Analysis (Module 3)"},
      d1_s:{de:"Scorecards, Liquidität, Holder-Qualität, Ampel-Prinzip – nüchtern prüfen.",en:"Scorecards, liquidity, holder quality, traffic-light method — evaluate soberly."},
      d2_t:{de:"Praxis ohne Geld",en:"Practice without money"},
      d2_s:{de:"Shadow-Trading, Fee-Training, Explorer-Analyse – Kompetenz ohne Kapitalrisiko.",en:"Shadow trading, fee training, explorer analysis — competence without capital risk."},

      footer_text:{de:"FSA Akademie – Lernen mit Realitätssinn, ohne Hype. Keine Finanzberatung.",
                  en:"FSA Academy — learn with realism, without hype. No financial advice."},

      gate_passed:{de:"BESTANDEN",en:"PASSED"},
      gate_notpassed:{de:"NICHT BESTANDEN",en:"NOT PASSED"}
    };

    const QUIZ = [
      {
        key:"q1",
        q:{de:"Du bekommst einen Mint-Link per DM. Was ist die beste Reaktion?",en:"You receive a mint link via DM. Best response?"},
        a:[
          {de:"Klicken, weil man sonst den Mint verpasst.",en:"Click so you don't miss the mint."},
          {de:"Ignorieren und nur über offizielle Quellen prüfen.",en:"Ignore and verify only via official sources."},
          {de:"Erst Wallet connecten, dann prüfen.",en:"Connect wallet first, then check."}
        ],
        correct:1
      },
      {
        key:"q2",
        q:{de:"Wofür steht ein Approval am ehesten?",en:"What does an approval most closely mean?"},
        a:[
          {de:"Eine Erlaubnis, dass eine Adresse Tokens bewegen darf.",en:"Permission for an address to move tokens."},
          {de:"Eine Nachricht an den Marktplatz, die man nicht rückgängig machen kann.",en:"A message to the marketplace you cannot undo."},
          {de:"Nur ein Login, ohne Risiko.",en:"Just a login, no risk."}
        ],
        correct:0
      },
      {
        key:"q3",
        q:{de:"Welche Aussage ist am sichersten?",en:"Which statement is safest?"},
        a:[
          {de:"Wenn es kostenlos ist, ist es sicher.",en:"If it's free, it's safe."},
          {de:"Wenn Zeitdruck da ist, mache ich besonders langsam und prüfe.",en:"If there is time pressure, I slow down and verify."},
          {de:"Admins schreiben immer zuerst per DM.",en:"Admins always DM first."}
        ],
        correct:1
      },
      {
        key:"q4",
        q:{de:"Woran erkennst du oft Fake-Domains?",en:"How do you often spot fake domains?"},
        a:[
          {de:"Sie benutzen häufig Buchstabendreher/ähnliche Zeichen.",en:"They often use typos/similar characters."},
          {de:"Sie sind immer viel länger als echte Domains.",en:"They are always much longer than real domains."},
          {de:"Sie haben nie https.",en:"They never have https."}
        ],
        correct:0
      },
      {
        key:"q5",
        q:{de:"Warum ist Hot/Cold Trennung sinnvoll?",en:"Why is hot/cold separation useful?"},
        a:[
          {de:"Damit ein Klick-Fehler nicht dein gesamtes Vermögen trifft.",en:"So a click mistake doesn't hit your entire value."},
          {de:"Damit du schneller minten kannst.",en:"So you can mint faster."},
          {de:"Damit du weniger Gebühren zahlst.",en:"So you pay fewer fees."}
        ],
        correct:0
      },
      {
        key:"q6",
        q:{de:"Jemand bietet Screenshare-Support an und will, dass du „verifizierst“. Was tust du?",en:"Someone offers screenshare support and wants you to 'verify'. What do you do?"},
        a:[
          {de:"Mitmachen, weil Support helfen will.",en:"Do it because support wants to help."},
          {de:"Ablehnen, Gespräch beenden, offiziell prüfen.",en:"Decline, end chat, verify officially."},
          {de:"Seed Phrase zur Prüfung schicken.",en:"Send seed phrase for verification."}
        ],
        correct:1
      },
      {
        key:"q7",
        q:{de:"Du bist gestresst und hast Angst etwas zu verpassen. Was ist die souveräne Handlung?",en:"You are stressed and fear missing out. What's the sovereign action?"},
        a:[
          {de:"Trotzdem schnell handeln, sonst ist die Chance weg.",en:"Act quickly anyway so you don't miss it."},
          {de:"Pause. Erst wenn du ruhig bist, überhaupt entscheiden.",en:"Pause. Decide only when calm."},
          {de:"Freund fragen und dann sofort klicken.",en:"Ask a friend then click immediately."}
        ],
        correct:1
      },
      {
        key:"q8",
        q:{de:"Was ist eine starke Regel bei Unklarheit?",en:"What's a strong rule when unclear?"},
        a:[
          {de:"Ich unterschreibe es trotzdem, sonst lerne ich nie.",en:"I sign anyway, otherwise I never learn."},
          {de:"Ich breche ab. Abbrechen ist okay.",en:"I abort. Aborting is ok."},
          {de:"Ich mache es nur mit kleinerer Summe.",en:"I do it with a smaller amount."}
        ],
        correct:1
      },
      {
        key:"q9",
        q:{de:"Was ist die größte Gefahr bei 'unlimited' Approvals?",en:"What is the biggest danger of 'unlimited' approvals?"},
        a:[
          {de:"Dass du später keine NFTs mehr kaufen kannst.",en:"You won't be able to buy NFTs later."},
          {de:"Dass die erlaubte Adresse später mehrfach Assets bewegen kann.",en:"The allowed address can move assets multiple times later."},
          {de:"Dass deine Wallet-Adresse sich ändert.",en:"Your wallet address changes."}
        ],
        correct:1
      },
      {
        key:"q10",
        q:{de:"Welche Reihenfolge ist am sinnvollsten?",en:"Which sequence is most sensible?"},
        a:[
          {de:"Klicken → signieren → danach prüfen.",en:"Click → sign → check afterwards."},
          {de:"Prüfen → ruhig werden → dann erst handeln.",en:"Verify → become calm → then act."},
          {de:"DM lesen → sofort minten.",en:"Read DM → mint immediately."}
        ],
        correct:1
      }
    ];

    const $ = (s, r=document) => r.querySelector(s);

    function setLang(lang){
      localStorage.setItem(STORAGE_LANG, lang);
      $("#langDE").classList.toggle("active", lang==="de");
      $("#langEN").classList.toggle("active", lang==="en");
      document.documentElement.lang = lang;

      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const key = el.getAttribute("data-i18n");
        const val = I18N[key] ? I18N[key][lang] : null;
        if(val !== null && val !== undefined) el.innerHTML = val;
      });

      document.title = (lang==="de")
        ? "NFT Handel – Sicherheit (Modul 2 Gate) | FSA Akademie"
        : "NFT Trading – Security (Module 2 Gate) | FSA Academy";

      renderQuiz(lang);
      refreshGatePill(lang);
    }

    function renderQuiz(lang){
      const box = $("#quizBox");
      box.innerHTML = "";
      QUIZ.forEach((item, idx)=>{
        const qWrap = document.createElement("div");
        qWrap.className = "q";
        const title = document.createElement("div");
        title.className = "qtitle";
        title.textContent = (idx+1) + ") " + item.q[lang];
        qWrap.appendChild(title);

        item.a.forEach((opt, oidx)=>{
          const line = document.createElement("label");
          line.className = "opt";
          const input = document.createElement("input");
          input.type = "radio";
          input.name = item.key;
          input.value = String(oidx);
          const span = document.createElement("span");
          span.textContent = opt[lang];
          line.appendChild(input);
          line.appendChild(span);
          qWrap.appendChild(line);
        });

        box.appendChild(qWrap);
      });

      // Restore saved answers if present (optional)
      const saved = safeParse(localStorage.getItem("nft_gate_quiz_answers_v1")) || {};
      Object.keys(saved).forEach(k=>{
        const v = saved[k];
        const el = document.querySelector(`input[name="${k}"][value="${v}"]`);
        if(el) el.checked = true;
      });

      box.addEventListener("change", ()=>{
        saveQuizAnswers();
      }, { once:false });
    }

    function saveQuizAnswers(){
      const ans = {};
      QUIZ.forEach(item=>{
        const sel = document.querySelector(`input[name="${item.key}"]:checked`);
        if(sel) ans[item.key] = sel.value;
      });
      localStorage.setItem("nft_gate_quiz_answers_v1", JSON.stringify(ans));
    }

    function safeParse(s){
      try{return JSON.parse(s)}catch(e){return null}
    }

    function grade(lang){
      const answers = safeParse(localStorage.getItem("nft_gate_quiz_answers_v1")) || {};
      let score = 0;
      let answered = 0;

      QUIZ.forEach(item=>{
        if(answers[item.key] !== undefined){
          answered++;
          if(Number(answers[item.key]) === item.correct) score++;
        }
      });

      const pass = (score >= 8) && (answered === QUIZ.length);
      localStorage.setItem(STORAGE_GATE, pass ? "1" : "0");

      const msg = [];
      msg.push(`<strong>${score}/10</strong>`);
      if(answered < QUIZ.length){
        msg.push(lang==="de"
          ? `Du hast nur ${answered}/10 Fragen beantwortet. Bitte alle beantworten.`
          : `You answered only ${answered}/10 questions. Please answer all.`);
      } else {
        msg.push(pass
          ? (lang==="de" ? "Gate: <strong>BESTANDEN</strong>. Du hast die Basis-Schutzlogik verstanden." : "Gate: <strong>PASSED</strong>. You understood the core protection logic.")
          : (lang==="de" ? "Gate: <strong>NICHT BESTANDEN</strong>. Lies die Fälle nochmal und wiederhole." : "Gate: <strong>NOT PASSED</strong>. Re-read the cases and retry."));
      }

      $("#resultBox").innerHTML = msg.join("<br>");
      refreshGatePill(lang);
    }

    function refreshGatePill(lang){
      const val = localStorage.getItem(STORAGE_GATE);
      const pill = $("#gatePill");
      const txt = $("#gateStatusText");

      pill.classList.remove("ok","warn","danger");

      if(val === "1"){
        pill.classList.add("ok");
        txt.textContent = I18N.gate_passed[lang];
      } else if(val === "0"){
        pill.classList.add("danger");
        txt.textContent = I18N.gate_notpassed[lang];
      } else {
        pill.classList.add("warn");
        txt.textContent = "—";
      }
    }

    function resetGate(){
      localStorage.removeItem(STORAGE_GATE);
      localStorage.removeItem("nft_gate_quiz_answers_v1");
      document.querySelectorAll("#quizBox input[type='radio']").forEach(i=>i.checked=false);
      $("#resultBox").textContent = "";
      refreshGatePill(localStorage.getItem(STORAGE_LANG) || "de");
    }

    function copyRules(lang){
      const rules = [
        lang==="de" ? "NFT Sicherheits-Protokoll (10 Regeln)" : "NFT Security Protocol (10 Rules)",
        lang==="de" ? "1) Seed Phrase niemals digital verschicken." : "1) Never send seed phrase digitally.",
        lang==="de" ? "2) Keine Links aus DMs anklicken." : "2) Don't click links from DMs.",
        lang==="de" ? "3) Domain prüfen (Typos!)." : "3) Check domain (typos!).",
        lang==="de" ? "4) Zeitdruck = Alarm." : "4) Time pressure = alarm.",
        lang==="de" ? "5) Hot/Cold trennen." : "5) Separate hot/cold wallets.",
        lang==="de" ? "6) Approvals sind Rechte: nur was du verstehst." : "6) Approvals are permissions: only what you understand.",
        lang==="de" ? "7) Mint-Quelle mehrfach verifizieren." : "7) Verify mint sources multiple times.",
        lang==="de" ? "8) Bei Unsicherheit: abbrechen." : "8) If unsure: abort.",
        lang==="de" ? "9) Kein Screenshare/Remote-Support." : "9) No screenshare/remote support.",
        lang==="de" ? "10) Nie handeln, wenn emotional." : "10) Never act when emotional."
      ].join("\n");

      if(navigator.clipboard && navigator.clipboard.writeText){
        navigator.clipboard.writeText(rules).then(()=>{
          $("#resultBox").innerHTML = lang==="de" ? "Regeln wurden kopiert." : "Rules copied.";
        }).catch(()=>{
          $("#resultBox").innerHTML = lang==="de" ? "Kopieren nicht möglich (Browser). Markiere den Text manuell." : "Copy not available (browser). Please select manually.";
        });
      } else {
        $("#resultBox").innerHTML = lang==="de" ? "Kopieren nicht möglich (Browser). Markiere den Text manuell." : "Copy not available (browser). Please select manually.";
      }
    }

    $("#langDE").addEventListener("click", ()=>setLang("de"));
    $("#langEN").addEventListener("click", ()=>setLang("en"));
    $("#gradeBtn").addEventListener("click", ()=>grade(localStorage.getItem(STORAGE_LANG) || "de"));
    $("#clearQuiz").addEventListener("click", ()=>{
      localStorage.removeItem("nft_gate_quiz_answers_v1");
      document.querySelectorAll("#quizBox input[type='radio']").forEach(i=>i.checked=false);
      $("#resultBox").textContent = "";
    });
    $("#resetGate").addEventListener("click", resetGate);
    $("#copyRules").addEventListener("click", ()=>copyRules(localStorage.getItem(STORAGE_LANG) || "de"));

    setLang(localStorage.getItem(STORAGE_LANG) || "de");
  </script>
</body>
</html>
