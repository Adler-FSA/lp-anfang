<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NFT Handel – Praxis ohne Geld | FSA Akademie</title>
  <meta name="description" content="NFT Praxis ohne Geld: Shadow-Trading, Fee-Training, Explorer-Analyse. Journaling und Selbstdisziplin, lokal gespeichert." />
  <style>
    :root{
      --bg0:#05060a;
      --bg1:#070a12;
      --card: rgba(10,10,20,.66);
      --card2: rgba(12,14,26,.72);
      --text:#f2f2f2;
      --muted:#cbd5e1;
      --gold:#d4af37;
      --turq:#1cc2a0;
      --danger:#ff4d4d;
      --ok:#3ddc97;
      --warn:#ffd166;
      --shadow:0 26px 50px rgba(0,0,0,.55);
      --glow:0 0 26px rgba(212,175,55,.28), 0 10px 28px rgba(0,0,0,.55);
      --radius:16px;
      --maxw:1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(212,175,55,.10), transparent 60%),
        radial-gradient(900px 520px at 80% 15%, rgba(28,194,160,.10), transparent 58%),
        radial-gradient(900px 520px at 40% 95%, rgba(212,175,55,.08), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }
    a{color:inherit; text-decoration:none}
    .wrap{max-width:var(--maxw); margin:0 auto; padding:22px 16px 86px}
    header{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; margin-bottom:16px; flex-wrap:wrap;
    }
    .topleft{display:flex; align-items:center; gap:10px; flex-wrap:wrap}
    .crumb{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px; border-radius:999px;
      background:rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.10);
      box-shadow:0 10px 18px rgba(0,0,0,.25);
    }
    .crumb svg{width:18px;height:18px;opacity:.9}
    .crumb span{font-size:14px; color:var(--muted)}
    .lang{display:flex; gap:8px; align-items:center}
    .btn{
      appearance:none; border:none; cursor:pointer;
      padding:10px 12px; border-radius:12px;
      background:rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.12);
      color:var(--text);
      box-shadow:0 12px 22px rgba(0,0,0,.28);
      font-weight:700;
      letter-spacing:.2px;
      transition: transform .15s ease, border-color .15s ease, background .15s ease;
    }
    .btn:hover{transform: translateY(-1px); border-color: rgba(212,175,55,.35)}
    .btn.active{border-color: rgba(28,194,160,.55); background: rgba(28,194,160,.10)}
    .btn.danger{border-color: rgba(255,77,77,.45)}
    .btn.danger:hover{border-color: rgba(255,77,77,.75)}
    .btn.ok{border-color: rgba(61,220,151,.45)}
    .btn.ok:hover{border-color: rgba(61,220,151,.75)}

    .hero{
      border-radius:22px;
      background: linear-gradient(135deg, rgba(212,175,55,.14), rgba(28,194,160,.10));
      border:1px solid rgba(255,255,255,.14);
      box-shadow: var(--glow);
      padding:18px 16px;
      margin-bottom:12px;
    }
    .hero h1{margin:0 0 6px; font-size:28px; line-height:1.15}
    .hero p{margin:0; color:var(--muted); max-width:980px; line-height:1.55}
    .note{
      padding:12px 12px;
      border-radius:16px;
      background:rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.10);
      color:var(--muted);
      margin-bottom:12px;
      line-height:1.55;
    }

    .chipnav{display:flex; flex-wrap:wrap; gap:8px; margin:10px 0 14px}
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px;
      border-radius:999px;
      background:rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.10);
      color:var(--muted);
      transition: transform .15s ease, border-color .15s ease;
    }
    .chip:hover{transform: translateY(-1px); border-color: rgba(212,175,55,.35)}
    .chip svg{width:16px;height:16px;opacity:.9}

    .grid{display:grid; grid-template-columns: repeat(12,1fr); gap:12px}
    .card{
      grid-column: span 12;
      background:var(--card);
      border:1px solid rgba(255,255,255,.12);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:14px 14px;
    }
    @media (min-width: 920px){
      .c6{grid-column: span 6}
      .c4{grid-column: span 4}
      .c8{grid-column: span 8}
    }
    h2{margin:0 0 8px; font-size:18px}
    h3{margin:12px 0 6px; font-size:16px}
    p,li{color:var(--muted); line-height:1.6}
    ul{margin:8px 0 0; padding-left:18px}

    .mini{
      border-radius:16px;
      background:var(--card2);
      border:1px solid rgba(255,255,255,.12);
      padding:12px;
      box-shadow:0 18px 34px rgba(0,0,0,.35);
      margin-top:10px;
    }

    .field{
      margin-top:10px;
      padding:10px;
      border-radius:14px;
      background:rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.10);
    }
    .field label{
      display:block;
      color:rgba(242,242,242,.9);
      font-size:13px;
      font-weight:800;
      margin-bottom:6px;
    }
    .field input, .field textarea{
      width:100%;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.25);
      color:var(--text);
      padding:10px 10px;
      font-size:14px;
      outline:none;
    }
    .field textarea{min-height:120px; resize:vertical}

    .bar{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
      margin-top:10px;
    }

    .list{display:grid; gap:10px; margin-top:10px}
    .entry{
      padding:10px;
      border-radius:14px;
      background:rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.10);
    }
    .entry .top{
      display:flex; justify-content:space-between; gap:10px; align-items:flex-start; flex-wrap:wrap;
    }
    .entry .name{font-weight:900; color:rgba(242,242,242,.92)}
    .entry .meta{font-size:12px; color:rgba(203,213,225,.8)}
    .entry .notes{margin-top:6px; color:var(--muted); line-height:1.55; font-size:13px; white-space:pre-wrap}

    .calcrow{display:grid; gap:10px; margin-top:10px}
    @media (min-width: 920px){ .calcrow{grid-template-columns: 1fr 1fr 1fr} }
    .calc{
      padding:10px;
      border-radius:14px;
      background:rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.10);
    }
    .calc .k{font-size:12px; color:rgba(203,213,225,.85); margin-bottom:6px}
    .calc input{
      width:100%;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.25);
      color:var(--text);
      padding:10px 10px;
      font-size:14px;
      outline:none;
    }
    .calcresult{
      margin-top:10px;
      padding:10px;
      border-radius:14px;
      background:rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.10);
      color:var(--muted);
      line-height:1.55;
    }

    footer{margin-top:18px; color:rgba(255,255,255,.55); font-size:12px; text-align:center}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="topleft">
        <a class="crumb" href="./nft-basis.html" aria-label="Zur Kursbasis">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M10 6 4 12l6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M20 12H5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <span data-i18n="crumb_back">Zur Kursbasis</span>
        </a>

        <a class="crumb" href="../../index.html" aria-label="Zur Startseite">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M4 11.5 12 4l8 7.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M6.5 10.7V20h11V10.7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span data-i18n="crumb_home">Zur Startseite</span>
        </a>
      </div>

      <div class="lang">
        <button class="btn" id="langDE" type="button">DE</button>
        <button class="btn" id="langEN" type="button">EN</button>
      </div>
    </header>

    <section class="hero">
      <h1 data-i18n="hero_title">Praxis ohne Geld – Kompetenz vor Kapital</h1>
      <p data-i18n="hero_sub">
        Bevor du echtes Geld riskierst, trainierst du Beobachtung, Rechenlogik und Journaling.
        Diese Seite gibt dir drei Übungsrouten. Alles speichert nur lokal im Browser.
      </p>
    </section>

    <div class="note" data-i18n="note_text">
      Hinweis: Bildung, keine Finanzberatung. Ziel ist ein souveräner Ablauf: erst System, dann Kapital.
    </div>

    <nav class="chipnav" aria-label="Abschnitte">
      <a class="chip" href="#shadow">
        <svg viewBox="0 0 24 24" fill="none"><path d="M6 7h12v14H6z" stroke="currentColor" stroke-width="2"/><path d="M9 11h6M9 14h6M9 17h4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        <span data-i18n="nav_shadow">Route A: Shadow-Trading</span>
      </a>
      <a class="chip" href="#fees">
        <svg viewBox="0 0 24 24" fill="none"><path d="M7 7h10v10H7z" stroke="currentColor" stroke-width="2"/><path d="M9 12h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        <span data-i18n="nav_fees">Route B: Fee-Training</span>
      </a>
      <a class="chip" href="#explorer">
        <svg viewBox="0 0 24 24" fill="none"><path d="M4 19V5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M7 17l4-5 3 3 6-8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span data-i18n="nav_explorer">Route C: Explorer-Analyse</span>
      </a>
      <a class="chip" href="#saved">
        <svg viewBox="0 0 24 24" fill="none"><path d="M6 21V3h12v18l-6-3-6 3z" stroke="currentColor" stroke-width="2"/></svg>
        <span data-i18n="nav_saved">Gespeichert</span>
      </a>
    </nav>

    <div class="grid">

      <section class="card c12" id="shadow">
        <h2 data-i18n="a_title">Route A – Shadow-Trading (Paper Trading)</h2>
        <p data-i18n="a_text">
          Du handelst nicht. Du beobachtest wie ein Profi und simulierst Entscheidungen.
          Das trainiert Timing, Geduld und die Fähigkeit „nicht zu klicken“.
        </p>

        <div class="mini">
          <h3 data-i18n="a_h3">Anleitung (7 Tage)</h3>
          <ul>
            <li data-i18n="a1">Wähle 3 Collections (verschiedene Kategorien).</li>
            <li data-i18n="a2">Notiere täglich: Floor, Best Bid, Activity, deine Stimmung (ruhig/FOMO).</li>
            <li data-i18n="a3">Plane einen Fake-Trade: Entry, Exit, Invalidation (wann ist deine Idee kaputt?).</li>
            <li data-i18n="a4">Nach 7 Tagen: Auswertung. Was war richtig? Was war Impuls?</li>
          </ul>
        </div>

        <div class="field">
          <label for="shadowNote" data-i18n="a_field">Shadow-Journal (freier Text)</label>
          <textarea id="shadowNote" placeholder="Tag 1: ..."></textarea>
          <div class="bar">
            <button class="btn ok" id="saveShadow" type="button" data-i18n="save_btn">Speichern</button>
            <button class="btn danger" id="clearShadow" type="button" data-i18n="clear_btn">Leeren</button>
          </div>
        </div>
      </section>

      <section class="card c12" id="fees">
        <h2 data-i18n="b_title">Route B – Fee-Training (Netto statt Brutto)</h2>
        <p data-i18n="b_text">
          Viele Anfänger rechnen falsch. Du trainierst deshalb 10 „Pseudo-Trades“ und siehst, wann Gebühren und Spread
          deinen Gewinn auffressen.
        </p>

        <div class="calcrow">
          <div class="calc">
            <div class="k" data-i18n="b_in">Kaufpreis</div>
            <input id="buy" type="number" step="0.0001" value="1.0" />
          </div>
          <div class="calc">
            <div class="k" data-i18n="b_out">Verkaufspreis</div>
            <input id="sell" type="number" step="0.0001" value="1.1" />
          </div>
          <div class="calc">
            <div class="k" data-i18n="b_fee">Gesamt-Fees (in %)</div>
            <input id="feesPct" type="number" step="0.1" value="3.0" />
          </div>
          <div class="calc">
            <div class="k" data-i18n="b_gas">Gas/Costs (absolut)</div>
            <input id="gasAbs" type="number" step="0.0001" value="0.01" />
          </div>
          <div class="calc">
            <div class="k" data-i18n="b_spread">Spread-Verlust (absolut)</div>
            <input id="spreadAbs" type="number" step="0.0001" value="0.05" />
          </div>
          <div class="calc">
            <div class="k" data-i18n="b_calc">Berechnen</div>
            <button class="btn ok" id="calcBtn" type="button" style="width:100%" data-i18n="calc_btn">Netto berechnen</button>
          </div>
        </div>

        <div class="calcresult" id="calcResult" aria-live="polite"></div>

        <div class="mini">
          <h3 data-i18n="b_h3">Lektion</h3>
          <p data-i18n="b_lesson">
            Wenn du nur 5–10% Gewinn anpeilst, können Fees + Spread + Gas den Trade komplett kaputt machen.
            Deshalb ist „Netto rechnen“ Pflicht.
          </p>
        </div>
      </section>

      <section class="card c12" id="explorer">
        <h2 data-i18n="c_title">Route C – Explorer-Analyse (ohne Interaktion)</h2>
        <p data-i18n="c_text">
          Du lernst Muster: wer kauft, wer verkauft, wie reagieren „starke Wallets“. Du musst dafür nichts kaufen.
          Das Ziel ist Beobachtung statt Aktion.
        </p>

        <div class="mini">
          <h3 data-i18n="c_h3">5 Beobachtungsfragen</h3>
          <ul>
            <li data-i18n="c1">Gibt es wiederkehrende Wallets, die ständig hin- und her handeln?</li>
            <li data-i18n="c2">Kaufen Wallets in Panik (Dip) oder erst im Pump?</li>
            <li data-i18n="c3">Sind große Holder aktiv oder schlafen sie?</li>
            <li data-i18n="c4">Wie verändert sich Activity nach News?</li>
            <li data-i18n="c5">Wirkt es organisch oder künstlich?</li>
          </ul>
        </div>

        <div class="field">
          <label for="explorerNote" data-i18n="c_field">Explorer-Notizen</label>
          <textarea id="explorerNote" placeholder="Beobachtung: ..."></textarea>
          <div class="bar">
            <button class="btn ok" id="saveExplorer" type="button" data-i18n="save_btn">Speichern</button>
            <button class="btn danger" id="clearExplorer" type="button" data-i18n="clear_btn">Leeren</button>
          </div>
        </div>
      </section>

      <section class="card c12" id="saved">
        <h2 data-i18n="s_title">Gespeichert (lokal)</h2>
        <p data-i18n="s_text">Hier liegen deine Journals. Du kannst sie exportieren oder löschen.</p>

        <div class="bar">
          <button class="btn" id="exportBtn" type="button" data-i18n="export_btn">Export (Text kopieren)</button>
          <button class="btn danger" id="wipeBtn" type="button" data-i18n="wipe_btn">Alles löschen</button>
        </div>

        <div class="list" id="savedList"></div>
      </section>

    </div>

    <footer>
      <span data-i18n="footer_text">FSA Akademie – Lernen mit Realitätssinn, ohne Hype. Keine Finanzberatung.</span>
    </footer>
  </div>

  <script>
    const STORAGE_LANG = "fsa_lang";
    const STORAGE_PRACT = "nft_practice_saved_v1";

    const I18N = {
      crumb_back:{de:"Zur Kursbasis",en:"Back to course base"},
      crumb_home:{de:"Zur Startseite",en:"Back to home"},

      hero_title:{de:"Praxis ohne Geld – Kompetenz vor Kapital",en:"Practice without money — competence before capital"},
      hero_sub:{de:"Bevor du echtes Geld riskierst, trainierst du Beobachtung, Rechenlogik und Journaling. Diese Seite gibt dir drei Übungsrouten. Alles speichert nur lokal im Browser.",
                en:"Before risking real money, you train observation, calculation logic, and journaling. This page gives you three practice routes. Everything is stored locally in your browser."},
      note_text:{de:"Hinweis: Bildung, keine Finanzberatung. Ziel ist ein souveräner Ablauf: erst System, dann Kapital.",
                 en:"Note: educational only, not financial advice. The goal is a sovereign workflow: system first, capital later."},

      nav_shadow:{de:"Route A: Shadow-Trading",en:"Route A: Shadow trading"},
      nav_fees:{de:"Route B: Fee-Training",en:"Route B: Fee training"},
      nav_explorer:{de:"Route C: Explorer-Analyse",en:"Route C: Explorer analysis"},
      nav_saved:{de:"Gespeichert",en:"Saved"},

      a_title:{de:"Route A – Shadow-Trading (Paper Trading)",en:"Route A — Shadow trading (paper trading)"},
      a_text:{de:"Du handelst nicht. Du beobachtest wie ein Profi und simulierst Entscheidungen. Das trainiert Timing, Geduld und die Fähigkeit „nicht zu klicken“.",
              en:"You don't trade. You observe like a pro and simulate decisions. This trains timing, patience, and the ability to 'not click'."},
      a_h3:{de:"Anleitung (7 Tage)",en:"Instructions (7 days)"},
      a1:{de:"Wähle 3 Collections (verschiedene Kategorien).",en:"Pick 3 collections (different categories)."},
      a2:{de:"Notiere täglich: Floor, Best Bid, Activity, deine Stimmung (ruhig/FOMO).",en:"Daily note: floor, best bid, activity, your mood (calm/FOMO)."},
      a3:{de:"Plane einen Fake-Trade: Entry, Exit, Invalidation (wann ist deine Idee kaputt?).",en:"Plan a fake trade: entry, exit, invalidation (when is your idea broken?)."},
      a4:{de:"Nach 7 Tagen: Auswertung. Was war richtig? Was war Impuls?",en:"After 7 days: review. What was right? What was impulse?"},
      a_field:{de:"Shadow-Journal (freier Text)",en:"Shadow journal (free text)"},

      b_title:{de:"Route B – Fee-Training (Netto statt Brutto)",en:"Route B — Fee training (net instead of gross)"},
      b_text:{de:"Viele Anfänger rechnen falsch. Du trainierst deshalb 10 „Pseudo-Trades“ und siehst, wann Gebühren und Spread deinen Gewinn auffressen.",
              en:"Many beginners calculate wrong. You train 10 'pseudo trades' and see when fees and spread eat your profit."},
      b_in:{de:"Kaufpreis",en:"Buy price"},
      b_out:{de:"Verkaufspreis",en:"Sell price"},
      b_fee:{de:"Gesamt-Fees (in %)",en:"Total fees (in %)"},
      b_gas:{de:"Gas/Costs (absolut)",en:"Gas/costs (absolute)"},
      b_spread:{de:"Spread-Verlust (absolut)",en:"Spread loss (absolute)"},
      b_calc:{de:"Berechnen",en:"Calculate"},
      calc_btn:{de:"Netto berechnen",en:"Calculate net"},
      b_h3:{de:"Lektion",en:"Lesson"},
      b_lesson:{de:"Wenn du nur 5–10% Gewinn anpeilst, können Fees + Spread + Gas den Trade komplett kaputt machen. Deshalb ist „Netto rechnen“ Pflicht.",
                en:"If you aim for only 5–10% profit, fees + spread + gas can destroy the trade. That's why net calculation is mandatory."},

      c_title:{de:"Route C – Explorer-Analyse (ohne Interaktion)",en:"Route C — Explorer analysis (no interaction)"},
      c_text:{de:"Du lernst Muster: wer kauft, wer verkauft, wie reagieren „starke Wallets“. Du musst dafür nichts kaufen. Das Ziel ist Beobachtung statt Aktion.",
              en:"You learn patterns: who buys, who sells, how 'strong wallets' react. You don't need to buy anything. The goal is observation, not action."},
      c_h3:{de:"5 Beobachtungsfragen",en:"5 observation questions"},
      c1:{de:"Gibt es wiederkehrende Wallets, die ständig hin- und her handeln?",en:"Are there repeating wallets that trade back and forth constantly?"},
      c2:{de:"Kaufen Wallets in Panik (Dip) oder erst im Pump?",en:"Do wallets buy in panic (dip) or only in the pump?"},
      c3:{de:"Sind große Holder aktiv oder schlafen sie?",en:"Are large holders active or dormant?"},
      c4:{de:"Wie verändert sich Activity nach News?",en:"How does activity change after news?"},
      c5:{de:"Wirkt es organisch oder künstlich?",en:"Does it look organic or artificial?"},
      c_field:{de:"Explorer-Notizen",en:"Explorer notes"},

      s_title:{de:"Gespeichert (lokal)",en:"Saved (local)"},
      s_text:{de:"Hier liegen deine Journals. Du kannst sie exportieren oder löschen.",en:"Your journals are stored here. You can export or delete them."},
      export_btn:{de:"Export (Text kopieren)",en:"Export (copy text)"},
      wipe_btn:{de:"Alles löschen",en:"Delete all"},
      save_btn:{de:"Speichern",en:"Save"},
      clear_btn:{de:"Leeren",en:"Clear"},

      footer_text:{de:"FSA Akademie – Lernen mit Realitätssinn, ohne Hype. Keine Finanzberatung.",
                  en:"FSA Academy — learn with realism, without hype. No financial advice."},

      empty:{de:"Noch keine Einträge.",en:"No entries yet."},
      copied:{de:"Export wurde kopiert.",en:"Export copied."},
      copy_fail:{de:"Kopieren nicht möglich. Bitte manuell markieren.",en:"Copy not available. Please select manually."},
      confirm_wipe:{de:"Wirklich alles löschen?",en:"Really delete everything?"},
      net_result:{de:"Netto-Ergebnis",en:"Net result"}
    };

    const $ = (s, r=document) => r.querySelector(s);

    function setLang(lang){
      localStorage.setItem(STORAGE_LANG, lang);
      $("#langDE").classList.toggle("active", lang==="de");
      $("#langEN").classList.toggle("active", lang==="en");
      document.documentElement.lang = lang;

      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const key = el.getAttribute("data-i18n");
        const val = I18N[key] ? I18N[key][lang] : null;
        if(val !== null && val !== undefined) el.innerHTML = val;
      });

      document.title = (lang==="de")
        ? "NFT Handel – Praxis ohne Geld | FSA Akademie"
        : "NFT Trading – Practice without money | FSA Academy";

      renderSaved(lang);
      updateCalc(lang);
    }

    function readSaved(){
      try{ return JSON.parse(localStorage.getItem(STORAGE_PRACT) || "[]"); }
      catch(e){ return []; }
    }
    function writeSaved(arr){
      localStorage.setItem(STORAGE_PRACT, JSON.stringify(arr));
    }

    function addEntry(type, text){
      const arr = readSaved();
      arr.push({
        id: "id_" + Math.random().toString(16).slice(2) + "_" + Date.now(),
        ts: Date.now(),
        type,
        text: text || ""
      });
      writeSaved(arr);
    }

    function renderSaved(lang){
      const list = $("#savedList");
      const arr = readSaved();
      if(!arr.length){
        list.innerHTML = `<div class="entry"><div class="name">${I18N.empty[lang]}</div></div>`;
        return;
      }
      list.innerHTML = "";
      arr.slice().reverse().forEach(item=>{
        const e = document.createElement("div");
        e.className = "entry";
        const top = document.createElement("div");
        top.className = "top";
        const left = document.createElement("div");
        left.innerHTML = `<div class="name">${escapeHtml(item.type)}</div><div class="meta">${new Date(item.ts).toLocaleString()}</div>`;
        const right = document.createElement("div");
        const del = document.createElement("button");
        del.className = "btn danger";
        del.type = "button";
        del.textContent = (lang==="de") ? "Löschen" : "Delete";
        del.addEventListener("click", ()=>{
          const all = readSaved().filter(x=>x.id !== item.id);
          writeSaved(all);
          renderSaved(lang);
        });
        right.appendChild(del);
        top.appendChild(left);
        top.appendChild(right);

        const notes = document.createElement("div");
        notes.className = "notes";
        notes.textContent = item.text || "";

        e.appendChild(top);
        e.appendChild(notes);
        list.appendChild(e);
      });
    }

    function escapeHtml(s){
      return String(s ?? "").replace(/[&<>"']/g, (c)=>({
        "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"
      }[c]));
    }

    function exportSaved(lang){
      const arr = readSaved();
      const lines = [];
      lines.push(lang==="de" ? "NFT Praxis Export" : "NFT Practice Export");
      lines.push("—");
      arr.forEach((x, idx)=>{
        lines.push(`#${idx+1} ${x.type} | ${new Date(x.ts).toLocaleString()}`);
        if(x.text) lines.push(x.text);
        lines.push("—");
      });
      const text = lines.join("\n");

      if(navigator.clipboard && navigator.clipboard.writeText){
        navigator.clipboard.writeText(text).then(()=>alert(I18N.copied[lang])).catch(()=>alert(I18N.copy_fail[lang]));
      } else {
        alert(I18N.copy_fail[lang]);
      }
    }

    function wipeAll(lang){
      if(confirm(I18N.confirm_wipe[lang])){
        localStorage.removeItem(STORAGE_PRACT);
        renderSaved(lang);
      }
    }

    function updateCalc(lang){
      const buy = Number($("#buy").value || 0);
      const sell = Number($("#sell").value || 0);
      const feesPct = Number($("#feesPct").value || 0);
      const gas = Number($("#gasAbs").value || 0);
      const spread = Number($("#spreadAbs").value || 0);

      // Netto: Verkauf - (Fees% vom Verkauf) - Kauf - Gas - Spread
      const feeAbs = sell * (feesPct/100);
      const net = (sell - feeAbs) - buy - gas - spread;

      const lines = [];
      lines.push(`<strong>${I18N.net_result[lang]}:</strong> ${net.toFixed(4)}`);
      lines.push((lang==="de")
        ? `Rechnung: (Sell ${sell.toFixed(4)} - Fees ${feeAbs.toFixed(4)}) - Buy ${buy.toFixed(4)} - Gas ${gas.toFixed(4)} - Spread ${spread.toFixed(4)}`
        : `Formula: (Sell ${sell.toFixed(4)} - Fees ${feeAbs.toFixed(4)}) - Buy ${buy.toFixed(4)} - Gas ${gas.toFixed(4)} - Spread ${spread.toFixed(4)}`);
      $("#calcResult").innerHTML = lines.join("<br>");
    }

    $("#langDE").addEventListener("click", ()=>setLang("de"));
    $("#langEN").addEventListener("click", ()=>setLang("en"));

    $("#saveShadow").addEventListener("click", ()=>{
      const t = $("#shadowNote").value.trim();
      if(!t) return;
      addEntry("Shadow-Journal", t);
      $("#shadowNote").value = "";
      renderSaved(localStorage.getItem(STORAGE_LANG) || "de");
      $("#saved").scrollIntoView({behavior:"smooth", block:"start"});
    });
    $("#clearShadow").addEventListener("click", ()=>{ $("#shadowNote").value=""; });

    $("#saveExplorer").addEventListener("click", ()=>{
      const t = $("#explorerNote").value.trim();
      if(!t) return;
      addEntry("Explorer-Notizen", t);
      $("#explorerNote").value = "";
      renderSaved(localStorage.getItem(STORAGE_LANG) || "de");
      $("#saved").scrollIntoView({behavior:"smooth", block:"start"});
    });
    $("#clearExplorer").addEventListener("click", ()=>{ $("#explorerNote").value=""; });

    $("#calcBtn").addEventListener("click", ()=>updateCalc(localStorage.getItem(STORAGE_LANG) || "de"));
    ["buy","sell","feesPct","gasAbs","spreadAbs"].forEach(id=>{
      $("#"+id).addEventListener("input", ()=>updateCalc(localStorage.getItem(STORAGE_LANG) || "de"));
    });

    $("#exportBtn").addEventListener("click", ()=>exportSaved(localStorage.getItem(STORAGE_LANG) || "de"));
    $("#wipeBtn").addEventListener("click", ()=>wipeAll(localStorage.getItem(STORAGE_LANG) || "de"));

    setLang(localStorage.getItem(STORAGE_LANG) || "de");
  </script>
</body>
</html>
