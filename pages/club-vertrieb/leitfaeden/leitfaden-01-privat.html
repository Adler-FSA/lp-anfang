<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Leitfaden 01 – Privat / Berufstätige</title>
  <meta name="description" content="Telefonleitfaden: Erlaubnis + Warm-up → Status-Check (2 Lenkfragen) → Vertrauen/Verlust-Frame → 3 Ziele → Fokus/Engpass → Mitgliedschaft. LocalStorage, DE/EN." />
  <meta name="robots" content="noindex,nofollow" />

  <style>
    :root{
      --bg:#050814;
      --bg2:#020617;
      --panel:rgba(15,23,42,.90);
      --panel2:rgba(15,23,42,.74);
      --txt:#e9eef7;
      --muted:#a9b4c7;
      --gold:#d4af37;
      --gold2:#f2d37a;
      --blue:#5ea8ff;
      --line:rgba(212,175,55,.35);
      --shadow:0 24px 60px rgba(0,0,0,.55);
      --glow:0 0 26px rgba(212,175,55,.22), 0 10px 30px rgba(0,0,0,.55);
      --radius:18px;
      --maxw:1280px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--txt);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:
        radial-gradient(980px 560px at 16% 10%, rgba(212,175,55,.18), transparent 60%),
        radial-gradient(980px 560px at 84% 16%, rgba(94,168,255,.16), transparent 62%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      overflow-x:hidden;
    }
    a{color:inherit; text-decoration:none}
    .wrap{max-width:var(--maxw); margin:0 auto; padding:18px 16px 40px;}
    .top{
      display:flex; align-items:flex-start; justify-content:space-between; gap:14px; flex-wrap:wrap;
      margin-bottom:12px;
    }
    .leftHead{display:flex; gap:12px; align-items:flex-start}
    .logo{
      width:46px;height:46px;border-radius:14px;
      background:rgba(15,23,42,.55);
      border:1px solid var(--line);
      box-shadow:var(--glow);
      display:grid;place-items:center;
      flex:0 0 auto;
    }
    .logo svg{width:28px;height:28px}
    h1{margin:0; font-size:18px; letter-spacing:.2px}
    .sub{margin:6px 0 0; color:var(--muted); font-size:13px; line-height:1.35}
    .actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
    .btn{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid var(--line);
      background:rgba(15,23,42,.62);
      box-shadow:0 10px 24px rgba(0,0,0,.35);
      color:var(--txt);
      cursor:pointer;
      user-select:none;
      font-size:13px;
    }
    .btn:hover{border-color:rgba(242,211,122,.55)}
    .btn svg{width:16px;height:16px}
    .grid{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap:14px;
      align-items:start;
    }
    .panel{
      border-radius:var(--radius);
      border:1px solid var(--line);
      background:linear-gradient(180deg, rgba(15,23,42,.88), rgba(15,23,42,.70));
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .panel .hd{
      padding:14px 14px 10px;
      border-bottom:1px solid rgba(212,175,55,.18);
      display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;
    }
    .panel .hd h2{
      margin:0; font-size:14px; letter-spacing:.2px;
      display:flex; align-items:center; gap:10px;
    }
    .panel .bd{padding:14px}
    .hint{color:var(--muted); font-size:12px; line-height:1.45}
    .setup{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:10px;
    }
    label{display:block; font-size:12px; color:var(--muted); margin:0 0 6px}
    input[type="text"], textarea, select{
      width:100%;
      padding:11px 12px;
      border-radius:14px;
      border:1px solid rgba(212,175,55,.28);
      background:rgba(2,6,23,.35);
      color:var(--txt);
      outline:none;
      font-size:13px;
    }
    textarea{min-height:92px; resize:vertical}
    select{cursor:pointer}
    .col-4{grid-column:span 4}
    .col-6{grid-column:span 6}
    .col-8{grid-column:span 8}
    .col-12{grid-column:span 12}
    .toggle{
      display:flex; gap:8px; align-items:center; flex-wrap:wrap;
      padding:6px;
      border-radius:14px;
      border:1px solid rgba(212,175,55,.28);
      background:rgba(2,6,23,.30);
    }
    .tbtn{
      border:1px solid rgba(212,175,55,.22);
      background:transparent;
      color:var(--muted);
      padding:8px 10px;
      border-radius:12px;
      cursor:pointer;
      font-size:12px;
      display:inline-flex; gap:8px; align-items:center;
      user-select:none;
    }
    .tbtn.active{
      color:var(--txt);
      border-color:rgba(242,211,122,.65);
      background:rgba(212,175,55,.08);
    }
    .rowBtns{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(94,168,255,.22);
      background:rgba(2,6,23,.28);
      color:var(--muted);
      font-size:12px;
    }
    .badge b{color:var(--txt)}
    .steps{
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
    }
    .step{
      border-radius:16px;
      border:1px solid rgba(212,175,55,.24);
      background:rgba(2,6,23,.22);
      overflow:hidden;
    }
    .step .shd{
      padding:12px 12px 10px;
      border-bottom:1px solid rgba(212,175,55,.16);
      display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;
    }
    .step .shd h3{
      margin:0;
      font-size:13px;
      display:flex; align-items:center; gap:10px;
    }
    .dot{
      width:10px;height:10px;border-radius:999px;background:rgba(242,211,122,.7);
      box-shadow:0 0 14px rgba(212,175,55,.35);
      flex:0 0 auto;
    }
    .step .sbd{padding:12px}
    .script{
      white-space:pre-wrap;
      font-size:13px;
      line-height:1.5;
      color:var(--txt);
    }
    .tools{
      display:flex; gap:8px; flex-wrap:wrap; align-items:center; justify-content:flex-end;
    }
    .miniBtn{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px;
      border-radius:12px;
      border:1px solid rgba(212,175,55,.22);
      background:rgba(15,23,42,.50);
      color:var(--txt);
      cursor:pointer;
      font-size:12px;
      user-select:none;
    }
    .miniBtn:hover{border-color:rgba(242,211,122,.55)}
    .miniBtn svg{width:15px;height:15px}
    .check{
      display:inline-flex; align-items:center; gap:8px;
      font-size:12px; color:var(--muted);
      padding:8px 10px;
      border-radius:12px;
      border:1px solid rgba(94,168,255,.20);
      background:rgba(2,6,23,.22);
    }
    .check.on{color:var(--txt); border-color:rgba(94,168,255,.55); background:rgba(94,168,255,.08)}
    .engineGrid{
      display:grid; gap:10px;
    }
    .divider{
      height:1px; background:rgba(212,175,55,.16);
      margin:12px 0;
    }
    .nextLine{
      padding:12px;
      border-radius:16px;
      border:1px dashed rgba(242,211,122,.35);
      background:rgba(15,23,42,.45);
    }
    .nextLine .script{color:var(--txt)}
    .footHint{margin-top:10px; color:var(--muted); font-size:12px; line-height:1.45}

    @media (max-width:1080px){
      .grid{grid-template-columns:1fr}
      .col-4,.col-6,.col-8{grid-column:span 12}
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="top">
      <div class="leftHead">
        <div class="logo" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M12 2.5l7.8 3.2v6.6c0 5.1-3.3 9.5-7.8 9.7-4.5-.2-7.8-4.6-7.8-9.7V5.7L12 2.5z" stroke="rgba(242,211,122,.95)" stroke-width="1.5"/>
            <path d="M7.2 12.2c2.6-3 6.9-3 9.6 0" stroke="rgba(94,168,255,.85)" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
        </div>
        <div>
          <h1 data-i18n="title">Leitfaden 01 – Privat / Berufstätige</h1>
          <p class="sub" data-i18n="sub">Erlaubnis + Warm-up → Status-Check (2 Lenkfragen) → Vertrauen/Verlust → 3 Ziele → Fokus/Engpass → Mitgliedschaft.</p>
        </div>
      </div>
      <div class="actions">
        <a class="btn" href="./index.html">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M10 19l-7-7 7-7" stroke="rgba(242,211,122,.9)" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M3 12h18" stroke="rgba(94,168,255,.85)" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
          <span data-i18n="btn_back">Auswahl</span>
        </a>
        <button class="btn" id="toggleLangBtn" type="button" title="DE/EN">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M4 6h16M4 18h16" stroke="rgba(242,211,122,.9)" stroke-width="1.6" stroke-linecap="round"/>
            <path d="M7 6c0 6 3 12 5 12s5-6 5-12" stroke="rgba(94,168,255,.8)" stroke-width="1.3" stroke-linecap="round"/>
          </svg>
          <span data-i18n="btn_lang">DE/EN</span>
        </button>
        <button class="btn" id="resetBtn" type="button">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 7h12M9 7V5.5c0-.6.4-1 1-1h4c.6 0 1 .4 1 1V7" stroke="rgba(242,211,122,.9)" stroke-width="1.4" stroke-linecap="round"/>
            <path d="M8 7l.7 14h6.6L16 7" stroke="rgba(212,175,55,.8)" stroke-width="1.4" stroke-linecap="round"/>
          </svg>
          <span data-i18n="btn_reset">Zurücksetzen</span>
        </button>
      </div>
    </div>

    <div class="grid">
      <!-- LEFT: Setup + Steps -->
      <div class="panel">
        <div class="hd">
          <h2>
            <span class="badge"><b data-i18n="setup_title">Setup</b> · <span id="statusTxt" data-i18n="status_ready">bereit</span></span>
          </h2>
          <div class="rowBtns">
            <span class="badge"><b data-i18n="lang_label">Sprache</b>: <span id="langVal">DE</span></span>
            <span class="badge"><b data-i18n="save_label">Speicher</b>: <span data-i18n="save_local">lokal</span></span>
          </div>
        </div>
        <div class="bd">
          <div class="setup">
            <div class="col-4">
              <label for="vorname" data-i18n="lbl_name">Vorname / Name</label>
              <input id="vorname" type="text" placeholder="z.B. Max" />
            </div>

            <div class="col-4">
              <label data-i18n="lbl_form">Ansprache</label>
              <div class="toggle" role="group" aria-label="Ansprache">
                <button class="tbtn active" id="tDu" type="button"><span data-i18n="form_du">DU</span></button>
                <button class="tbtn" id="tSie" type="button"><span data-i18n="form_sie">SIE</span></button>
              </div>
            </div>

            <div class="col-4">
              <label for="kontext" data-i18n="lbl_context">Kontext / Beziehung</label>
              <input id="kontext" type="text" placeholder="z.B. Freund / Kollege / lange nicht gesprochen" />
            </div>

            <div class="col-6">
              <label for="fokus" data-i18n="lbl_focus">Fokus (3 Ziele)</label>
              <select id="fokus">
                <option value="sicherheit" data-i18n="focus_sicherheit">1) Sicherheit: kein Geld mehr verlieren</option>
                <option value="stabilitaet" data-i18n="focus_stabil">2) Stabilität: Perspektive & Ruhe</option>
                <option value="zweite_spur" data-i18n="focus_spur">3) Zweite Spur: zusätzlich verdienen (optional)</option>
              </select>
            </div>

            <div class="col-6">
              <label for="engpass" data-i18n="lbl_bottleneck">Engpass</label>
              <select id="engpass">
                <option value="klarheit" data-i18n="engpass_klarheit">Klarheit: Was stimmt / was ist seriös?</option>
                <option value="struktur" data-i18n="engpass_struktur">Struktur: Wie gehe ich sauber vor?</option>
                <option value="dranbleiben" data-i18n="engpass_dran">Dranbleiben: allein bricht’s ab</option>
              </select>
            </div>

            <div class="col-12">
              <label for="notizen" data-i18n="lbl_notes">Notizen (bleibt nur auf deinem Gerät)</label>
              <textarea id="notizen" placeholder="Kurz: Lage, Trigger, Einwände, nächste Schritte"></textarea>
            </div>
          </div>

          <div class="divider"></div>

          <div class="steps" id="steps"></div>

          <p class="footHint" data-i18n="foot_hint">
            Tipp: Du erklärst erst, wenn Gegenfragen kommen. Du gibst Wahrheit + Pause + Schleuse.
          </p>
        </div>
      </div>

      <!-- RIGHT: Engine + Objections -->
      <div class="panel">
        <div class="hd">
          <h2 data-i18n="engine_title">Rückfragen-Engine</h2>
          <div class="rowBtns">
            <button class="miniBtn" id="nextBtn" type="button">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M5 12h12" stroke="rgba(242,211,122,.9)" stroke-width="1.6" stroke-linecap="round"/>
                <path d="M13 6l6 6-6 6" stroke="rgba(94,168,255,.85)" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span data-i18n="btn_next">Nächste Zeile</span>
            </button>
            <button class="miniBtn" id="copyNextBtn" type="button">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M9 9h10v10H9V9z" stroke="rgba(242,211,122,.9)" stroke-width="1.4"/>
                <path d="M5 15H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1" stroke="rgba(94,168,255,.85)" stroke-width="1.4" stroke-linecap="round"/>
              </svg>
              <span data-i18n="btn_copy">Kopieren</span>
            </button>
          </div>
        </div>
        <div class="bd">
          <div class="engineGrid">
            <div>
              <label for="truth" data-i18n="lbl_truth">Wahrheit (1 Satz)</label>
              <select id="truth"></select>
            </div>
            <div>
              <label for="sluice" data-i18n="lbl_sluice">Schleusenfrage</label>
              <select id="sluice"></select>
            </div>
            <div>
              <label for="mirror" data-i18n="lbl_mirror">Spiegel-Frage</label>
              <select id="mirror"></select>
            </div>

            <div class="nextLine" id="nextLineBox">
              <div class="script" id="nextLine"></div>
            </div>

            <div class="divider"></div>

            <h2 style="margin:0 0 8px; font-size:14px" data-i18n="obj_title">Einwände (ruhig sortieren)</h2>
            <div>
              <label for="objection" data-i18n="lbl_objection">Einwand</label>
              <select id="objection"></select>
            </div>
            <div class="nextLine">
              <div class="script" id="objAnswer"></div>
            </div>

            <p class="footHint" data-i18n="obj_hint">
              Prinzip: Bestätigen → Klärfrage → Einordnen. Nicht kämpfen.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
(function(){
  const PAGE_KEY = "fsa_leitfaden_01_privat";
  const LANG_KEY = "fsa_leitfaden_lang";

  const I18N = {
    de:{
      title:"Leitfaden 01 – Privat / Berufstätige",
      sub:"Erlaubnis + Warm-up → Status-Check (2 Lenkfragen) → Vertrauen/Verlust → 3 Ziele → Fokus/Engpass → Mitgliedschaft.",
      btn_back:"Auswahl",
      btn_lang:"DE/EN",
      btn_reset:"Zurücksetzen",
      setup_title:"Setup",
      status_ready:"bereit",
      lang_label:"Sprache",
      save_label:"Speicher",
      save_local:"lokal",
      lbl_name:"Vorname / Name",
      lbl_form:"Ansprache",
      form_du:"DU",
      form_sie:"SIE",
      lbl_context:"Kontext / Beziehung",
      lbl_focus:"Fokus (3 Ziele)",
      focus_sicherheit:"1) Sicherheit: kein Geld mehr verlieren",
      focus_stabil:"2) Stabilität: Perspektive & Ruhe",
      focus_spur:"3) Zweite Spur: zusätzlich verdienen (optional)",
      lbl_bottleneck:"Engpass",
      engpass_klarheit:"Klarheit: Was stimmt / was ist seriös?",
      engpass_struktur:"Struktur: Wie gehe ich sauber vor?",
      engpass_dran:"Dranbleiben: allein bricht’s ab",
      lbl_notes:"Notizen (bleibt nur auf deinem Gerät)",
      foot_hint:"Tipp: Du erklärst erst, wenn Gegenfragen kommen. Du gibst Wahrheit + Pause + Schleuse.",
      engine_title:"Rückfragen-Engine",
      btn_next:"Nächste Zeile",
      btn_copy:"Kopieren",
      lbl_truth:"Wahrheit (1 Satz)",
      lbl_sluice:"Schleusenfrage",
      lbl_mirror:"Spiegel-Frage",
      obj_title:"Einwände (ruhig sortieren)",
      lbl_objection:"Einwand",
      obj_hint:"Prinzip: Bestätigen → Klärfrage → Einordnen. Nicht kämpfen.",
      step1:"0–2 min · Erlaubnis + Warm-up",
      step2:"2–5 min · Status-Check (2 Lenkfragen)",
      step3:"5–7 min · Vertrauen/Verlust (Frame)",
      step4:"7–9 min · 3-Punkt-Zielbild",
      step5:"9–12 min · Fokus → Mitgliedschaft",
      btn_step_copy:"Text kopieren",
      btn_step_done:"Als gesagt",
      done_on:"gesagt",
      done_off:"offen",
      focusLabel:{sicherheit:"Sicherheit", stabilitaet:"Stabilität", zweite_spur:"Zweite Spur"},
      engLabel:{klarheit:"Klarheit", struktur:"Struktur", dranbleiben:"Dranbleiben"},
      ob1:"Ich will nichts verkauft bekommen.",
      ob2:"Ich hatte schlechte Erfahrungen / Vertrauen verloren.",
      ob3:"Ich habe keine Zeit.",
      ob4:"Ich muss nachdenken.",
      ob5:"Was kostet das?",
      copied:"Kopiert."
    },
    en:{
      title:"Guide 01 – Private / Employees",
      sub:"Permission + warm-up → status check (2 steering questions) → trust/loss → 3 goals → focus/bottleneck → membership.",
      btn_back:"Back",
      btn_lang:"DE/EN",
      btn_reset:"Reset",
      setup_title:"Setup",
      status_ready:"ready",
      lang_label:"Language",
      save_label:"Storage",
      save_local:"local",
      lbl_name:"First name / Name",
      lbl_form:"Form",
      form_du:"YOU (informal)",
      form_sie:"YOU (formal)",
      lbl_context:"Context / relationship",
      lbl_focus:"Focus (3 goals)",
      focus_sicherheit:"1) Safety: stop losing money",
      focus_stabil:"2) Stability: perspective & calm",
      focus_spur:"3) Second stream: earn extra (optional)",
      lbl_bottleneck:"Bottleneck",
      engpass_klarheit:"Clarity: what's true / what's legit?",
      engpass_struktur:"Structure: how do I proceed cleanly?",
      engpass_dran:"Consistency: alone it fades",
      lbl_notes:"Notes (stored on your device)",
      foot_hint:"Tip: explain only after they ask. Give truth + pause + sluice.",
      engine_title:"Question Engine",
      btn_next:"Next line",
      btn_copy:"Copy",
      lbl_truth:"Truth (1 sentence)",
      lbl_sluice:"Sluice question",
      lbl_mirror:"Mirror question",
      obj_title:"Objections (sort calmly)",
      lbl_objection:"Objection",
      obj_hint:"Principle: confirm → clarify → frame. Don't fight.",
      step1:"0–2 min · Permission + warm-up",
      step2:"2–5 min · Status check (2 steering questions)",
      step3:"5–7 min · Trust/loss (frame)",
      step4:"7–9 min · 3-goal frame",
      step5:"9–12 min · Focus → membership",
      btn_step_copy:"Copy text",
      btn_step_done:"Mark as said",
      done_on:"said",
      done_off:"open",
      focusLabel:{sicherheit:"Safety", stabilitaet:"Stability", zweite_spur:"Second stream"},
      engLabel:{klarheit:"Clarity", struktur:"Structure", dranbleiben:"Consistency"},
      ob1:"I don't want to be sold to.",
      ob2:"Bad experiences / lost trust.",
      ob3:"No time.",
      ob4:"I need to think.",
      ob5:"What does it cost?",
      copied:"Copied."
    }
  };

  const LIB = {
    de:{
      truths:[
        "Die meisten verlieren nicht beim Investieren – sie verlieren beim Vertrauen.",
        "Tempo ist fast immer ein Warnsignal.",
        "Wenn dir jemand keine Zeit lässt, will er dich nicht schützen.",
        "Nicht Wissen schützt – sondern klare Stopps und klare Schritte.",
        "Man verliert zuerst Vertrauen – erst danach Geld.",
        "Wer ohne Rahmen startet, zahlt irgendwann Lehrgeld."
      ],
      sluices:[
        "Hast du das schon mal erlebt – bei dir oder im Umfeld?",
        "Welche rote Flagge triggert dich sofort: Tempo, Versprechen oder Druck?",
        "Was war bei dir der Moment, wo du gemerkt hast: „Das war nicht sauber“?",
        "Willst du, dass ich dir in einem Satz sage, wie der Rahmen funktioniert?",
        "Was wäre dir heute wichtiger: Schutz vor Fehlern oder ein klarer Weg?",
        "Woran würdest du merken, dass etwas seriös ist?"
      ],
      mirrors:[
        "Was genau ist damals passiert?",
        "Was hat dich daran am meisten geärgert?",
        "Was hättest du damals gebraucht, damit du nicht reingehst?",
        "Was würdest du heute anders machen?",
        "Was ist für dich das größte Risiko: Verlust, falsches Vertrauen oder Zeitverschwendung?",
        "Was müsste passieren, damit du wieder offen bist?"
      ],
      objections:[
        {k:"ob1", v:"Ich will nichts verkauft bekommen."},
        {k:"ob2", v:"Ich hatte schlechte Erfahrungen / Vertrauen verloren."},
        {k:"ob3", v:"Ich habe keine Zeit."},
        {k:"ob4", v:"Ich muss nachdenken."},
        {k:"ob5", v:"Was kostet das?"}
      ]
    },
    en:{
      truths:[
        "Most people don't lose on investing – they lose on trust.",
        "Speed is almost always a red flag.",
        "If someone won't give you time, they won't protect you.",
        "Not knowledge protects you – clear stops and clear steps do.",
        "You lose trust first – money second.",
        "If you start without a frame, you'll pay tuition eventually."
      ],
      sluices:[
        "Have you experienced that – personally or around you?",
        "Which red flag triggers you most: speed, promises, or pressure?",
        "When did you realize: 'this wasn't clean'?",
        "Want me to explain the frame in one sentence?",
        "What matters more today: protection from mistakes or a clear path?",
        "How would you recognize something as legit?"
      ],
      mirrors:[
        "What exactly happened back then?",
        "What annoyed you the most about it?",
        "What would you have needed to not step in?",
        "What would you do differently today?",
        "What's the biggest risk for you: loss, misplaced trust, or wasted time?",
        "What would need to happen for you to open up again?"
      ],
      objections:[
        {k:"ob1", v:"I don't want to be sold to."},
        {k:"ob2", v:"Bad experiences / lost trust."},
        {k:"ob3", v:"No time."},
        {k:"ob4", v:"I need to think."},
        {k:"ob5", v:"What does it cost?"}
      ]
    }
  };

  function lsGet(){
    try{ return JSON.parse(localStorage.getItem(PAGE_KEY)||"null"); }catch(e){ return null; }
  }
  function lsSet(obj){
    try{ localStorage.setItem(PAGE_KEY, JSON.stringify(obj)); }catch(e){}
  }
  function nowTs(){ return Date.now(); }

  function langGet(){
    const v = (localStorage.getItem(LANG_KEY)||"de").toLowerCase();
    return v==="en" ? "en" : "de";
  }
  function langSet(v){
    localStorage.setItem(LANG_KEY, v);
  }

  function pronouns(form){
    if(form==="sie"){
      return {
        form:"sie",
        isFormal:true,
        you:"Sie",
        youObj:"Ihnen",
        youAcc:"Sie",
        yourDat:"Ihrem",
        areVerb:"sind",
        haveVerb:"haben",
        greeting:(name)=> name ? `Guten Tag ${name},` : "Guten Tag,"
      };
    }
    return {
      form:"du",
      isFormal:false,
      you:"du",
      youObj:"dir",
      youAcc:"dich",
      yourDat:"deinem",
      areVerb:"bist",
      haveVerb:"hast",
      greeting:(name)=> name ? `Hey ${name},` : "Hey,"
    };
  }

  function safeName(raw){
    const s = (raw||"").trim();
    return s;
  }

  function buildScripts(state, lang){
    const dict = I18N[lang];
    const p = pronouns(state.form);
    const name = safeName(state.vorname);
    const ctx = (state.kontext||"").trim();
    const focus = state.fokus || "sicherheit";
    const eng = state.engpass || "klarheit";

    const fokusLabel = {de: dict.focusLabel[focus], en: I18N.en.focusLabel[focus]};
    const engpassLabel = {de: dict.engLabel[eng], en: I18N.en.engLabel[eng]};

    let lead1, lead2, warm2, lenk1, lenk2, trustLead, trustQ, trustFollow, goals, focusQ, engQ, membership;

    if(lang==="de"){
      if(p.isFormal){
        lead1 = `${p.greeting(name)} ${ctx ? `Ich rufe kurz an – ${ctx}. ` : ""}Haben Sie gerade 60 Sekunden?`;
        lead2 = "Ich will nur kurz hören, wie es bei Ihnen steht – und ob ich Ihnen einen sauberen Rahmen geben kann, falls Sie ihn brauchen.";
        warm2 = "Wenn Sie auf die letzten Monate schauen: lief’s eher ruhig – oder eher anstrengend?";

        lenk1 = `Status-Check: Wie ist gerade der Druck bei Ihnen – eher Job/Alltag, eher Geld, oder beides?`;
        lenk2 = `Und ganz ehrlich: Wie sicher fühlen Sie sich bei Entscheidungen, die Geld betreffen – eher sicher oder eher unsicher?`;

        trustLead = "Warum ich das frage:";
        trustQ = `Viele verlieren nicht „bei einer Sache“, sondern beim Vertrauen. ${p.haveVerb} ${p.you} – oder jemand in ${p.yourDat} Umfeld – schon mal investiert/abgeschlossen und danach gemerkt: „Das war nicht sauber“?`;
        trustFollow = "Wenn ja: war es eher Tempo, Versprechen oder Druck?";

        goals = `Kurz und klar${name?` ${name}`:""} – drei Ziele, die bei Privaten/Berufstätigen sauber stehen müssen:\n\n1) Sicherheit: nicht mehr unnötig Geld verlieren\n2) Stabilität: eine Perspektive, die Sie ruhiger macht\n3) Zweite Spur (optional): zusätzlich verdienen – aber erst, wenn 1+2 sauber sind\n\nDie meisten haben davon eins – selten alle drei. Und genau da passieren später die Fehler.`;

        focusQ = "Wenn Sie ehrlich sind: Welcher Punkt ist bei Ihnen gerade am wichtigsten – Sicherheit, Stabilität oder zweite Spur?";
        engQ = "Und was ist der Engpass: fehlende Klarheit, fehlende Struktur – oder dass man allein nicht dranbleibt?";

        membership = `Okay. Dann sag ich’s Ihnen sauber: Genau dafür ist die Mitgliedschaft gedacht.\nNicht als „Verkauf“, sondern als Rahmen: Klarheit, Struktur, Standards – damit Sie nicht wieder bei Null anfangen.\n\nWollen Sie, dass ich Sie da reinnehme – ja oder nein?`;
      } else {
        lead1 = `${p.greeting(name)} ${ctx ? `Ich ruf kurz an – ${ctx}. ` : ""}Hast du gerade 60 Sekunden?`;
        lead2 = "Ich will nur kurz hören, wie es bei dir steht – und ob ich dir einen sauberen Rahmen geben kann, falls du ihn brauchst.";
        warm2 = "Wenn du auf die letzten Monate schaust: läuft’s eher ruhig – oder eher anstrengend?";

        lenk1 = `Status-Check: Wie ist gerade der Druck bei dir – eher Job/Alltag, eher Geld, oder beides?`;
        lenk2 = `Und ganz ehrlich: Wie sicher fühlst du dich bei Entscheidungen, die Geld betreffen – eher sicher oder eher unsicher?`;

        trustLead = "Warum ich das frage:";
        trustQ = `Viele verlieren nicht „bei einer Sache“, sondern beim Vertrauen. ${p.haveVerb} ${p.you} – oder jemand in ${p.yourDat} Umfeld – schon mal investiert/abgeschlossen und danach gemerkt: „Das war nicht sauber“?`;
        trustFollow = "Wenn ja: war es eher Tempo, Versprechen oder Druck?";

        goals = `Kurz und klar${name?` ${name}`:""} – drei Ziele, die bei Privaten/Berufstätigen sauber stehen müssen:\n\n1) Sicherheit: nicht mehr unnötig Geld verlieren\n2) Stabilität: eine Perspektive, die dich ruhiger macht\n3) Zweite Spur (optional): zusätzlich verdienen – aber erst, wenn 1+2 sauber sind\n\nDie meisten haben davon eins – selten alle drei. Und genau da passieren später die Fehler.`;

        focusQ = "Wenn du ehrlich bist: Welcher Punkt ist bei dir gerade am wichtigsten – Sicherheit, Stabilität oder zweite Spur?";
        engQ = "Und was ist der Engpass: fehlende Klarheit, fehlende Struktur – oder dass man allein nicht dranbleibt?";

        membership = `Okay. Dann sag ich’s dir sauber: Genau dafür ist die Mitgliedschaft gedacht.\nNicht als „Verkauf“, sondern als Rahmen: Klarheit, Struktur, Standards – damit du nicht wieder bei Null anfängst.\n\nWillst du, dass ich dich da reinnehme – ja oder nein?`;
      }
    } else {
      lead1 = `${(name?`Hi ${name},`:"Hi,")} ${ctx ? `quick call — ${ctx}. ` : ""}Do you have 60 seconds?`;
      lead2 = "I just want to hear where you are right now — and whether I can offer you a clean framework if you need it.";
      warm2 = "Looking back at the last months: has it been calm — or rather stressful?";

      lenk1 = "Status check: where is the pressure right now — work/day-to-day, money, or both?";
      lenk2 = "And honestly: how safe do you feel making money-related decisions — rather safe or rather unsure?";

      trustLead = "Why I ask:";
      trustQ = "Most people don't lose on a single thing — they lose on trust. Have you, or someone close, ever put in serious money and later realized: 'that wasn't clean'?";
      trustFollow = "If yes: was it more speed, promises, or pressure?";

      goals = `Quick and clear${name?` ${name}`:""} — three goals that must be solid:\n\n1) Safety: stop unnecessary losses\n2) Stability: a perspective that calms you down\n3) Second stream (optional): earn extra — but only after 1+2 are solid\n\nMost people have one — rarely all three. That's where mistakes happen later.`;

      focusQ = "Honestly: which point matters most right now — safety, stability, or a second stream?";
      engQ = "And what's the bottleneck: lack of clarity, lack of structure — or that alone it fades?";

      membership = `Okay. Then let me be clear: that's exactly what membership is for.\nNot as a “sale”, but as a framework: clarity, structure, standards — so you don't restart from zero.\n\nDo you want me to bring you in — yes or no?`;
    }

    const trustQuote = (lang==="de")
      ? (p.isFormal ? "„Ich will nicht, dass Sie Geld verlieren – deshalb rufe ich an.“" : "„Ich will nicht, dass du Geld verlierst – deshalb rufe ich dich an.“")
      : "“I don't want you to lose money — that's why I'm calling.”";

    const scripts = [
      {id:"s1", title:dict.step1, lines:[lead1, lead2, warm2]},
      {id:"s2", title:dict.step2, lines:[lenk1, lenk2]},
      {id:"s3", title:dict.step3, lines:[trustQuote, trustLead, trustQ, trustFollow]},
      {id:"s4", title:dict.step4, lines:[goals]},
      {id:"s5", title:dict.step5, lines:[focusQ, engQ, membership]}
    ];

    return {scripts, fokusLabel, engpassLabel};
  }

  function buildNextLine(state, lang){
    const name = safeName(state.vorname);
    const lib = LIB[lang];
    const p = pronouns(state.form);

    const t = lib.truths[state.truthIdx % lib.truths.length];
    const q = lib.sluices[state.sluiceIdx % lib.sluices.length];
    const m = lib.mirrors[state.mirrorIdx % lib.mirrors.length];

    if(lang==="de"){
      const lead = p.isFormal
        ? "„Ich will nicht, dass Sie Geld verlieren – deshalb rufe ich an.“"
        : "„Ich will nicht, dass du Geld verlierst – deshalb rufe ich dich an.“";
      return `${lead}\n${t}\n\n${name?name+"," : ""} ${q}\n\n(Spiegel, wenn kurz geantwortet wird): ${m}`;
    }
    return `“I don't want you to lose money — that's why I'm calling.”\n${t}\n\n${q}\n\n(If their answer is short): ${m}`;
  }

  function objectionAnswer(state, lang, key){
    const p = pronouns(state.form);

    function A(de, en){ return (lang==="de"?de:en); }

    if(key==="ob1"){
      return A(
        "Bestätigen: Versteh ich. Genau das will ich vermeiden.\nKlärfrage: Was triggert dich da am meisten – Tempo, Versprechen oder Druck?\nEinordnen: Ich prüfe nur, ob ein Rahmen dir Sicherheit/Struktur/Dranbleiben gibt. Entscheiden tust du.",
        "Confirm: I get it. That's exactly what I want to avoid.\nClarify: What triggers you most — speed, promises, or pressure?\nFrame: I'm only checking whether a framework gives you safety/structure/consistency. You decide."
      );
    }
    if(key==="ob2"){
      return A(
        "Bestätigen: Versteh ich. Genau da verliert man zuerst Vertrauen.\nKlärfrage: War es eher zu viel Vertrauen, zu wenig Prüfung oder Druck von außen?\nEinordnen: Genau deshalb arbeiten wir mit Standards, damit das nicht nochmal passiert.",
        "Confirm: I get it. That's where trust breaks first.\nClarify: Was it too much trust, too little checking, or outside pressure?\nFrame: That's why we use standards — so it doesn't happen again."
      );
    }
    if(key==="ob3"){
      return A(
        `Bestätigen: Fair.\nKlärfrage: Was wäre realistisch – 2 Minuten jetzt oder lieber ein kurzer Folgetermin?\nEinordnen: Ich will nur prüfen, ob das für ${p.isFormal ? "Sie" : "dich"} passt. Kein Druck.`,
        "Confirm: Fair.\nClarify: What's realistic — 2 minutes now or a short follow-up?\nFrame: I only want to check fit. No pressure."
      );
    }
    if(key==="ob4"){
      return A(
        "Bestätigen: Sehr gut. Das ist sauber.\nKlärfrage: Was brauchst du zum Entscheiden – mehr Klarheit, mehr Struktur oder einfach Ruhe?\nEinordnen: Wenn du das benennst, ist der nächste Schritt klar – ohne Druck.",
        "Confirm: Good. That's clean.\nClarify: What do you need to decide — more clarity, more structure, or simply time?\nFrame: Once you name it, the next step is clear — no pressure."
      );
    }
    return A(
      "Bestätigen: Fair.\nKlärfrage: Bevor Zahl: passt der Nutzen (Sicherheit/Stabilität/Dranbleiben) überhaupt zu dir?\nEinordnen: Wenn ja, klären wir Konditionen sauber. Mir ist nur wichtig, dass du nicht nach Bauchgefühl zusagst.",
      "Confirm: Fair.\nClarify: Before numbers: does the value (safety/stability/consistency) fit you at all?\nFrame: If yes, we clarify terms cleanly. I just don't want gut-feel yeses."
    );
  }

  // UI
  const els = {
    langVal: document.getElementById("langVal"),
    toggleLangBtn: document.getElementById("toggleLangBtn"),
    resetBtn: document.getElementById("resetBtn"),
    statusTxt: document.getElementById("statusTxt"),
    vorname: document.getElementById("vorname"),
    kontext: document.getElementById("kontext"),
    notizen: document.getElementById("notizen"),
    fokus: document.getElementById("fokus"),
    engpass: document.getElementById("engpass"),
    tDu: document.getElementById("tDu"),
    tSie: document.getElementById("tSie"),
    steps: document.getElementById("steps"),
    truth: document.getElementById("truth"),
    sluice: document.getElementById("sluice"),
    mirror: document.getElementById("mirror"),
    nextBtn: document.getElementById("nextBtn"),
    nextLine: document.getElementById("nextLine"),
    copyNextBtn: document.getElementById("copyNextBtn"),
    objection: document.getElementById("objection"),
    objAnswer: document.getElementById("objAnswer"),
  };

  function applyI18n(lang){
    const dict = I18N[lang];
    document.documentElement.lang = (lang==="en" ? "en" : "de");
    els.langVal.textContent = (lang==="en" ? "EN" : "DE");

    document.querySelectorAll("[data-i18n]").forEach(el=>{
      const k = el.getAttribute("data-i18n");
      if(dict[k]) el.textContent = dict[k];
    });

    els.truth.innerHTML = "";
    els.sluice.innerHTML = "";
    els.mirror.innerHTML = "";
    LIB[lang].truths.forEach((t,i)=>{
      const o = document.createElement("option");
      o.value = String(i);
      o.textContent = t;
      els.truth.appendChild(o);
    });
    LIB[lang].sluices.forEach((t,i)=>{
      const o = document.createElement("option");
      o.value = String(i);
      o.textContent = t;
      els.sluice.appendChild(o);
    });
    LIB[lang].mirrors.forEach((t,i)=>{
      const o = document.createElement("option");
      o.value = String(i);
      o.textContent = t;
      els.mirror.appendChild(o);
    });

    els.objection.innerHTML = "";
    LIB[lang].objections.forEach((obj,i)=>{
      const o = document.createElement("option");
      o.value = obj.k;
      o.textContent = obj.v;
      els.objection.appendChild(o);
    });
  }

  function readState(){
    const saved = lsGet() || {};
    const lang = langGet();
    const state = {
      lang,
      form: saved.form || "du",
      vorname: saved.vorname || "",
      kontext: saved.kontext || "",
      notizen: saved.notizen || "",
      fokus: saved.fokus || "sicherheit",
      engpass: saved.engpass || "klarheit",
      truthIdx: (typeof saved.truthIdx==="number"?saved.truthIdx:0),
      sluiceIdx: (typeof saved.sluiceIdx==="number"?saved.sluiceIdx:0),
      mirrorIdx: (typeof saved.mirrorIdx==="number"?saved.mirrorIdx:0),
      objectionKey: saved.objectionKey || "ob1",
      doneMap: saved.doneMap || {}
    };
    return state;
  }

  function writeState(state, extra){
    const merged = Object.assign({}, state, extra || {});
    merged.updatedAt = nowTs();
    merged.lastUsed = nowTs();

    const bundle = buildScripts(merged, merged.lang);
    merged.fokusLabel = bundle.fokusLabel;
    merged.engpassLabel = bundle.engpassLabel;

    lsSet(merged);
    return merged;
  }

  function setForm(state, form){
    state.form = form;
    els.tDu.classList.toggle("active", form==="du");
    els.tSie.classList.toggle("active", form==="sie");
  }

  function render(state){
    applyI18n(state.lang);

    els.vorname.value = state.vorname;
    els.kontext.value = state.kontext;
    els.notizen.value = state.notizen;
    els.fokus.value = state.fokus;
    els.engpass.value = state.engpass;

    setForm(state, state.form);

    els.truth.value = String(state.truthIdx % LIB[state.lang].truths.length);
    els.sluice.value = String(state.sluiceIdx % LIB[state.lang].sluices.length);
    els.mirror.value = String(state.mirrorIdx % LIB[state.lang].mirrors.length);
    els.objection.value = state.objectionKey;

    const dict = I18N[state.lang];
    const bundle = buildScripts(state, state.lang);

    els.steps.innerHTML = "";
    bundle.scripts.forEach(s=>{
      const done = !!state.doneMap[s.id];
      const card = document.createElement("div");
      card.className = "step";
      card.innerHTML = `
        <div class="shd">
          <h3><span class="dot"></span>${s.title}</h3>
          <div class="tools">
            <button class="miniBtn" type="button" data-act="copy" data-id="${s.id}">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M9 9h10v10H9V9z" stroke="rgba(242,211,122,.9)" stroke-width="1.4"/>
                <path d="M5 15H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1" stroke="rgba(94,168,255,.85)" stroke-width="1.4" stroke-linecap="round"/>
              </svg>
              ${dict.btn_step_copy}
            </button>
            <button class="check ${done?"on":""}" type="button" data-act="done" data-id="${s.id}">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:16px;height:16px">
                <path d="M6 12.5l3.2 3.2L18 7.8" stroke="rgba(94,168,255,.9)" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              ${done ? dict.done_on : dict.done_off}
            </button>
          </div>
        </div>
        <div class="sbd">
          <div class="script" id="script_${s.id}">${s.lines.join("\n\n")}</div>
        </div>
      `;
      els.steps.appendChild(card);
    });

    els.nextLine.textContent = buildNextLine(state, state.lang);
    els.objAnswer.textContent = objectionAnswer(state, state.lang, state.objectionKey);
    els.statusTxt.textContent = dict.status_ready;
  }

  async function copyText(text){
    try{
      await navigator.clipboard.writeText(text);
      return true;
    }catch(e){
      try{
        const ta = document.createElement("textarea");
        ta.value = text;
        ta.style.position="fixed";
        ta.style.left="-1000px";
        document.body.appendChild(ta);
        ta.focus(); ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        return true;
      }catch(e2){
        return false;
      }
    }
  }

  // init
  let state = readState();
  applyI18n(state.lang);
  render(state);

  // events
  els.toggleLangBtn.addEventListener("click", ()=>{
    const next = (langGet()==="en" ? "de" : "en");
    langSet(next);
    state.lang = next;
    state = writeState(state);
    render(state);
  });

  els.resetBtn.addEventListener("click", ()=>{
    const lang = langGet();
    const msg = (lang==="en" ? "Reset this guide page (local data)?" : "Diese Leitfaden-Seite zurücksetzen (lokale Daten)?");
    if(!confirm(msg)) return;
    try{ localStorage.removeItem(PAGE_KEY); }catch(e){}
    state = readState();
    render(state);
  });

  function persistAndRender(patch){
    state = Object.assign(state, patch || {});
    state = writeState(state);
    render(state);
  }

  els.vorname.addEventListener("input", ()=>persistAndRender({vorname: els.vorname.value}));
  els.kontext.addEventListener("input", ()=>persistAndRender({kontext: els.kontext.value}));
  els.notizen.addEventListener("input", ()=>persistAndRender({notizen: els.notizen.value}));
  els.fokus.addEventListener("change", ()=>persistAndRender({fokus: els.fokus.value}));
  els.engpass.addEventListener("change", ()=>persistAndRender({engpass: els.engpass.value}));

  els.tDu.addEventListener("click", ()=>persistAndRender({form:"du"}));
  els.tSie.addEventListener("click", ()=>persistAndRender({form:"sie"}));

  els.truth.addEventListener("change", ()=>persistAndRender({truthIdx: parseInt(els.truth.value,10)||0}));
  els.sluice.addEventListener("change", ()=>persistAndRender({sluiceIdx: parseInt(els.sluice.value,10)||0}));
  els.mirror.addEventListener("change", ()=>persistAndRender({mirrorIdx: parseInt(els.mirror.value,10)||0}));

  els.objection.addEventListener("change", ()=>persistAndRender({objectionKey: els.objection.value}));

  els.nextBtn.addEventListener("click", ()=>{
    persistAndRender({
      truthIdx: state.truthIdx + 1,
      sluiceIdx: state.sluiceIdx + 1,
      mirrorIdx: state.mirrorIdx + 1
    });
  });

  els.copyNextBtn.addEventListener("click", async ()=>{
    const ok = await copyText(els.nextLine.textContent || "");
    if(ok){
      const dict = I18N[state.lang];
      els.statusTxt.textContent = dict.copied;
      setTimeout(()=>{ els.statusTxt.textContent = dict.status_ready; }, 900);
    }
  });

  els.steps.addEventListener("click", async (ev)=>{
    const btn = ev.target.closest("button");
    if(!btn) return;
    const act = btn.getAttribute("data-act");
    const id = btn.getAttribute("data-id");
    if(!act || !id) return;

    if(act==="copy"){
      const el = document.getElementById("script_"+id);
      const ok = await copyText((el && el.textContent) ? el.textContent.trim() : "");
      if(ok){
        const dict = I18N[state.lang];
        els.statusTxt.textContent = dict.copied;
        setTimeout(()=>{ els.statusTxt.textContent = dict.status_ready; }, 900);
      }
      return;
    }
    if(act==="done"){
      const doneMap = Object.assign({}, state.doneMap);
      doneMap[id] = !doneMap[id];
      persistAndRender({doneMap});
      return;
    }
  });

})();
</script>
</body>
</html>
