<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>FSA Office â€“ Tools & Generator</title>
  <meta name="description" content="Einfache Office-Tools der FSA-Akademie: WochenaktivitÃ¤t erfassen, Verdienst planen, ehrlich auswerten â€“ ohne Login, rein zum Lernen.">
  <style>
    :root{
      --bg:#0b0f14;--ink:#e5e7eb;--muted:#94a3b8;--panel:rgba(255,255,255,.05);
      --line:rgba(148,163,184,.2);--brand:#eacc6f;--brand-ink:#0b0f14;--ok:#10b981;--warn:#eab308;--bad:#ef4444;
    }
    *{box-sizing:border-box}
    body{margin:0;background:#0b0f14;color:var(--ink);font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif}
    main{max-width:1180px;margin:0 auto;padding:6.5rem 1.2rem 6rem}
    h1{font-size:clamp(2.2rem,3vw,2.6rem);text-align:center;color:#ffda6a;margin:.2rem 0 .7rem}
    .intro{color:var(--muted);text-align:center;max-width:56rem;margin:0 auto 1.2rem;line-height:1.6}

    /* Intro-Accordion */
    .acc{max-width:920px;margin:1.4rem auto 2rem;border:1px solid var(--line);border-radius:14px;overflow:hidden}
    .acc h3{margin:0;font-size:1rem}
    .acc .row{border-top:1px solid var(--line)}
    .acc .btn{width:100%;text-align:left;background:#0f172a;color:var(--ink);border:none;padding:14px 16px;font-weight:700;cursor:pointer}
    .acc .btn:hover{background:#122033}
    .acc .panel{display:none;background:#0b1220;padding:14px 16px;line-height:1.6;color:#dbe3f1}
    .acc .tip{margin:.7rem 0 0;padding:.6rem .75rem;border-left:4px solid var(--brand);background:rgba(234,204,111,.08);border-radius:6px;color:#fde68a;font-size:.92rem}

    /* Tool Cards */
    .grid{display:grid;grid-template-columns:1fr;gap:1rem;max-width:980px;margin:0 auto}
    .card{background:var(--panel);border:1px solid var(--line);border-radius:16px;box-shadow:0 12px 28px rgba(0,0,0,.35)}
    .card header{padding:14px 16px;border-bottom:1px solid var(--line)}
    .card header h2{margin:0;font-size:1.2rem}
    .card .body{padding:14px 16px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:.8rem}
    label{display:block;font-size:.9rem;color:#cbd5e1}
    input[type="number"]{width:100%;padding:.6rem .7rem;border-radius:10px;border:1px solid var(--line);background:#0f172a;color:#e5e7eb}
    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}
    select{width:100%;padding:.58rem .7rem;border-radius:10px;border:1px solid var(--line);background:#0f172a;color:#e5e7eb}
    .hint{font-size:.86rem;color:#a7b0bf;margin:.4rem 0 .2rem}
    .actions{display:flex;gap:.6rem;flex-wrap:wrap;margin-top:.6rem}
    .btn{border:1px solid rgba(236,204,111,.5);background:rgba(236,204,111,.12);color:#fff;padding:.55rem 1.1rem;border-radius:999px;cursor:pointer}
    .btn:hover{background:rgba(236,204,111,.28)}
    .kpi{display:flex;flex-wrap:wrap;gap:.8rem;margin-top:.6rem}
    .tag{border:1px solid var(--line);background:#0f172a;border-radius:999px;padding:.35rem .7rem;font-size:.82rem}
    .ok{color:var(--ok);border-color:rgba(16,185,129,.35)}
    .warn{color:var(--warn);border-color:rgba(234,179,8,.35)}
    .bad{color:var(--bad);border-color:rgba(239,68,68,.35)}
    .sum{margin-top:.8rem;padding:.7rem .8rem;background:#0b1220;border:1px solid var(--line);border-radius:12px}
    .sum strong{color:#fff}

    /* Mentor-Analyse */
    .analysis{max-width:980px;margin:1rem auto 0;background:var(--panel);border:1px solid var(--line);border-radius:16px}
    .analysis header{padding:14px 16px;border-bottom:1px solid var(--line)}
    .analysis .body{padding:14px 16px}
    .mentor{margin:.6rem 0;padding:.7rem .8rem;border-radius:12px;border:1px solid var(--line)}
    .mentor.ok{border-color:rgba(16,185,129,.35);background:rgba(16,185,129,.08)}
    .mentor.warn{border-color:rgba(234,179,8,.35);background:rgba(234,179,8,.08)}
    .mentor.bad{border-color:rgba(239,68,68,.35);background:rgba(239,68,68,.08)}

    .footer-note{max-width:820px;margin:2rem auto 0;text-align:center;color:#cfd7e6;line-height:1.6;border-top:1px solid var(--line);padding-top:1.2rem}
    .cta{display:inline-flex;align-items:center;gap:.4rem;background:radial-gradient(circle at top,#eacc6f,#c89620);color:var(--brand-ink);border:none;border-radius:999px;padding:.55rem 1.2rem;font-weight:700;text-decoration:none;box-shadow:0 12px 25px rgba(0,0,0,.35)}
    .muted{color:var(--muted);font-size:.9rem}

    @media (max-width:820px){
      .row{grid-template-columns:1fr}
      main{padding-top:6rem}
    }
  </style>
</head>
<body>
  <!-- Globale Navigation -->
  <script src="/lp-anfang/library/js/menu.js"></script>
  <script src="/lp-anfang/library/js/lang-switcher.js"></script>
  <script src="/lp-anfang/library/js/music-button.js"></script>

  <main>
    <header>
      <h1 data-i18n="title">FSA Office â€“ Tools &amp; Generator</h1>
      <p class="intro" data-i18n="intro">
        Einfach. Ehrlich. NÃ¼tzlich. Erfasse deine WochenaktivitÃ¤t, plane deinen Verdienst â€“ und sieh klar, was noch fehlt. Keine Logins, keine Speicherung â€“ Lernen durch Reflexion.
      </p>
    </header>

    <!-- Intro-Accordion -->
    <section class="acc" id="intro">
      <div class="row">
        <button class="btn" type="button" data-acc="1" data-i18n="acc1-title">ðŸ”‘ Wie nutze ich die Tools?</button>
        <div class="panel" data-panel="1">
          <p data-i18n="acc1-text">
            FÃ¼lle die Felder ehrlich aus. Das System rechnet mit 4:1-SchÃ¤tzwerten als Benchmark (4 Anrufe â‰ˆ 1 GesprÃ¤ch, 4 GesprÃ¤che â‰ˆ 1 neuer Partner). Dein Ziel ergibt sich aus deinem gewÃ¼nschten Einkommen und deinem Mix der Pakete (klein/groÃŸ).
          </p>
          <div class="tip" data-i18n="acc1-tip">ðŸ’¬ Mentor: â€žDie Zahlen lÃ¼gen nicht â€“ sie spiegeln nur, wie du fokussierst.â€œ</div>
        </div>
      </div>
      <div class="row">
        <button class="btn" type="button" data-acc="2" data-i18n="acc2-title">ðŸŽ¯ Was bedeuten 15/60 &amp; 10%/20%?</button>
        <div class="panel" data-panel="2">
          <p data-i18n="acc2-text">
            Wir rechnen bewusst simpel: kleines Paket = 15 (WÃ¤hrung deiner Wahl) mit 10% Provision; groÃŸes Paket = 60 mit 20% Provision. WÃ¤hle EUR oder USD â€“ die BetrÃ¤ge bleiben nominal gleich.
          </p>
          <div class="tip" data-i18n="acc2-tip">ðŸ’¬ Mentor: â€žKein BÃ¶rsenkurs, kein Tausch â€“ nur Orientierung.â€œ</div>
        </div>
      </div>
      <div class="row">
        <button class="btn" type="button" data-acc="3" data-i18n="acc3-title">ðŸ§­ Warum Ehrlichkeit zÃ¤hlt</button>
        <div class="panel" data-panel="3">
          <p data-i18n="acc3-text">
            Diese Seite speichert nichts. Sie rechnet nur. Je ehrlicher du eintrÃ¤gst, desto klarer siehst du, welche kleinen Schritte dein Ergebnis sofort verbessern.
          </p>
          <div class="tip" data-i18n="acc3-tip">ðŸ’¬ Mentor: â€žWer ehrlich rechnet, spart Monate.â€œ</div>
        </div>
      </div>
    </section>

    <!-- Tools -->
    <section class="grid" id="tools">
      <!-- Tool 1: WochenaktivitÃ¤t -->
      <article class="card" id="tool-activity">
        <header><h2 data-i18n="t1-title">ðŸ“ž WochenaktivitÃ¤t</h2></header>
        <div class="body">
          <p class="hint" data-i18n="t1-hint">Trage deine echten Zahlen fÃ¼r diese Woche ein.</p>
          <div class="row">
            <div>
              <label for="calls" data-i18n="t1-calls">Telefonate (GesprÃ¤chsanbahnung)</label>
              <input type="number" id="calls" min="0" step="1" placeholder="0">
            </div>
            <div>
              <label for="talks" data-i18n="t1-talks">Echte GesprÃ¤che (qualifiziert)</label>
              <input type="number" id="talks" min="0" step="1" placeholder="0">
            </div>
          </div>
          <div class="row" style="margin-top:.6rem">
            <div>
              <label for="partners" data-i18n="t1-partners">Neue Partner (Trustyfy)</label>
              <input type="number" id="partners" min="0" step="1" placeholder="0">
            </div>
            <div class="kpi" id="kpi-activity"></div>
          </div>
          <div class="actions">
            <button class="btn" type="button" id="btn-activity" data-i18n="btn-eval">Auswerten</button>
          </div>
          <div class="sum" id="sum-activity"></div>
        </div>
      </article>

      <!-- Tool 2: Verdienst-Planer -->
      <article class="card" id="tool-earn">
        <header><h2 data-i18n="t2-title">ðŸ’° Verdienst-Planer</h2></header>
        <div class="body">
          <p class="hint" data-i18n="t2-hint">Ziel festlegen, WÃ¤hrung wÃ¤hlen, Mix einstellen. Wir rechnen den Rest.</p>
          <div class="row">
            <div>
              <label for="currency" data-i18n="t2-currency">WÃ¤hrung</label>
              <select id="currency">
                <option value="EUR">EUR (â‚¬)</option>
                <option value="USD">USD ($)</option>
              </select>
            </div>
            <div>
              <label for="goal" data-i18n="t2-goal">Wunsch-Einkommen (pro Woche)</label>
              <input type="number" id="goal" min="0" step="1" placeholder="0">
            </div>
          </div>
          <p class="hint" style="margin-top:.6rem" data-i18n="t2-mix">Mix festlegen: Anteil kleiner/groÃŸer Pakete (Summe = 100%)</p>
          <div class="row">
            <div>
              <label for="mixSmall" data-i18n="t2-small">Kleine Pakete (%)</label>
              <input type="number" id="mixSmall" min="0" max="100" step="1" value="60">
            </div>
            <div>
              <label for="mixLarge" data-i18n="t2-large">GroÃŸe Pakete (%)</label>
              <input type="number" id="mixLarge" min="0" max="100" step="1" value="40">
            </div>
          </div>
          <div class="actions">
            <button class="btn" type="button" id="btn-earn" data-i18n="btn-calc">Berechnen</button>
          </div>
          <div class="sum" id="sum-earn"></div>
        </div>
      </article>

      <!-- Tool 3: Mentor-Analyse -->
      <article class="card" id="tool-mentor">
        <header><h2 data-i18n="t3-title">ðŸ§  Mentor-Analyse</h2></header>
        <div class="body">
          <p class="hint" data-i18n="t3-hint">ErklÃ¤rung, warum dein Ziel erreicht wurde â€“ oder was als NÃ¤chstes zu tun ist.</p>
          <div id="mentor-out"></div>
        </div>
      </article>
    </section>

    <!-- Abschluss -->
    <section class="footer-note">
      <p class="muted" data-i18n="foot-note">
        Diese Seite speichert nichts. Nutze sie tÃ¤glich oder wÃ¶chentlich als Spiegel. Kleine, wiederholbare Schritte schlagen groÃŸe, unklare PlÃ¤ne.
      </p>
      <a href="/lp-anfang/pages/office.html" class="cta" data-i18n="foot-cta">ZurÃ¼ck zu â€žMein Arbeitsbereichâ€œ â†’</a>
    </section>

    <div id="campus-menu-anchor" style="height:5rem"></div>
  </main>

  <!-- Office-MenÃ¼ unten -->
  <script src="/lp-anfang/library/js/office-menu.js"></script>

  <script>
  (function(){
    // i18n
    const UI={
      de:{
        title:"FSA Office â€“ Tools & Generator",
        intro:"Einfach. Ehrlich. NÃ¼tzlich. Erfasse deine WochenaktivitÃ¤t, plane deinen Verdienst â€“ und sieh klar, was noch fehlt. Keine Logins, keine Speicherung â€“ Lernen durch Reflexion.",
        "acc1-title":"ðŸ”‘ Wie nutze ich die Tools?",
        "acc1-text":"FÃ¼lle die Felder ehrlich aus. Das System rechnet mit 4:1-SchÃ¤tzwerten als Benchmark (4 Anrufe â‰ˆ 1 GesprÃ¤ch, 4 GesprÃ¤che â‰ˆ 1 neuer Partner). Dein Ziel ergibt sich aus deinem gewÃ¼nschten Einkommen und deinem Mix der Pakete (klein/groÃŸ).",
        "acc1-tip":"ðŸ’¬ Mentor: â€žDie Zahlen lÃ¼gen nicht â€“ sie spiegeln nur, wie du fokussierst.â€œ",
        "acc2-title":"ðŸŽ¯ Was bedeuten 15/60 & 10%/20%?",
        "acc2-text":"Wir rechnen bewusst simpel: kleines Paket = 15 (WÃ¤hrung deiner Wahl) mit 10% Provision; groÃŸes Paket = 60 mit 20% Provision. WÃ¤hle EUR oder USD â€“ die BetrÃ¤ge bleiben nominal gleich.",
        "acc2-tip":"ðŸ’¬ Mentor: â€žKein BÃ¶rsenkurs, kein Tausch â€“ nur Orientierung.â€œ",
        "acc3-title":"ðŸ§­ Warum Ehrlichkeit zÃ¤hlt",
        "acc3-text":"Diese Seite speichert nichts. Sie rechnet nur. Je ehrlicher du eintrÃ¤gst, desto klarer siehst du, welche kleinen Schritte dein Ergebnis sofort verbessern.",
        "acc3-tip":"ðŸ’¬ Mentor: â€žWer ehrlich rechnet, spart Monate.â€œ",

        "t1-title":"ðŸ“ž WochenaktivitÃ¤t",
        "t1-hint":"Trage deine echten Zahlen fÃ¼r diese Woche ein.",
        "t1-calls":"Telefonate (GesprÃ¤chsanbahnung)",
        "t1-talks":"Echte GesprÃ¤che (qualifiziert)",
        "t1-partners":"Neue Partner (Trustyfy)",

        "t2-title":"ðŸ’° Verdienst-Planer",
        "t2-hint":"Ziel festlegen, WÃ¤hrung wÃ¤hlen, Mix einstellen. Wir rechnen den Rest.",
        "t2-currency":"WÃ¤hrung",
        "t2-goal":"Wunsch-Einkommen (pro Woche)",
        "t2-mix":"Mix festlegen: Anteil kleiner/groÃŸer Pakete (Summe = 100%)",
        "t2-small":"Kleine Pakete (%)",
        "t2-large":"GroÃŸe Pakete (%)",

        "t3-title":"ðŸ§  Mentor-Analyse",
        "t3-hint":"ErklÃ¤rung, warum dein Ziel erreicht wurde â€“ oder was als NÃ¤chstes zu tun ist.",

        "btn-eval":"Auswerten",
        "btn-calc":"Berechnen",

        "foot-note":"Diese Seite speichert nichts. Nutze sie tÃ¤glich oder wÃ¶chentlich als Spiegel. Kleine, wiederholbare Schritte schlagen groÃŸe, unklare PlÃ¤ne.",
        "foot-cta":"ZurÃ¼ck zu â€žMein Arbeitsbereichâ€œ â†’"
      },
      en:{
        title:"FSA Office â€“ Tools & Generator",
        intro:"Simple. Honest. Useful. Record your weekly activity, plan your income â€“ and see whatâ€™s still missing. No logins, no storage â€“ learning through reflection.",
        "acc1-title":"ðŸ”‘ How to use these tools",
        "acc1-text":"Enter your numbers honestly. We use a 4:1 benchmark (â‰ˆ4 calls per real talk, â‰ˆ4 talks per new partner). Your goal comes from your desired income and your package mix (small/large).",
        "acc1-tip":"ðŸ’¬ Mentor: â€œNumbers donâ€™t lie â€“ they mirror your focus.â€",
        "acc2-title":"ðŸŽ¯ What do 15/60 & 10%/20% mean?",
        "acc2-text":"We keep it simple: small package = 15 (your chosen currency) with 10% commission; large package = 60 with 20% commission. Choose EUR or USD â€“ amounts remain nominal.",
        "acc2-tip":"ðŸ’¬ Mentor: â€œNo exchange rate here â€“ only orientation.â€",
        "acc3-title":"ðŸ§­ Why honesty matters",
        "acc3-text":"This page stores nothing. It only calculates. The more honest you are, the faster youâ€™ll see the next smallest step that actually improves your result.",
        "acc3-tip":"ðŸ’¬ Mentor: â€œHonest math saves months.â€",

        "t1-title":"ðŸ“ž Weekly activity",
        "t1-hint":"Enter your real numbers for this week.",
        "t1-calls":"Calls (initial outreach)",
        "t1-talks":"Real talks (qualified)",
        "t1-partners":"New partners (Trustyfy)",

        "t2-title":"ðŸ’° Income planner",
        "t2-hint":"Set a goal, pick currency, define your mix. Weâ€™ll calculate the rest.",
        "t2-currency":"Currency",
        "t2-goal":"Target income (per week)",
        "t2-mix":"Define your mix: share of small/large packages (must add to 100%)",
        "t2-small":"Small packages (%)",
        "t2-large":"Large packages (%)",

        "t3-title":"ðŸ§  Mentor analysis",
        "t3-hint":"Explanation of why you met your goal â€“ or what to do next.",

        "btn-eval":"Evaluate",
        "btn-calc":"Calculate",

        "foot-note":"This page stores nothing. Use it daily or weekly as a mirror. Small repeatable steps beat big fuzzy plans.",
        "foot-cta":"Back to â€œMy workspaceâ€ â†’"
      }
    };

    function i18nApply(){
      const lang=localStorage.getItem("fsa_lang")||"de";
      const dict=UI[lang]||UI.de;
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const k=el.getAttribute("data-i18n");
        if(dict[k]) el.textContent=dict[k];
      });
    }

    // Accordion
    function initAcc(){
      document.querySelectorAll(".acc .btn").forEach(btn=>{
        btn.addEventListener("click",()=>{
          const id=btn.getAttribute("data-acc");
          const panel=document.querySelector('.acc .panel[data-panel="'+id+'"]');
          const open=panel.style.display==="block";
          document.querySelectorAll(".acc .panel").forEach(p=>p.style.display="none");
          if(!open) panel.style.display="block";
        });
      });
    }

    // Core logic
    const COMM_SMALL=0.10, PRICE_SMALL=15;
    const COMM_LARGE=0.20, PRICE_LARGE=60;

    function fmt(n){
      if(isNaN(n)) return "â€“";
      const lang=localStorage.getItem("fsa_lang")||"de";
      return n.toLocaleString(lang, {maximumFractionDigits:2});
    }

    function badge(text,cls=""){
      return `<span class="tag ${cls}">${text}</span>`;
    }

    function evaluateActivity(){
      const calls = +document.getElementById("calls").value || 0;
      const talks = +document.getElementById("talks").value || 0;
      const partners = +document.getElementById("partners").value || 0;

      // 4:1 Benchmarks
      const benchTalks = Math.floor(calls/4);
      const benchPartners = Math.floor(talks/4);

      const kpi=document.getElementById("kpi-activity");
      kpi.innerHTML="";
      kpi.innerHTML += badge(`Ã˜ Talks erwartet: ${fmt(benchTalks)}`);
      kpi.innerHTML += badge(`Ã˜ Partner erwartet: ${fmt(benchPartners)}`);

      let status="warn";
      if(partners >= benchPartners && benchPartners>0) status="ok";
      if(partners < benchPartners/2) status="bad";

      const sum=document.getElementById("sum-activity");
      sum.innerHTML = `
        <div><strong>${fmt(calls)}</strong> Calls Â· <strong>${fmt(talks)}</strong> Talks Â· <strong>${fmt(partners)}</strong> Partner</div>
        <div style="margin-top:.35rem">${status==="ok"?badge("stabil","ok"):status==="warn"?badge("Luft nach oben","warn"):badge("unter Benchmark","bad")}</div>
      `;
      return {calls,talks,partners,benchTalks,benchPartners};
    }

    function calcEarnings(){
      const curr=document.getElementById("currency").value||"EUR";
      const goal= +document.getElementById("goal").value || 0;
      let ps= +document.getElementById("mixSmall").value || 0;
      let pl= +document.getElementById("mixLarge").value || 0;

      if(ps<0) ps=0; if(pl<0) pl=0;
      if(ps+pl===0){ ps=60; pl=40; }
      // Normieren auf 100
      const sumPct = ps+pl;
      ps = Math.round((ps/sumPct)*100);
      pl = 100-ps;
      document.getElementById("mixSmall").value = ps;
      document.getElementById("mixLarge").value = pl;

      const revSmall = PRICE_SMALL*COMM_SMALL; // 1.5
      const revLarge = PRICE_LARGE*COMM_LARGE; // 12
      const avgRev = (ps/100)*revSmall + (pl/100)*revLarge;

      const neededSales = goal>0 ? Math.ceil(goal/avgRev) : 0;
      const expSmall = Math.round(neededSales*(ps/100));
      const expLarge = neededSales - expSmall;

      const sum=document.getElementById("sum-earn");
      const sym = curr==="EUR" ? "â‚¬" : "$";
      sum.innerHTML = `
        <div><strong>${sym} ${fmt(goal)}</strong> Ziel Â· Mix: <strong>${ps}% klein</strong> / <strong>${pl}% groÃŸ</strong></div>
        <div class="kpi" style="margin-top:.5rem">
          ${badge(`Ã˜ Provision pro Sale â‰ˆ ${sym} ${fmt(avgRev)}`)}
          ${badge(`benÃ¶tigte Sales: ${fmt(neededSales)}`)}
          ${badge(`davon klein: ${fmt(expSmall)}`)}
          ${badge(`davon groÃŸ: ${fmt(expLarge)}`)}
        </div>
      `;
      return {goal,curr,avgRev,neededSales,expSmall,expLarge};
    }

    function mentorAnalysis(activity, earnPlan){
      const out=document.getElementById("mentor-out");
      out.innerHTML="";

      // Wir interpretieren "partners" als abgeschlossene Sales dieser Woche.
      const actualSales = activity.partners;
      const need = earnPlan.neededSales;

      // Calls/Talks benchmarks rÃ¼ckwÃ¤rts aus Ziel:
      // Ziel â†’ benÃ¶tigte Sales â†’ benÃ¶tigte Talks (x4) â†’ benÃ¶tigte Calls (x4)
      const needTalks = need*4;
      const needCalls = needTalks*4;

      let tone="warn", title="", msg="";
      if(need===0){
        tone="warn";
        title = (localStorage.getItem("fsa_lang")||"de")==="de" ? "Kein Ziel gesetzt." : "No target set.";
        msg = (localStorage.getItem("fsa_lang")||"de")==="de"
              ? "Setze ein Wochenziel und wÃ¤hle deinen Mix. Dann zeigt dir die Analyse, welche AktivitÃ¤t dafÃ¼r nÃ¶tig ist."
              : "Set a weekly target and choose your mix. The analysis will then show the activity required.";
      } else if(actualSales >= need){
        tone="ok";
        title = (localStorage.getItem("fsa_lang")||"de")==="de" ? "Ziel erreicht â€“ stark." : "Target reached â€“ well done.";
        msg = (localStorage.getItem("fsa_lang")||"de")==="de"
              ? `Du hast ${fmt(actualSales)} Sales vs. ${fmt(need)} benÃ¶tigt. Halte das Niveau. NÃ¤chster Schritt: QualitÃ¤t prÃ¼fen (Stornoquote minimieren, Follow-ups sauber).`
              : `You made ${fmt(actualSales)} sales vs. ${fmt(need)} required. Maintain the pace. Next step: quality checks (minimize churn, structure follow-ups).`;
      } else if(actualSales >= Math.ceil(need*0.5)){
        tone="warn";
        title = (localStorage.getItem("fsa_lang")||"de")==="de" ? "Halbe Strecke â€“ Fokus schÃ¤rfen." : "Halfway there â€“ tighten focus.";
        const missing = need-actualSales;
        msg = (localStorage.getItem("fsa_lang")||"de")==="de"
              ? `Es fehlen ${fmt(missing)} Sales. Richtwert: +${fmt(missing*4)} qualifizierte GesprÃ¤che oder +${fmt(missing*16)} Calls (4:1 pro Stufe).`
              : `Youâ€™re short by ${fmt(missing)} sales. Heuristic: +${fmt(missing*4)} qualified talks or +${fmt(missing*16)} calls (4:1 each step).`;
      } else {
        tone="bad";
        title = (localStorage.getItem("fsa_lang")||"de")==="de" ? "Weit unter Ziel â€“ klein anfangen." : "Far from target â€“ start small.";
        const missing = need-actualSales;
        msg = (localStorage.getItem("fsa_lang")||"de")==="de"
              ? `Es fehlen ${fmt(missing)} Sales. Starte mit einem Mini-Plan bis Freitag: tÃ¤glich +${fmt(Math.max(4, Math.ceil(missing*16/5)))} Calls, +${fmt(Math.max(1, Math.ceil(missing*4/5)))} GesprÃ¤che. Montag prÃ¼fen, anpassen.`
              : `Youâ€™re short by ${fmt(missing)} sales. Try a mini-plan until Friday: daily +${fmt(Math.max(4, Math.ceil(missing*16/5)))} calls, +${fmt(Math.max(1, Math.ceil(missing*4/5)))} talks. Review Monday.`;
      }

      const lang = localStorage.getItem("fsa_lang")||"de";
      const needLine = lang==="de"
        ? `FÃ¼r dein Ziel brauchst du grob: ${fmt(need)} Sales Â· ${fmt(needTalks)} GesprÃ¤che Â· ${fmt(needCalls)} Calls.`
        : `For your target you roughly need: ${fmt(need)} sales Â· ${fmt(needTalks)} talks Â· ${fmt(needCalls)} calls.`;

      out.innerHTML = `
        <div class="mentor ${tone}">
          <strong>${title}</strong><br>${msg}
          <div style="margin-top:.5rem" class="muted">${needLine}</div>
        </div>
      `;
    }

    // Events
    document.getElementById("btn-activity").addEventListener("click",()=>{
      const a=evaluateActivity();
      // Re-run mentor analysis with latest earn plan if any
      const e=calcEarnings();
      mentorAnalysis(a,e);
    });
    document.getElementById("btn-earn").addEventListener("click",()=>{
      const a=evaluateActivity();
      const e=calcEarnings();
      mentorAnalysis(a,e);
    });

    // i18n init + react to language changes
    function init(){
      i18nApply(); initAcc();
    }
    document.addEventListener("fsa:lang-change",()=>i18nApply());
    window.addEventListener("load",init);
  })();
  </script>
</body>
</html>
