<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kapitel 17 – Medien, Material, Content: Was man wirklich braucht</title>
  <meta name="description" content="Vertriebshandbuch – Kapitel 17: Medien, Material, Content: Was man wirklich braucht." />

  <style>
    :root{
      --bg:#050814;
      --bg2:#020617;
      --panel:rgba(15,23,42,.88);
      --panel2:rgba(15,23,42,.72);
      --txt:#e9eef7;
      --muted:#a9b4c7;
      --gold:#d4af37;
      --gold2:#f2d37a;
      --shadow:0 24px 60px rgba(0,0,0,.55);
      --glow:0 0 26px rgba(212,175,55,.22), 0 12px 30px rgba(0,0,0,.55);
      --radius:18px;
      --maxw:1100px;
    }
    *{box-sizing:border-box;}

    html,body{
      margin:0;
      background:
        radial-gradient(1200px 800px at 20% 10%, rgba(212,175,55,.10), transparent 55%),
        radial-gradient(900px 600px at 80% 30%, rgba(94,168,255,.08), transparent 60%),
        linear-gradient(180deg,var(--bg),var(--bg2));
      color:var(--txt);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      overflow-x:hidden;
    }

    body{
      hyphens:auto;
      -webkit-hyphens:auto;
      -ms-hyphens:auto;
      overflow-wrap:anywhere;
      word-break:normal;
    }
    p,li,td,th,small,span,div,h1,h2,h3{
      overflow-wrap:anywhere;
      word-break:normal;
      hyphens:auto;
    }

    .wrap{max-width:var(--maxw);margin:0 auto;padding:34px 18px 60px;}

    .topbar{
      display:flex;align-items:flex-start;justify-content:space-between;
      gap:12px;flex-wrap:wrap;margin:6px 0 14px;
    }
    .brand{display:flex;flex-direction:column;gap:6px;min-width:min(720px,100%);}

    .kicker{
      display:inline-flex;align-items:center;gap:8px;
      padding:7px 10px;border-radius:999px;
      border:1px solid rgba(212,175,55,.25);
      background:rgba(0,0,0,.18);
      color:var(--gold2);
      font-size:12px;font-weight:800;letter-spacing:.25px;
      width:fit-content; white-space:nowrap;
    }
    .dot{
      width:8px;height:8px;border-radius:99px;
      background:rgba(242,211,122,.9);
      box-shadow:0 0 12px rgba(212,175,55,.35)
    }

    h1{margin:0;font-size:34px;line-height:1.1;font-weight:900}
    .sub{margin:2px 0 0;color:var(--muted);max-width:95ch;line-height:1.55}

    .line{
      height:2px;
      background:linear-gradient(90deg,transparent,var(--gold),transparent);
      opacity:.85;margin:12px 0 18px;
    }

    .panel{
      background:linear-gradient(180deg,var(--panel),var(--panel2));
      border:1px solid rgba(212,175,55,.22);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      backdrop-filter: blur(6px);
      padding:18px 18px;
      position:relative;
      overflow:hidden;
      margin-top:14px;
    }
    .panel:before{
      content:"";
      position:absolute;inset:-2px;
      background:radial-gradient(650px 240px at 10% 0%, rgba(212,175,55,.10), transparent 55%);
      pointer-events:none;
    }
    .panel > *{position:relative;z-index:1;}

    h2{margin:0 0 8px;font-size:18px;letter-spacing:.2px;color:var(--gold2)}
    p{margin:0 0 10px;color:var(--txt);line-height:1.7;font-size:14.5px;opacity:.98}
    .muted{color:var(--muted);}
    .hr{height:1px;background:rgba(212,175,55,.22);margin:14px 0}

    .vizGrid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:12px;
      align-items:stretch;
      margin-top:10px;
    }
    @media (max-width: 980px){
      .vizGrid{grid-template-columns:1fr;}
    }
    .vizCard{
      border:1px solid rgba(212,175,55,.22);
      background:rgba(0,0,0,.14);
      border-radius:16px;
      padding:12px;
      overflow:hidden;
      min-width:0;
    }
    .vizTitle{
      margin:0 0 10px;
      font-weight:900;
      color:var(--txt);
      font-size:14.5px;
    }
    .vizInner{
      border:1px solid rgba(212,175,55,.16);
      background:rgba(0,0,0,.14);
      border-radius:14px;
      padding:12px;
      min-width:0;
      overflow:hidden;
    }

    .tileGrid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap:10px;
      min-width:0;
    }
    @media (max-width: 560px){
      .tileGrid{grid-template-columns:1fr;}
    }
    .tile{
      border:1px solid rgba(212,175,55,.16);
      border-radius:14px;
      padding:10px 10px;
      background:rgba(0,0,0,.12);
      min-width:0;
    }
    .tile .tHead{
      display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;
      margin-bottom:6px;
    }
    .tile .tTitle{font-weight:900;color:var(--txt);font-size:13.5px;}
    .pill{
      display:inline-flex;align-items:center;gap:8px;
      padding:4px 8px;border-radius:999px;
      border:1px solid rgba(212,175,55,.22);
      background:rgba(0,0,0,.14);
      color:var(--gold2);
      font-size:11px;font-weight:900;
      white-space:nowrap;
    }
    .tile .tText{color:var(--muted);font-size:13.2px;line-height:1.55;}

    .miniTableWrap{min-width:0; overflow:hidden;}
    table.mini{
      width:100%;
      border-collapse:collapse;
      table-layout:auto;
    }
    table.mini th, table.mini td{
      text-align:left;
      vertical-align:top;
      padding:10px 10px;
      border-bottom:1px solid rgba(212,175,55,.18);
      font-size:13.5px;
      line-height:1.45;
      white-space:normal;
      overflow-wrap:break-word;
      word-break:break-word;
    }
    table.mini th{
      color:var(--gold2);
      font-weight:900;
      border-bottom:1px solid rgba(212,175,55,.26);
      font-size:13px;
    }
    table.mini tr:last-child td{border-bottom:none;}

    .fieldRow{display:grid;grid-template-columns:1fr;gap:8px;margin:10px 0 2px;}
    .label{font-size:13px;color:var(--muted);font-weight:700;}
    .inp{
      width:100%;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(212,175,55,.22);
      background:rgba(0,0,0,.18);
      color:var(--txt);
      outline:none;
      font-size:14px;
      line-height:1.4;
    }
    .inp:focus{border-color:rgba(212,175,55,.42);box-shadow:0 0 0 3px rgba(212,175,55,.10);}
    .inp::placeholder{color:rgba(169,180,199,.75);}

    textarea{
      width:100%;
      min-height:200px;
      resize:vertical;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(212,175,55,.22);
      background:rgba(0,0,0,.18);
      color:var(--txt);
      outline:none;
      line-height:1.6;
      font-size:14px;
    }
    textarea:focus{border-color:rgba(212,175,55,.42);box-shadow:0 0 0 3px rgba(212,175,55,.10);}

    .noteRow{
      display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-top:10px
    }
    .saveHint{font-size:12px;color:var(--muted);}
    .smallBtn{
      padding:10px 12px;border-radius:14px;
      border:1px solid rgba(212,175,55,.28);
      background:rgba(0,0,0,.22);
      color:var(--txt);
      font-weight:900;
      display:inline-flex;align-items:center;gap:8px;
      white-space:nowrap;cursor:pointer;
      text-decoration:none;
    }
    .smallBtn:hover{background:rgba(0,0,0,.28);}

    .footerNav{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap;justify-content:space-between;align-items:center;}
    .footerNav .left,.footerNav .mid,.footerNav .right{display:flex;gap:10px;flex-wrap:wrap;align-items:center;}
    .navBtn{
      padding:10px 12px;border-radius:14px;
      border:1px solid rgba(212,175,55,.28);
      background:rgba(0,0,0,.22);
      color:var(--txt);font-weight:900;text-decoration:none;
      display:inline-flex;align-items:center;gap:8px;white-space:nowrap;
    }
    .navBtn:hover{background:rgba(0,0,0,.28);}
    .navBtnPrimary{
      background:linear-gradient(180deg, rgba(212,175,55,.95), rgba(212,175,55,.75));
      color:#111;border:none;box-shadow:var(--glow);
    }
    .navBtnPrimary:hover{filter:brightness(1.03);}

    @page{ margin:14mm; }
    @media print{
      html,body{
        background:#fff !important;color:#000 !important;
        height:auto !important;overflow:visible !important;
        -webkit-print-color-adjust: exact;print-color-adjust: exact;
      }
      .wrap{padding:0 !important;}
      .noteRow button{display:none !important;}
      .footerNav{display:none !important;}

      .panel{
        box-shadow:none !important;background:#fff !important;
        border:1px solid #999 !important;backdrop-filter:none !important;
      }
      .panel:before{display:none !important;}
      .sub,p,textarea,.muted,.label{color:#000 !important;}
      h1,h2{color:#000 !important;}
      .line{background:#999 !important;}
      a{color:#000 !important;text-decoration:none !important;}

      textarea,.inp{
        border:1px solid #999 !important;background:#fff !important;color:#000 !important;
      }

      .vizGrid{grid-template-columns: 1fr !important;}
      .tileGrid{grid-template-columns: 1fr !important;}
      .vizCard,.vizInner,.tile{background:#fff !important;border:1px solid #999 !important;}
      svg text{fill:#000 !important;}
      svg .printStroke{stroke:#000 !important;}
      svg .printFill{fill:#fff !important;}

      table.mini thead{display: table-header-group;}
      table.mini tr{break-inside: avoid;page-break-inside: avoid;}
      table.mini th, table.mini td{
        padding:6px 6px !important;
        font-size:11.5px !important;
        line-height:1.35 !important;
        color:#000 !important;
        border-bottom:1px solid #ddd !important;
        word-break: normal !important;
        overflow-wrap: break-word !important;
      }
      table.mini th{font-size:11.5px !important;}
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="kicker"><span class="dot"></span> Band 2 – Markt, Timing, Nachfrage, Positionierung (Realität &amp; Chancen)</div>
        <div>
          <h1>Kapitel 17 – Medien, Material, Content: Was man wirklich braucht</h1>
          <div class="sub">Gutes Material macht Vertrieb leichter – aber nur, wenn es geordnet ist. Weniger Material, mehr Struktur.</div>
        </div>
      </div>
    </div>

    <div class="line"></div>

    <section class="panel">
      <h2>Kernaussage</h2>
      <p><b>Gutes Material macht Vertrieb leichter – aber nur, wenn es geordnet ist. Weniger Material, mehr Struktur.</b></p>

      <div class="hr"></div>

      <p>Viele denken: „Wir brauchen mehr Content.“ Nein. Wir brauchen besseren Zugriff. Dieses Kapitel ordnet, welche Materialien sinnvoll sind und wie man sie nutzt, ohne Menschen zu überladen.</p>

      <div class="hr"></div>

      <h2>1) Die 4 Material-Kategorien</h2>
      <p class="muted">
        <b>A) Einstieg (kurz):</b> 1 Seite / 1 Link / 1 Überblick<br>
        <b>B) Vertiefung (mittel):</b> Kapitel/Handbuchteile, Checklisten, FAQ<br>
        <b>C) Umsetzung (praktisch):</b> Tools, Tabellen, Rechner, Onboarding<br>
        <b>D) Vertrauen (seriös):</b> Regeln, Grenzen, Haftung, Kultur
      </p>

      <div class="hr"></div>

      <h2>2) Was Vertrieb wirklich erleichtert</h2>
      <p class="muted">
        • klare Startseite<br>
        • klare Preislogik (ohne Drama)<br>
        • klare Checklisten<br>
        • klare Einwände &amp; Antworten<br>
        • klare Beispiele
      </p>

      <div class="hr"></div>

      <h2>3) Material-Regel: 1 Link pro Schritt</h2>
      <p>Das hält Overload klein.</p>

      <div class="hr"></div>

      <h2>4) Material als „Ausfüll-Buch“</h2>
      <p>Der große Vorteil vom Online-Handbuch: Nutzer schreiben ihre eigene Version. Das ist mehr als Lesen: Es ist Dokumentation.</p>

      <div class="hr"></div>

      <h2>Anschauung</h2>

      <div class="vizGrid">
        <div class="vizCard">
          <div class="vizTitle">Bibliotheks-Übersicht (Kachelgrid)</div>
          <div class="vizInner">
            <div class="tileGrid" aria-label="Bibliotheks Kachelgrid">
              <div class="tile">
                <div class="tHead">
                  <div class="tTitle">Einstieg</div>
                  <div class="pill">1 Seite / 1 Link</div>
                </div>
                <div class="tText">
                  Startpunkt, Überblick, „roter Faden“.<br>
                  Ziel: Tür öffnen, nicht erklären.
                </div>
              </div>

              <div class="tile">
                <div class="tHead">
                  <div class="tTitle">Vertiefung</div>
                  <div class="pill">Kapitel / FAQ</div>
                </div>
                <div class="tText">
                  Handbuchteile, Checklisten, typische Fragen.<br>
                  Ziel: Klarheit + Einordnung.
                </div>
              </div>

              <div class="tile">
                <div class="tHead">
                  <div class="tTitle">Umsetzung</div>
                  <div class="pill">Tools / Haken</div>
                </div>
                <div class="tText">
                  Tabellen, Rechner, Onboarding-Boxen.<br>
                  Ziel: Schritt setzen, nicht grübeln.
                </div>
              </div>

              <div class="tile">
                <div class="tHead">
                  <div class="tTitle">Vertrauen</div>
                  <div class="pill">Regeln / Grenzen</div>
                </div>
                <div class="tText">
                  Standards, Haftung, Kultur, Grenzen.<br>
                  Ziel: Seriösität sichtbar machen.
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="vizCard">
          <div class="vizTitle">Poster: „1 Link pro Schritt“ (druckbar)</div>
          <div class="vizInner" aria-label="Poster 1 Link pro Schritt">
            <svg viewBox="0 0 980 360" width="100%" height="auto" role="img" aria-label="1 Link pro Schritt Poster">
              <rect x="14" y="14" width="952" height="332" rx="22"
                    fill="rgba(0,0,0,.12)" class="printFill"
                    stroke="rgba(212,175,55,.18)" stroke-width="2" class="printStroke"/>
              <g font-family="system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif">
                <text x="44" y="86" font-size="34" font-weight="900" fill="rgba(242,211,122,.95)">Material-Regel</text>
                <text x="44" y="142" font-size="46" font-weight="900" fill="rgba(233,238,247,.95)">1 Link pro Schritt</text>

                <rect x="44" y="176" width="892" height="130" rx="18"
                      fill="rgba(0,0,0,.10)" class="printFill"
                      stroke="rgba(212,175,55,.14)" stroke-width="2" class="printStroke"/>
                <text x="70" y="228" font-size="18" font-weight="800" fill="rgba(233,238,247,.92)">Warum?</text>
                <text x="70" y="260" font-size="16" fill="rgba(169,180,199,.95)">
                  Overload sinkt. Entscheidung bleibt ruhig. Der nächste Schritt wird machbar.
                </text>
                <text x="70" y="292" font-size="16" fill="rgba(169,180,199,.95)">
                  Erst wenn der andere fragt, gibst du mehr.
                </text>

                <circle cx="900" cy="86" r="10" fill="rgba(212,175,55,.75)"/>
              </g>
            </svg>
          </div>
        </div>
      </div>

      <div class="vizCard" style="margin-top:12px;">
        <div class="vizTitle">Mini-Ordnerstruktur (Grafik)</div>
        <div class="vizInner" aria-label="Mini Ordnerstruktur">
          <svg viewBox="0 0 980 280" width="100%" height="auto" role="img" aria-label="Ordnerstruktur Grafik">
            <rect x="14" y="14" width="952" height="252" rx="18"
                  fill="rgba(0,0,0,.12)" class="printFill"
                  stroke="rgba(212,175,55,.18)" stroke-width="2" class="printStroke"/>
            <g font-family="system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif">
              <text x="44" y="60" font-size="16" font-weight="900" fill="rgba(242,211,122,.95)">Ordnung statt Overload</text>

              <!-- Tree -->
              <g transform="translate(44,86)">
                <!-- root -->
                <rect x="0" y="0" width="290" height="40" rx="12"
                      fill="rgba(0,0,0,.10)" class="printFill"
                      stroke="rgba(212,175,55,.16)" stroke-width="2" class="printStroke"/>
                <text x="14" y="26" font-size="14" font-weight="900" fill="rgba(233,238,247,.92)">Material / Library</text>

                <!-- connectors -->
                <path d="M145,40 L145,64" fill="none" stroke="rgba(212,175,55,.50)" stroke-width="2" class="printStroke"/>
                <path d="M145,64 L40,64" fill="none" stroke="rgba(212,175,55,.50)" stroke-width="2" class="printStroke"/>
                <path d="M145,64 L250,64" fill="none" stroke="rgba(212,175,55,.50)" stroke-width="2" class="printStroke"/>

                <path d="M40,64 L40,86" fill="none" stroke="rgba(212,175,55,.50)" stroke-width="2" class="printStroke"/>
                <path d="M250,64 L250,86" fill="none" stroke="rgba(212,175,55,.50)" stroke-width="2" class="printStroke"/>

                <!-- left column -->
                <rect x="0" y="86" width="290" height="40" rx="12"
                      fill="rgba(0,0,0,.10)" class="printFill"
                      stroke="rgba(212,175,55,.14)" stroke-width="2" class="printStroke"/>
                <text x="14" y="112" font-size="13" fill="rgba(169,180,199,.95)">Einstieg (1 Seite)</text>

                <rect x="0" y="136" width="290" height="40" rx="12"
                      fill="rgba(0,0,0,.10)" class="printFill"
                      stroke="rgba(212,175,55,.14)" stroke-width="2" class="printStroke"/>
                <text x="14" y="162" font-size="13" fill="rgba(169,180,199,.95)">Vertiefung (Kapitel/FAQ)</text>

                <!-- right column (shifted) -->
                <g transform="translate(320,86)">
                  <rect x="0" y="0" width="290" height="40" rx="12"
                        fill="rgba(0,0,0,.10)" class="printFill"
                        stroke="rgba(212,175,55,.14)" stroke-width="2" class="printStroke"/>
                  <text x="14" y="26" font-size="13" fill="rgba(169,180,199,.95)">Umsetzung (Tools)</text>

                  <rect x="0" y="50" width="290" height="40" rx="12"
                        fill="rgba(0,0,0,.10)" class="printFill"
                        stroke="rgba(212,175,55,.14)" stroke-width="2" class="printStroke"/>
                  <text x="14" y="76" font-size="13" fill="rgba(169,180,199,.95)">Vertrauen (Regeln)</text>

                  <rect x="0" y="100" width="290" height="80" rx="14"
                        fill="rgba(0,0,0,.08)" class="printFill"
                        stroke="rgba(212,175,55,.12)" stroke-width="2" class="printStroke"/>
                  <text x="14" y="132" font-size="13" font-weight="900" fill="rgba(233,238,247,.92)">Regel</text>
                  <text x="14" y="156" font-size="13" fill="rgba(169,180,199,.95)">
                    Pro Schritt: genau 1 Link
                  </text>
                </g>
              </g>
            </g>
          </svg>
        </div>
      </div>

      <div class="hr"></div>

      <h2>Notizen &amp; Antworten</h2>
      <p class="muted">Alles, was du hier einträgst, bleibt nur auf deinem Gerät (LocalStorage).</p>

      <div class="fieldRow">
        <div class="label">1) Welches Material brauche ich wirklich?</div>
        <input class="inp" id="q1_material" type="text" placeholder="Mein echtes Minimal-Set…" />
      </div>

      <div class="fieldRow">
        <div class="label">2) Welche 3 Seiten sind mein Start-Set?</div>
        <input class="inp" id="q2_startset" type="text" placeholder="Seite 1 / Seite 2 / Seite 3…" />
      </div>

      <div class="fieldRow">
        <div class="label">3) Was überfordert Menschen bei mir?</div>
        <input class="inp" id="q3_overload" type="text" placeholder="Wo kippt es in Overload?" />
      </div>

      <div class="hr"></div>

      <p class="muted"><b>Freie Notizen (optional):</b></p>
      <textarea id="notes" placeholder="Zusätzliche Notizen…"></textarea>

      <div class="noteRow">
        <div class="saveHint" id="saveHint">Nicht gespeichert.</div>
        <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:flex-end;">
          <button class="smallBtn" type="button" id="clearChapter">Kapitel-Notizen löschen</button>
          <button class="smallBtn" type="button" id="clearAll">Alle Handbuch-Daten löschen</button>
        </div>
      </div>

      <div class="footerNav" aria-label="Kapitel Navigation">
        <div class="left">
          <a class="navBtn" href="./index.html" data-internal>← Inhaltsverzeichnis</a>
        </div>
        <div class="mid">
          <a class="navBtn" href="./kapitel-16.html" data-internal>← Zurück</a>
          <a class="navBtn navBtnPrimary" href="./kapitel-18.html" data-internal>Nächstes →</a>
        </div>
        <div class="right">
          <button class="navBtn navBtnPrimary" type="button" id="printBtn">Drucken</button>
        </div>
      </div>
    </section>
  </div>

  <script>
    (function(){
      document.getElementById("printBtn").addEventListener("click", function(){
        window.print();
      });
    })();
  </script>

  <script>
    (function(){
      const CHAPTER = "17";
      const STORAGE_PREFIX = "fsa_vh_";
      const KEY_NOTES  = STORAGE_PREFIX + "kap" + CHAPTER + "_notes";
      const KEY_FIELDS = STORAGE_PREFIX + "kap" + CHAPTER + "_fields";

      const notesEl = document.getElementById("notes");
      const hintEl  = document.getElementById("saveHint");

      const fieldIds = ["q1_material","q2_startset","q3_overload"];

      function setSaved(){ if(hintEl) hintEl.textContent = "Gespeichert (lokal)."; }
      function setUnsaved(){ if(hintEl) hintEl.textContent = "Nicht gespeichert."; }

      function safeGet(k){ try{ return localStorage.getItem(k); }catch(e){ return null; } }
      function safeSet(k,v){ try{ localStorage.setItem(k, v); }catch(e){} }

      function restore(){
        const raw = safeGet(KEY_FIELDS);
        if(raw){
          try{
            const obj = JSON.parse(raw);
            fieldIds.forEach(id=>{
              const el = document.getElementById(id);
              if(!el) return;
              if(Object.prototype.hasOwnProperty.call(obj,id)) el.value = obj[id] ?? "";
            });
          }catch(e){}
        }
        const v = safeGet(KEY_NOTES);
        if(v !== null && notesEl){ notesEl.value = v; setSaved(); }
        else setUnsaved();
      }

      let tId=null;
      function scheduleSave(){
        setUnsaved();
        if(tId) clearTimeout(tId);
        tId = setTimeout(function(){
          const obj = {};
          fieldIds.forEach(id=>{
            const el = document.getElementById(id);
            if(el) obj[id] = el.value || "";
          });
          safeSet(KEY_FIELDS, JSON.stringify(obj));
          if(notesEl) safeSet(KEY_NOTES, notesEl.value || "");
          setSaved();
        }, 250);
      }

      fieldIds.forEach(id=>{
        const el = document.getElementById(id);
        if(!el) return;
        el.addEventListener("input", scheduleSave);
        el.addEventListener("change", scheduleSave);
      });
      if(notesEl) notesEl.addEventListener("input", scheduleSave);

      document.getElementById("clearChapter").addEventListener("click", function(){
        if(!confirm("Kapitel-Notizen wirklich löschen?")) return;
        try{ localStorage.removeItem(KEY_NOTES); localStorage.removeItem(KEY_FIELDS); }catch(e){}
        fieldIds.forEach(id=>{ const el=document.getElementById(id); if(el) el.value=""; });
        if(notesEl) notesEl.value="";
        setUnsaved();
      });

      document.getElementById("clearAll").addEventListener("click", function(){
        if(!confirm("ALLE gespeicherten Handbuch-Daten auf diesem Gerät löschen?")) return;
        try{
          const keys=[];
          for(let i=0;i<localStorage.length;i++){
            const k=localStorage.key(i);
            if(k && k.startsWith(STORAGE_PREFIX)) keys.push(k);
          }
          keys.forEach(k=>localStorage.removeItem(k));
        }catch(e){}
        fieldIds.forEach(id=>{ const el=document.getElementById(id); if(el) el.value=""; });
        if(notesEl) notesEl.value="";
        setUnsaved();
        alert("Daten gelöscht.");
      });

      restore();
    })();
  </script>

  <script>
    (function(){
      const t = Date.now();
      document.querySelectorAll('a[data-internal]').forEach(a=>{
        const href = a.getAttribute('href');
        if(!href) return;
        try{
          const u = new URL(href, location.href);
          u.searchParams.set('nocache', t);
          a.href = u.pathname + u.search + u.hash;
        }catch(e){}
      });
    })();
  </script>
</body>
</html>
