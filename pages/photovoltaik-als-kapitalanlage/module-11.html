<!doctype html>
<!--
  FSA • Premium Kurs (Workbook)
  Kurs: Photovoltaik als Kapitalanlage
  Modul 11: Fördermittel & Zuschüsse (Überblick + Gesprächsstruktur)

  GitHub-Pfad: lp-anfang/pages/photovoltaik-als-kapitalanlage/module-11.html
  Commit-Message: photovoltaik-als-kapitalanlage – Modul 11 (Fördermittel) Premium: Förderarten/Antragsteller/Timing (Auswahl), Dachsanierung-Zuschuss-Check, Unterlagen-Check, Fragenkatalog, Wow-Landkarte, Glossar, Print, LocalStorage (DE/EN)
  Testlink (nocache): https://adler-fsa.github.io/lp-anfang/pages/photovoltaik-als-kapitalanlage/module-11.html?nocache=__TS__
-->
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Modul 11 – Fördermittel & Zuschüsse • Photovoltaik als Kapitalanlage</title>
  <meta name="description" content="Modul 11 (DE/EN): Fördermittel verstehen – Arten, Antragsteller, Timing, Unterlagen. Premium Workbook mit Auswahlfeldern, Dachsanierung-Check, Fragenkatalog, Wow-Grafik, Glossar, Print und LocalStorage." />
  <meta name="robots" content="index,follow" />

  <style>
    :root{
      --bg:#ffffff;
      --ink:#0f1114;
      --muted:#47505f;

      --line: rgba(15,17,20,.12);
      --line2: rgba(15,17,20,.18);

      --gold:#c8a63a;
      --gold2:#e0c466;

      --accent:#0b7d5c;
      --accent2:#1aa57a;

      --danger:#c52646;
      --dangerSoft: rgba(197,38,70,.12);

      --shadow: 0 14px 34px rgba(0,0,0,.10);
      --shadow2: 0 26px 70px rgba(0,0,0,.12);

      --radius:18px;
      --max: 1140px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 720px at 10% 8%, rgba(200,166,58,.18), transparent 58%),
        radial-gradient(1050px 720px at 88% 14%, rgba(11,125,92,.14), transparent 58%),
        radial-gradient(920px 640px at 52% 96%, rgba(197,38,70,.10), transparent 60%),
        linear-gradient(180deg, #ffffff 0%, #fbfbfc 45%, #ffffff 100%);
      overflow-x:hidden;
    }

    .spark{
      position:fixed;
      inset:-30vh -30vw auto -30vw;
      height:60vh;
      pointer-events:none;
      z-index:0;
      filter: blur(18px);
      opacity:.55;
      background:
        radial-gradient(closest-side at 18% 35%, rgba(200,166,58,.30), transparent 65%),
        radial-gradient(closest-side at 68% 28%, rgba(11,125,92,.24), transparent 65%),
        radial-gradient(closest-side at 48% 85%, rgba(197,38,70,.16), transparent 70%);
      transform: translate3d(0,0,0);
      animation: floaty 10s ease-in-out infinite;
    }
    @keyframes floaty{
      0%{ transform: translate3d(0px, 0px, 0px) scale(1); }
      50%{ transform: translate3d(12px, 10px, 0px) scale(1.02); }
      100%{ transform: translate3d(0px, 0px, 0px) scale(1); }
    }
    @media (prefers-reduced-motion: reduce){
      .spark{ animation:none; }
      .shine:before{ animation:none !important; }
    }

    .wrap{
      position:relative;
      z-index:1;
      max-width:var(--max);
      margin:0 auto;
      padding: 22px 18px 84px;
    }

    .topbar{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
      margin-bottom:14px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      padding: 10px 12px;
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.78));
      border-radius: 999px;
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .brand:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(520px 180px at 12% 30%, rgba(200,166,58,.16), transparent 64%),
        radial-gradient(520px 180px at 84% 20%, rgba(11,125,92,.12), transparent 64%);
      pointer-events:none;
    }
    .brand > *{ position:relative; }
    .brand svg{ width:22px; height:22px; flex:0 0 auto; }
    .brand .t1{ font-weight:1000; letter-spacing:.2px; line-height:1.1; }
    .brand .t2{ font-size:12px; color:var(--muted); margin-top:2px; line-height:1.1; }

    .premiumTag{
      display:inline-flex;
      align-items:center;
      gap:8px;
      margin-top:6px;
      font-size:11px;
      font-weight:1000;
      letter-spacing:.35px;
      padding: 4px 8px;
      border-radius: 999px;
      border:1px solid rgba(200,166,58,.35);
      background: rgba(200,166,58,.10);
      color: rgba(15,17,20,.86);
      width: fit-content;
    }
    .premiumTag .dot{
      width:8px; height:8px; border-radius:50%;
      background: linear-gradient(180deg, var(--gold2), var(--gold));
      box-shadow: 0 0 10px rgba(200,166,58,.35);
    }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-end;
    }

    .lang{
      display:flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.72));
      border-radius: 12px;
      box-shadow: var(--shadow);
    }
    .lang label{
      font-size:12px;
      color:var(--muted);
      font-weight:900;
    }
    .lang select{
      background: rgba(255,255,255,.92);
      border:1px solid rgba(15,17,20,.18);
      color: var(--ink);
      border-radius:10px;
      padding:8px 10px;
      font-weight:1000;
      outline:none;
    }

    .btn{
      appearance:none;
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.94), rgba(255,255,255,.76));
      color:var(--ink);
      padding:10px 12px;
      border-radius: 12px;
      font-weight:1000;
      cursor:pointer;
      box-shadow: var(--shadow);
      display:inline-flex;
      align-items:center;
      gap:10px;
      text-decoration:none;
      user-select:none;
      transition: transform .10s ease, border-color .14s ease, box-shadow .14s ease;
    }
    .btn:hover{ transform: translateY(-1px); border-color: rgba(200,166,58,.45); box-shadow: var(--shadow2); }
    .btn:active{ transform: translateY(0px); }
    .btn .dot{
      width:10px; height:10px; border-radius:50%;
      background: linear-gradient(180deg, var(--gold2), var(--gold));
      box-shadow: 0 0 12px rgba(200,166,58,.45);
    }
    .btn.secondary .dot{
      background: linear-gradient(180deg, var(--accent2), var(--accent));
      box-shadow: 0 0 12px rgba(11,125,92,.38);
    }
    .btn.danger .dot{
      background: linear-gradient(180deg, rgba(197,38,70,.9), rgba(197,38,70,1));
      box-shadow: 0 0 12px rgba(197,38,70,.30);
    }

    .hero{
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow2);
      padding: 18px 18px 16px;
      margin-bottom: 14px;
      position:relative;
      overflow:hidden;
      background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.82));
    }
    .hero:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(840px 280px at 14% 16%, rgba(200,166,58,.20), transparent 65%),
        radial-gradient(740px 260px at 86% 18%, rgba(11,125,92,.14), transparent 65%),
        radial-gradient(720px 260px at 40% 98%, rgba(197,38,70,.10), transparent 70%);
      pointer-events:none;
    }
    .hero:after{
      content:"";
      position:absolute;
      inset:0;
      border-radius: var(--radius);
      pointer-events:none;
      background: linear-gradient(90deg, rgba(200,166,58,.22), transparent 18%, transparent 82%, rgba(200,166,58,.18));
      mix-blend-mode: multiply;
      opacity:.45;
    }
    .hero > *{ position:relative; }

    h1{ margin:0 0 10px; font-size: 28px; letter-spacing:.2px; line-height:1.2; }
    .sub{ margin:0; color: var(--muted); line-height:1.75; font-size:14.8px; max-width: 98ch; }

    .card{
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px 16px 14px;
      margin-top: 12px;
      position:relative;
      overflow:hidden;
      background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.84));
    }
    .card:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(620px 180px at 16% 8%, rgba(200,166,58,.12), transparent 65%),
        radial-gradient(620px 180px at 84% 12%, rgba(11,125,92,.10), transparent 65%);
      pointer-events:none;
      opacity:.75;
    }
    .card > *{ position:relative; }

    .card h2{ margin:0 0 10px; font-size:16px; letter-spacing:.2px; }
    .card p{ margin:0 0 10px; color: var(--muted); font-size:14.2px; line-height:1.85; }

    .notice{
      border:1px solid rgba(200,166,58,.38);
      background: rgba(200,166,58,.10);
      border-radius: 14px;
      padding: 12px 12px;
      color: rgba(15,17,20,.92);
      line-height:1.75;
      font-size:13.6px;
      margin-top:12px;
      position:relative;
      overflow:hidden;
    }
    .notice:before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(520px 160px at 18% 50%, rgba(200,166,58,.18), transparent 70%);
      pointer-events:none;
    }
    .notice > *{ position:relative; }
    .notice strong{ color: #7a5c00; }

    /* Glossar */
    .glossWrap{ margin-top:10px; }
    details.gloss{
      border:1px solid rgba(15,17,20,.12);
      border-radius: 14px;
      background: rgba(255,255,255,.72);
      box-shadow: 0 10px 22px rgba(0,0,0,.05);
      padding: 10px 12px;
      margin: 10px 0;
      overflow:hidden;
    }
    details.gloss[open]{
      border-color: rgba(11,125,92,.22);
      box-shadow: 0 18px 40px rgba(0,0,0,.08);
    }
    details.gloss summary{
      cursor:pointer;
      list-style:none;
      font-weight:1000;
      color: rgba(15,17,20,.92);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      outline:none;
    }
    details.gloss summary::-webkit-details-marker{ display:none; }
    .glossBadge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-size:11px;
      font-weight:1000;
      padding: 4px 8px;
      border-radius:999px;
      border:1px solid rgba(200,166,58,.30);
      background: rgba(200,166,58,.10);
      color: rgba(15,17,20,.82);
      flex:0 0 auto;
    }
    .glossBadge .dot{
      width:8px; height:8px; border-radius:50%;
      background: linear-gradient(180deg, var(--gold2), var(--gold));
      box-shadow: 0 0 10px rgba(200,166,58,.28);
    }
    .glossBody{ margin-top:10px; color: var(--muted); line-height:1.85; font-size: 13.8px; }

    /* Auswahl-Felder */
    .form{ display:flex; flex-direction:column; gap:10px; margin-top:10px; }
    .field{
      border:1px solid rgba(15,17,20,.12);
      border-radius: 14px;
      background: rgba(255,255,255,.72);
      box-shadow: 0 10px 22px rgba(0,0,0,.05);
      padding: 12px 12px;
      position:relative;
      overflow:hidden;
    }
    .field:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(520px 160px at 10% 40%, rgba(200,166,58,.08), transparent 70%),
        radial-gradient(520px 160px at 90% 30%, rgba(11,125,92,.06), transparent 70%);
      pointer-events:none;
      opacity:.9;
    }
    .field > *{ position:relative; }
    .field .lbl{
      font-weight:1000;
      font-size:13px;
      margin-bottom:6px;
      color: rgba(15,17,20,.92);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .hint{
      font-weight:900;
      font-size:12px;
      color: rgba(71,80,95,.92);
      background: rgba(11,125,92,.08);
      border:1px solid rgba(11,125,92,.18);
      border-radius: 999px;
      padding: 4px 8px;
    }
    select{
      width:100%;
      border:1px solid rgba(15,17,20,.18);
      border-radius: 12px;
      padding: 10px 10px;
      font: inherit;
      background: rgba(255,255,255,.96);
      color: var(--ink);
      outline:none;
      font-weight:900;
    }
    .help{ margin-top:8px; color: rgba(71,80,95,.92); font-size:12.8px; line-height:1.65; }

    /* KPI */
    .kpis{
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
      margin-top:10px;
    }
    @media (min-width: 720px){
      .kpis{ grid-template-columns: 1fr 1fr 1fr 1fr; }
    }
    .kpi{
      border:1px solid rgba(15,17,20,.12);
      border-radius: 14px;
      background: rgba(255,255,255,.72);
      box-shadow: 0 12px 26px rgba(0,0,0,.06);
      padding: 12px 12px;
      position:relative;
      overflow:hidden;
      min-height: 82px;
    }
    .kpi:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(520px 160px at 18% 50%, rgba(200,166,58,.10), transparent 70%),
        radial-gradient(520px 160px at 82% 40%, rgba(11,125,92,.08), transparent 70%);
      pointer-events:none;
      opacity:.9;
    }
    .kpi > *{ position:relative; }
    .kpi .t{ font-size:12px; font-weight:1000; color: rgba(71,80,95,.92); }
    .kpi .v{ font-size:18px; font-weight:1100; margin-top:4px; color: rgba(15,17,20,.94); }
    .kpi .s{ font-size:12px; margin-top:2px; color: rgba(71,80,95,.88); line-height:1.35; }

    /* Wow Grafik */
    .viz{
      border:1px solid rgba(15,17,20,.12);
      border-radius: 16px;
      background: rgba(255,255,255,.72);
      box-shadow: 0 14px 34px rgba(0,0,0,.08);
      padding: 12px 12px;
      margin-top: 10px;
      overflow:hidden;
      position:relative;
    }
    .viz.shine:before{
      content:"";
      position:absolute;
      inset:-60% -40%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.55), transparent);
      transform: rotate(18deg);
      opacity:.28;
      animation: sheen 6.5s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes sheen{
      0%{ transform: translateX(-30%) rotate(18deg); opacity:.12; }
      50%{ transform: translateX(18%) rotate(18deg); opacity:.32; }
      100%{ transform: translateX(60%) rotate(18deg); opacity:.12; }
    }
    .vizTop{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      margin-bottom:10px;
    }
    .vizTop .title{ font-weight:1100; color: rgba(15,17,20,.94); }
    .vizTop .note{
      font-size:12px;
      font-weight:900;
      color: rgba(71,80,95,.92);
      background: rgba(200,166,58,.10);
      border:1px solid rgba(200,166,58,.22);
      border-radius: 999px;
      padding: 4px 8px;
      width: fit-content;
    }
    .vizFrame{
      border:1px solid rgba(15,17,20,.10);
      border-radius: 16px;
      background: rgba(255,255,255,.92);
      padding: 10px;
      overflow:hidden;
      box-shadow: inset 0 0 0 1px rgba(200,166,58,.06);
    }
    .viz svg{ width:100%; height:auto; display:block; }

    /* Checklist */
    .checks{ display:flex; flex-direction:column; gap:8px; margin-top:10px; }
    .chk{
      display:flex;
      gap:10px;
      align-items:flex-start;
      border:1px solid rgba(15,17,20,.12);
      background: rgba(255,255,255,.72);
      border-radius: 14px;
      padding: 10px 12px;
      box-shadow: 0 10px 22px rgba(0,0,0,.05);
    }
    .chk input{
      width:18px; height:18px;
      margin-top:2px;
      accent-color: var(--accent);
      flex:0 0 auto;
    }
    .chk .t{ font-weight:1000; color: rgba(15,17,20,.92); line-height:1.4; }
    .chk .d{ margin-top:2px; color: rgba(71,80,95,.92); font-size:12.8px; line-height:1.6; }

    .footer{ margin-top: 16px; color: rgba(71,80,95,.85); font-size: 12px; line-height:1.6; text-align:center; }

    @media print{
      body{ background:#fff !important; color:#000 !important; }
      .spark, .topbar, .actions, .lang, .btn, .footer{ display:none !important; }
      .wrap{ max-width: 820px; padding: 0; }
      .hero, .card, .field, .viz, details.gloss, .chk, .kpi{
        box-shadow:none !important;
        background:#fff !important;
        border:1px solid #bbb !important;
        color:#000 !important;
      }
      .sub, .card p, .glossBody, .help, .chk .d, .kpi .s{ color:#111 !important; }
      .notice{ border:1px solid #999 !important; background:#f7f2df !important; color:#000 !important; }
      details.gloss{ break-inside: avoid; }
      .viz.shine:before{ display:none !important; }
      .hint{ border:1px solid #bbb !important; background:#f2f2f2 !important; color:#000 !important; }
    }
  </style>
</head>

<body>
  <div class="spark" aria-hidden="true"></div>

  <div class="wrap">
    <div class="topbar">
      <div class="brand" aria-label="Kurs">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <defs>
            <linearGradient id="gSunM11" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="#c8a63a"/>
              <stop offset="1" stop-color="#e0c466"/>
            </linearGradient>
          </defs>
          <circle cx="12" cy="12" r="5.2" fill="url(#gSunM11)"></circle>
          <g fill="none" stroke="rgba(15,17,20,.75)" stroke-width="1.2" stroke-linecap="round">
            <path d="M12 2.2v2.2M12 19.6v2.2M2.2 12h2.2M19.6 12h2.2"/>
            <path d="M4.6 4.6l1.55 1.55M17.85 17.85l1.55 1.55M19.4 4.6l-1.55 1.55M6.15 17.85L4.6 19.4"/>
          </g>
        </svg>
        <div>
          <div class="t1" data-i18n="brand_title">Premium Kurs</div>
          <div class="t2" data-i18n="brand_sub">Photovoltaik als Kapitalanlage</div>
          <div class="premiumTag" aria-hidden="true">
            <span class="dot"></span>
            <span data-i18n="premium_tag">Modul 11 • Hauptkurs</span>
          </div>
        </div>
      </div>

      <div class="actions">
        <a class="btn" id="toIndex" href="index.html" data-nocache="1" title="Index">
          <span class="dot" aria-hidden="true"></span>
          <span data-i18n="btn_index">Index</span>
        </a>

        <div class="lang" title="Sprache / Language">
          <label for="langSel" data-i18n="lang_label">Sprache</label>
          <select id="langSel" aria-label="Sprache wählen">
            <option value="de">DE</option>
            <option value="en">EN</option>
          </select>
        </div>

        <button class="btn secondary" id="printBtn" type="button" title="Drucken / Print">
          <span class="dot" aria-hidden="true"></span>
          <span data-i18n="btn_print">Drucken</span>
        </button>

        <button class="btn danger" id="resetBtn" type="button" title="Projektakte leeren">
          <span class="dot" aria-hidden="true"></span>
          <span data-i18n="btn_reset">Projektakte leeren</span>
        </button>
      </div>
    </div>

    <div class="hero">
      <h1 data-i18n="h1">Modul 11 – Fördermittel & Zuschüsse</h1>
      <p class="sub" data-i18n="sub">
        Förderung klingt oft wie „geschenktes Geld“. In der Realität ist Förderung ein Prozess mit Regeln, Zuständigkeiten,
        Timing und Nachweisen. Dieses Modul hilft dir, im Gespräch die richtigen Fragen zu stellen – und Förder-Fehler zu vermeiden.
      </p>
    </div>

    <div class="card">
      <h2 data-i18n="sec1_title">1) Warum Förderung so oft schiefgeht</h2>
      <p data-i18n="sec1_p1">
        Viele Förderungen haben eine harte Grundregel: erst beantragen, dann beauftragen/bauen. Wer das verwechselt,
        riskiert Ablehnung. Dazu kommen Fristen, technische Mindestanforderungen, Nachweise und Zuständigkeiten.
      </p>
      <p data-i18n="sec1_p2">
        Du musst keine Programme auswendig kennen. Du brauchst eine klare Gesprächsstruktur: Wer beantragt? Wann? Was wird gefördert?
        Welche Unterlagen sind Pflicht? Und was passiert, wenn sich das Projekt ändert?
      </p>
      <div class="notice">
        <strong data-i18n="notice_title">Wichtiger Hinweis:</strong>
        <span data-i18n="notice_text">Keine Rechts-/Steuerberatung. Förderprogramme ändern sich. Dieses Modul ist Bildung: Struktur, Prüffragen, Unterlagenlogik.</span>
      </div>
    </div>

    <div class="card">
      <h2 data-i18n="sec2_title">2) Glossar: Förder-Begriffe</h2>
      <div class="glossWrap">
        <details class="gloss">
          <summary>
            <span data-i18n="g1_t">Begriff: Zuschuss vs. Kredit</span>
            <span class="glossBadge"><span class="dot" aria-hidden="true"></span><span data-i18n="g_badge">Glossar</span></span>
          </summary>
          <div class="glossBody" data-i18n="g1_b">
            Zuschuss = Geld, das bei Einhaltung der Bedingungen nicht zurückgezahlt wird. Kredit = Darlehen, oft mit Förderkonditionen.
            Wichtig ist: Welche Bedingungen gelten und welche Nachweise müssen erbracht werden?
          </div>
        </details>

        <details class="gloss">
          <summary>
            <span data-i18n="g2_t">Begriff: Antragsberechtigung</span>
            <span class="glossBadge"><span class="dot" aria-hidden="true"></span><span data-i18n="g_badge">Glossar</span></span>
          </summary>
          <div class="glossBody" data-i18n="g2_b">
            Nicht jeder darf alles beantragen. Manche Förderungen gelten nur für Eigentümer, manche für Unternehmen, manche für Kommunen.
            Entscheidend: Wer ist Antragsteller – und wer ist später Vertragspartner?
          </div>
        </details>

        <details class="gloss">
          <summary>
            <span data-i18n="g3_t">Begriff: Förder-„Timing“</span>
            <span class="glossBadge"><span class="dot" aria-hidden="true"></span><span data-i18n="g_badge">Glossar</span></span>
          </summary>
          <div class="glossBody" data-i18n="g3_b">
            In vielen Programmen gilt: Antrag/Bestätigung zuerst, Beauftragung danach. Ein Angebot einholen ist meist okay,
            aber die verbindliche Bestellung/Beauftragung kann problematisch sein. Das muss sauber geklärt werden.
          </div>
        </details>
      </div>
    </div>

    <div class="card">
      <h2 data-i18n="sec3_title">3) Förder-Check (Auswahlfelder)</h2>
      <p data-i18n="sec3_p1">
        Diese Auswahlfelder bilden deine „Förder-Akte“. Ergebnis: Ampel + nächste Schritte, damit du nicht an Formalien scheiterst.
      </p>

      <div class="form">
        <div class="field">
          <div class="lbl">
            <span data-i18n="f1_lbl">Welche Art Förderung ist im Gespräch?</span>
            <span class="hint" data-i18n="hint_kind">Art</span>
          </div>
          <select data-save="m11_kind">
            <option value="" data-i18n="opt_choose">Bitte wählen…</option>
            <option value="grant" data-i18n="f1_o1">Zuschuss (nicht rückzahlbar, bei Bedingungen)</option>
            <option value="loan" data-i18n="f1_o2">Förderkredit (Darlehen mit Konditionen)</option>
            <option value="tax" data-i18n="f1_o3">Steuerliche Entlastung/Regelung (im Rahmen von Gesetzen)</option>
            <option value="mix" data-i18n="f1_o4">Kombination (mehrere Bausteine)</option>
          </select>
          <div class="help" data-i18n="f1_help">Seriöse Anbieter erklären die Unterschiede – und was das für Nachweise bedeutet.</div>
        </div>

        <div class="field">
          <div class="lbl">
            <span data-i18n="f2_lbl">Wer beantragt die Förderung?</span>
            <span class="hint" data-i18n="hint_who">Wer</span>
          </div>
          <select data-save="m11_who">
            <option value="" data-i18n="opt_choose">Bitte wählen…</option>
            <option value="owner" data-i18n="f2_o1">Eigentümer / Auftraggeber selbst</option>
            <option value="advisor" data-i18n="f2_o2">Berater hilft, aber Antragsteller bleibt Eigentümer</option>
            <option value="company" data-i18n="f2_o3">Firma/Anbieter „macht alles“ (Achtung: Rollen klären)</option>
            <option value="unknown" data-i18n="f2_o4">unklar / wurde nicht erklärt</option>
          </select>
          <div class="help" data-i18n="f2_help">Wenn „Firma macht alles“: Wer unterschreibt? Wer haftet? Wer erhält Bescheide?</div>
        </div>

        <div class="field">
          <div class="lbl">
            <span data-i18n="f3_lbl">Timing: Wo steht ihr im Prozess?</span>
            <span class="hint" data-i18n="hint_timing">Timing</span>
          </div>
          <select data-save="m11_timing">
            <option value="" data-i18n="opt_choose">Bitte wählen…</option>
            <option value="before" data-i18n="f3_o1">vor Antrag/Bestätigung (richtig für viele Programme)</option>
            <option value="offer" data-i18n="f3_o2">Angebote liegen vor (okay – aber Bestellung/Beauftragung klären)</option>
            <option value="ordered" data-i18n="f3_o3">bereits beauftragt/bestellt (Risiko: Förderfähigkeit prüfen)</option>
            <option value="built" data-i18n="f3_o4">bereits gebaut (oft nur noch begrenzt möglich)</option>
          </select>
          <div class="help" data-i18n="f3_help">Der häufigste Fehler: zu früh beauftragt. Immer schriftlich klären.</div>
        </div>

        <div class="field">
          <div class="lbl">
            <span data-i18n="f4_lbl">Förderhöhe im Angebot</span>
            <span class="hint" data-i18n="hint_amount">Höhe</span>
          </div>
          <select data-save="m11_amount">
            <option value="" data-i18n="opt_choose">Bitte wählen…</option>
            <option value="range" data-i18n="f4_o1">Spanne/Schätzung (mit Bedingungen genannt)</option>
            <option value="fixed" data-i18n="f4_o2">fester Betrag genannt (mit Quelle/Nachweis)</option>
            <option value="promise" data-i18n="f4_o3">„Sicher/garantiert“ behauptet (Achtung)</option>
            <option value="none" data-i18n="f4_o4">nicht thematisiert</option>
          </select>
          <div class="help" data-i18n="f4_help">Wenn jemand „garantiert“ sagt: Quelle, Bedingungen, Schriftform verlangen.</div>
        </div>

        <div class="field">
          <div class="lbl">
            <span data-i18n="f5_lbl">Dachsanierung vor PV: kommt das Thema vor?</span>
            <span class="hint" data-i18n="hint_roof">Dach</span>
          </div>
          <select data-save="m11_roof">
            <option value="" data-i18n="opt_choose">Bitte wählen…</option>
            <option value="no" data-i18n="f5_o1">nein (Dach ist ok / wurde geprüft)</option>
            <option value="maybe" data-i18n="f5_o2">unklar (muss geprüft werden)</option>
            <option value="yes" data-i18n="f5_o3">ja (Sanierung/Statik/Abdichtung relevant)</option>
          </select>
          <div class="help" data-i18n="f5_help">Dach-Themen sind oft der echte Kosten-/Zeitfaktor. Vor PV klären.</div>
        </div>
      </div>

      <div class="kpis">
        <div class="kpi">
          <div class="t" data-i18n="k1_t">Förder-Ampel</div>
          <div class="v" id="kpiLight">–</div>
          <div class="s" data-i18n="k1_s">Formal & plausibel</div>
        </div>
        <div class="kpi">
          <div class="t" data-i18n="k2_t">Haupt-Risiko</div>
          <div class="v" id="kpiRisk">–</div>
          <div class="s" data-i18n="k2_s">typische Fehlerquelle</div>
        </div>
        <div class="kpi">
          <div class="t" data-i18n="k3_t">Nächster Schritt</div>
          <div class="v" id="kpiNext">–</div>
          <div class="s" data-i18n="k3_s">konkret</div>
        </div>
        <div class="kpi">
          <div class="t" data-i18n="k4_t">Merksatz</div>
          <div class="v" id="kpiRule">–</div>
          <div class="s" data-i18n="k4_s">fürs Gespräch</div>
        </div>
      </div>
    </div>

    <div class="card">
      <h2 data-i18n="sec4_title">4) Unterlagen-Check (ohne die du nicht weitergehst)</h2>
      <p data-i18n="sec4_p1">
        Förderung ist papierlastig. Diese Liste ist keine „Bürokratie-Falle“, sondern dein Schutz.
        Wenn Dokumente fehlen, kann später etwas kippen.
      </p>

      <div class="checks">
        <label class="chk">
          <input type="checkbox" data-save-check="m11_doc1" />
          <span>
            <div class="t" data-i18n="d1_t">Programm/Quelle ist klar benannt</div>
            <div class="d" data-i18n="d1_d">Nicht „es gibt Förderung“, sondern: welche genau.</div>
          </span>
        </label>

        <label class="chk">
          <input type="checkbox" data-save-check="m11_doc2" />
          <span>
            <div class="t" data-i18n="d2_t">Antragsberechtigung ist schriftlich geklärt</div>
            <div class="d" data-i18n="d2_d">Wer darf beantragen? Eigentümer, Unternehmen, etc.</div>
          </span>
        </label>

        <label class="chk">
          <input type="checkbox" data-save-check="m11_doc3" />
          <span>
            <div class="t" data-i18n="d3_t">Timing-Regel ist schriftlich bestätigt</div>
            <div class="d" data-i18n="d3_d">Was darf vor Bewilligung passieren – und was nicht.</div>
          </span>
        </label>

        <label class="chk">
          <input type="checkbox" data-save-check="m11_doc4" />
          <span>
            <div class="t" data-i18n="d4_t">Kostenpositionen sind sauber getrennt</div>
            <div class="d" data-i18n="d4_d">PV, Speicher, Dach, Gerüst, Netz, Planung – damit Förderlogik stimmt.</div>
          </span>
        </label>

        <label class="chk">
          <input type="checkbox" data-save-check="m11_doc5" />
          <span>
            <div class="t" data-i18n="d5_t">Nachweis-/Abrechnungslogik ist erklärt</div>
            <div class="d" data-i18n="d5_d">Welche Rechnungen, Fotos, Abnahmen, Protokolle werden verlangt?</div>
          </span>
        </label>
      </div>

      <div class="notice">
        <strong data-i18n="note2_t">Praxis-Tipp:</strong>
        <span data-i18n="note2_b">Wenn jemand Förderung „mitverkauft“, muss er die Bedingungen erklären können – sonst ist es nur ein Trigger.</span>
      </div>
    </div>

    <div class="card">
      <h2 data-i18n="sec5_title">5) Fragenkatalog für dein Gespräch</h2>
      <p data-i18n="sec5_p1">
        Diese Fragen sind bewusst „einfach“. Sie zwingen das Gegenüber, Klartext zu liefern.
      </p>

      <div class="checks">
        <label class="chk">
          <input type="checkbox" data-save-check="m11_q1" />
          <span>
            <div class="t" data-i18n="q1_t">Welche konkrete Förderung meinst du – Name/Programm/Träger?</div>
            <div class="d" data-i18n="q1_d">Ohne konkrete Quelle ist es ein Werbe-Satz.</div>
          </span>
        </label>
        <label class="chk">
          <input type="checkbox" data-save-check="m11_q2" />
          <span>
            <div class="t" data-i18n="q2_t">Wer ist Antragsteller – und wer unterschreibt was?</div>
            <div class="d" data-i18n="q2_d">Rollen müssen sauber sein (Eigentümer / Firma / Berater).</div>
          </span>
        </label>
        <label class="chk">
          <input type="checkbox" data-save-check="m11_q3" />
          <span>
            <div class="t" data-i18n="q3_t">Welche Bedingungen müssen erfüllt sein (Technik/Fristen/Nachweise)?</div>
            <div class="d" data-i18n="q3_d">Wenn das nicht erklärt wird, ist das Risiko hoch.</div>
          </span>
        </label>
        <label class="chk">
          <input type="checkbox" data-save-check="m11_q4" />
          <span>
            <div class="t" data-i18n="q4_t">Wann darf ich beauftragen/bestellen – und was wäre ein Ausschluss?</div>
            <div class="d" data-i18n="q4_d">Timing ist der häufigste Ablehnungsgrund.</div>
          </span>
        </label>
        <label class="chk">
          <input type="checkbox" data-save-check="m11_q5" />
          <span>
            <div class="t" data-i18n="q5_t">Was passiert, wenn sich Kosten/Plan/Termin ändern?</div>
            <div class="d" data-i18n="q5_d">Gute Anbieter haben dafür einen Plan – nicht nur Hoffnung.</div>
          </span>
        </label>
      </div>
    </div>

    <div class="card">
      <h2 data-i18n="sec6_title">6) Wow-Landkarte: Förderlogik im Projekt</h2>
      <p data-i18n="sec6_p1">
        Diese Grafik ist eine Orientierung: Förderung hängt meist an Timing + Rollen + Nachweisen.
      </p>

      <div class="viz shine">
        <div class="vizTop">
          <div class="title" data-i18n="viz_title">Förder-Landkarte (Illustration)</div>
          <div class="note" data-i18n="viz_note">ohne Echt-Daten</div>
        </div>

        <div class="vizFrame">
          <svg viewBox="0 0 1200 420" role="img" aria-label="Förder-Landkarte">
            <defs>
              <linearGradient id="bxGold11" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0" stop-color="rgba(200,166,58,.32)"/>
                <stop offset="1" stop-color="rgba(200,166,58,.10)"/>
              </linearGradient>
              <linearGradient id="bxAcc11" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0" stop-color="rgba(11,125,92,.24)"/>
                <stop offset="1" stop-color="rgba(11,125,92,.08)"/>
              </linearGradient>
              <linearGradient id="bxDng11" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0" stop-color="rgba(197,38,70,.22)"/>
                <stop offset="1" stop-color="rgba(197,38,70,.08)"/>
              </linearGradient>
            </defs>

            <rect x="30" y="20" width="1140" height="380" rx="18" fill="rgba(255,255,255,.96)" stroke="rgba(15,17,20,.12)"/>

            <g stroke="rgba(15,17,20,.42)" stroke-width="4" stroke-linecap="round">
              <path d="M290 140H410"/>
              <path d="M570 140H690"/>
              <path d="M850 140H970"/>
              <path d="M290 290H410"/>
              <path d="M570 290H690"/>
              <path d="M850 290H970"/>
            </g>
            <g fill="rgba(15,17,20,.42)">
              <path d="M400 140l-18-10v20z"/>
              <path d="M680 140l-18-10v20z"/>
              <path d="M960 140l-18-10v20z"/>
              <path d="M400 290l-18-10v20z"/>
              <path d="M680 290l-18-10v20z"/>
              <path d="M960 290l-18-10v20z"/>
            </g>

            <rect x="90"  y="90" width="220" height="100" rx="16" fill="url(#bxGold11)" stroke="rgba(200,166,58,.30)"/>
            <rect x="410" y="90" width="220" height="100" rx="16" fill="rgba(15,17,20,.05)" stroke="rgba(15,17,20,.18)"/>
            <rect x="730" y="90" width="220" height="100" rx="16" fill="url(#bxAcc11)" stroke="rgba(11,125,92,.26)"/>
            <rect x="1020" y="90" width="120" height="100" rx="16" fill="rgba(15,17,20,.05)" stroke="rgba(15,17,20,.18)"/>

            <rect x="90"  y="240" width="220" height="100" rx="16" fill="rgba(15,17,20,.05)" stroke="rgba(15,17,20,.18)"/>
            <rect x="410" y="240" width="220" height="100" rx="16" fill="url(#bxGold11)" stroke="rgba(200,166,58,.30)"/>
            <rect x="730" y="240" width="220" height="100" rx="16" fill="rgba(15,17,20,.05)" stroke="rgba(15,17,20,.18)"/>
            <rect x="1020" y="240" width="120" height="100" rx="16" fill="url(#bxDng11)" stroke="rgba(197,38,70,.22)"/>

            <g font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" fill="rgba(15,17,20,.92)">
              <text x="112" y="122" font-size="16" font-weight="1100">1) Quelle</text>
              <text x="112" y="150" font-size="12.8" font-weight="800" fill="rgba(71,80,95,.92)">Programm/Träger</text>

              <text x="432" y="122" font-size="16" font-weight="1100">2) Rollen</text>
              <text x="432" y="150" font-size="12.8" font-weight="800" fill="rgba(71,80,95,.92)">Antragsteller/Partner</text>

              <text x="752" y="122" font-size="16" font-weight="1100">3) Timing</text>
              <text x="752" y="150" font-size="12.8" font-weight="800" fill="rgba(71,80,95,.92)">vor Auftrag?</text>

              <text x="1036" y="122" font-size="16" font-weight="1100">4) Beleg</text>
              <text x="1036" y="150" font-size="12.2" font-weight="800" fill="rgba(71,80,95,.92)">Schriftlich</text>

              <text x="112" y="272" font-size="16" font-weight="1100">5) Kosten</text>
              <text x="112" y="300" font-size="12.8" font-weight="800" fill="rgba(71,80,95,.92)">Positionslogik</text>

              <text x="432" y="272" font-size="16" font-weight="1100">6) Nachweise</text>
              <text x="432" y="300" font-size="12.8" font-weight="800" fill="rgba(71,80,95,.92)">Rechnung/Fotos</text>

              <text x="752" y="272" font-size="16" font-weight="1100">7) Auszahlung</text>
              <text x="752" y="300" font-size="12.8" font-weight="800" fill="rgba(71,80,95,.92)">Prüfung/Frist</text>

              <text x="1036" y="272" font-size="16" font-weight="1100">Risiko</text>
              <text x="1036" y="300" font-size="12.2" font-weight="800" fill="rgba(71,80,95,.92)">Timing/Fehlbeleg</text>

              <text x="70" y="372" font-size="13.2" font-weight="1000" fill="rgba(71,80,95,.95)">
                Merksatz: Förderung ist Prozess + Nachweis – kein Werbeversprechen.
              </text>
            </g>
          </svg>
        </div>
      </div>
    </div>

    <div class="footer" data-i18n="footer">
      Premium Workbook – Modul 11. Eingaben werden lokal gespeichert und sind druckbar.
    </div>
  </div>

  <script>
    (function(){
      const LS_KEY_LANG = "fsa_pvka_lang";
      const LS_KEY_DATA = "fsa_pvka_project";

      const langSel  = document.getElementById("langSel");
      const printBtn = document.getElementById("printBtn");
      const resetBtn = document.getElementById("resetBtn");

      const kpiLight = document.getElementById("kpiLight");
      const kpiRisk  = document.getElementById("kpiRisk");
      const kpiNext  = document.getElementById("kpiNext");
      const kpiRule  = document.getElementById("kpiRule");

      const i18n = {
        de: {
          brand_title:"Premium Kurs",
          brand_sub:"Photovoltaik als Kapitalanlage",
          premium_tag:"Modul 11 • Hauptkurs",
          btn_index:"Index",
          lang_label:"Sprache",
          btn_print:"Drucken",
          btn_reset:"Projektakte leeren",

          h1:"Modul 11 – Fördermittel & Zuschüsse",
          sub:"Förderung klingt oft wie „geschenktes Geld“. In der Realität ist Förderung ein Prozess mit Regeln, Zuständigkeiten, Timing und Nachweisen. Dieses Modul hilft dir, im Gespräch die richtigen Fragen zu stellen – und Förder-Fehler zu vermeiden.",

          sec1_title:"1) Warum Förderung so oft schiefgeht",
          sec1_p1:"Viele Förderungen haben eine harte Grundregel: erst beantragen, dann beauftragen/bauen. Wer das verwechselt, riskiert Ablehnung. Dazu kommen Fristen, technische Mindestanforderungen, Nachweise und Zuständigkeiten.",
          sec1_p2:"Du musst keine Programme auswendig kennen. Du brauchst eine klare Gesprächsstruktur: Wer beantragt? Wann? Was wird gefördert? Welche Unterlagen sind Pflicht? Und was passiert, wenn sich das Projekt ändert?",

          notice_title:"Wichtiger Hinweis:",
          notice_text:"Keine Rechts-/Steuerberatung. Förderprogramme ändern sich. Dieses Modul ist Bildung: Struktur, Prüffragen, Unterlagenlogik.",

          sec2_title:"2) Glossar: Förder-Begriffe",
          g_badge:"Glossar",
          g1_t:"Begriff: Zuschuss vs. Kredit",
          g1_b:"Zuschuss = Geld, das bei Einhaltung der Bedingungen nicht zurückgezahlt wird. Kredit = Darlehen, oft mit Förderkonditionen. Wichtig ist: Welche Bedingungen gelten und welche Nachweise müssen erbracht werden?",
          g2_t:"Begriff: Antragsberechtigung",
          g2_b:"Nicht jeder darf alles beantragen. Manche Förderungen gelten nur für Eigentümer, manche für Unternehmen, manche für Kommunen. Entscheidend: Wer ist Antragsteller – und wer ist später Vertragspartner?",
          g3_t:"Begriff: Förder-„Timing“",
          g3_b:"In vielen Programmen gilt: Antrag/Bestätigung zuerst, Beauftragung danach. Ein Angebot einholen ist meist okay, aber die verbindliche Bestellung/Beauftragung kann problematisch sein. Das muss sauber geklärt werden.",

          sec3_title:"3) Förder-Check (Auswahlfelder)",
          sec3_p1:"Diese Auswahlfelder bilden deine „Förder-Akte“. Ergebnis: Ampel + nächste Schritte, damit du nicht an Formalien scheiterst.",

          hint_kind:"Art",
          hint_who:"Wer",
          hint_timing:"Timing",
          hint_amount:"Höhe",
          hint_roof:"Dach",
          opt_choose:"Bitte wählen…",

          f1_lbl:"Welche Art Förderung ist im Gespräch?",
          f1_o1:"Zuschuss (nicht rückzahlbar, bei Bedingungen)",
          f1_o2:"Förderkredit (Darlehen mit Konditionen)",
          f1_o3:"Steuerliche Entlastung/Regelung (im Rahmen von Gesetzen)",
          f1_o4:"Kombination (mehrere Bausteine)",
          f1_help:"Seriöse Anbieter erklären die Unterschiede – und was das für Nachweise bedeutet.",

          f2_lbl:"Wer beantragt die Förderung?",
          f2_o1:"Eigentümer / Auftraggeber selbst",
          f2_o2:"Berater hilft, aber Antragsteller bleibt Eigentümer",
          f2_o3:"Firma/Anbieter „macht alles“ (Achtung: Rollen klären)",
          f2_o4:"unklar / wurde nicht erklärt",
          f2_help:"Wenn „Firma macht alles“: Wer unterschreibt? Wer haftet? Wer erhält Bescheide?",

          f3_lbl:"Timing: Wo steht ihr im Prozess?",
          f3_o1:"vor Antrag/Bestätigung (richtig für viele Programme)",
          f3_o2:"Angebote liegen vor (okay – aber Bestellung/Beauftragung klären)",
          f3_o3:"bereits beauftragt/bestellt (Risiko: Förderfähigkeit prüfen)",
          f3_o4:"bereits gebaut (oft nur noch begrenzt möglich)",
          f3_help:"Der häufigste Fehler: zu früh beauftragt. Immer schriftlich klären.",

          f4_lbl:"Förderhöhe im Angebot",
          f4_o1:"Spanne/Schätzung (mit Bedingungen genannt)",
          f4_o2:"fester Betrag genannt (mit Quelle/Nachweis)",
          f4_o3:"„Sicher/garantiert“ behauptet (Achtung)",
          f4_o4:"nicht thematisiert",
          f4_help:"Wenn jemand „garantiert“ sagt: Quelle, Bedingungen, Schriftform verlangen.",

          f5_lbl:"Dachsanierung vor PV: kommt das Thema vor?",
          f5_o1:"nein (Dach ist ok / wurde geprüft)",
          f5_o2:"unklar (muss geprüft werden)",
          f5_o3:"ja (Sanierung/Statik/Abdichtung relevant)",
          f5_help:"Dach-Themen sind oft der echte Kosten-/Zeitfaktor. Vor PV klären.",

          k1_t:"Förder-Ampel",
          k1_s:"Formal & plausibel",
          k2_t:"Haupt-Risiko",
          k2_s:"typische Fehlerquelle",
          k3_t:"Nächster Schritt",
          k3_s:"konkret",
          k4_t:"Merksatz",
          k4_s:"fürs Gespräch",

          sec4_title:"4) Unterlagen-Check (ohne die du nicht weitergehst)",
          sec4_p1:"Förderung ist papierlastig. Diese Liste ist keine „Bürokratie-Falle“, sondern dein Schutz. Wenn Dokumente fehlen, kann später etwas kippen.",
          d1_t:"Programm/Quelle ist klar benannt",
          d1_d:"Nicht „es gibt Förderung“, sondern: welche genau.",
          d2_t:"Antragsberechtigung ist schriftlich geklärt",
          d2_d:"Wer darf beantragen? Eigentümer, Unternehmen, etc.",
          d3_t:"Timing-Regel ist schriftlich bestätigt",
          d3_d:"Was darf vor Bewilligung passieren – und was nicht.",
          d4_t:"Kostenpositionen sind sauber getrennt",
          d4_d:"PV, Speicher, Dach, Gerüst, Netz, Planung – damit Förderlogik stimmt.",
          d5_t:"Nachweis-/Abrechnungslogik ist erklärt",
          d5_d:"Welche Rechnungen, Fotos, Abnahmen, Protokolle werden verlangt?",

          note2_t:"Praxis-Tipp:",
          note2_b:"Wenn jemand Förderung „mitverkauft“, muss er die Bedingungen erklären können – sonst ist es nur ein Trigger.",

          sec5_title:"5) Fragenkatalog für dein Gespräch",
          sec5_p1:"Diese Fragen sind bewusst „einfach“. Sie zwingen das Gegenüber, Klartext zu liefern.",
          q1_t:"Welche konkrete Förderung meinst du – Name/Programm/Träger?",
          q1_d:"Ohne konkrete Quelle ist es ein Werbe-Satz.",
          q2_t:"Wer ist Antragsteller – und wer unterschreibt was?",
          q2_d:"Rollen müssen sauber sein (Eigentümer / Firma / Berater).",
          q3_t:"Welche Bedingungen müssen erfüllt sein (Technik/Fristen/Nachweise)?",
          q3_d:"Wenn das nicht erklärt wird, ist das Risiko hoch.",
          q4_t:"Wann darf ich beauftragen/bestellen – und was wäre ein Ausschluss?",
          q4_d:"Timing ist der häufigste Ablehnungsgrund.",
          q5_t:"Was passiert, wenn sich Kosten/Plan/Termin ändern?",
          q5_d:"Gute Anbieter haben dafür einen Plan – nicht nur Hoffnung.",

          sec6_title:"6) Wow-Landkarte: Förderlogik im Projekt",
          sec6_p1:"Diese Grafik ist eine Orientierung: Förderung hängt meist an Timing + Rollen + Nachweisen.",
          viz_title:"Förder-Landkarte (Illustration)",
          viz_note:"ohne Echt-Daten",

          footer:"Premium Workbook – Modul 11. Eingaben werden lokal gespeichert und sind druckbar.",

          // KPI text
          red:"ROT",
          yellow:"GELB",
          green:"GRÜN",
          risk_timing:"Timing (zu früh beauftragt)",
          risk_roles:"Rollen unklar (wer beantragt?)",
          risk_promises:"„Garantien“ ohne Quelle",
          risk_roof:"Dach ungeklärt (Kosten/Frist)",
          next_request:"Schriftlich klären: Programm + Bedingungen + Timing",
          next_roles:"Rollen/Unterschriften klären (Antragsteller/Partner)",
          next_roof:"Dach prüfen lassen + Kosten trennen",
          next_compare:"Zweitmeinung/Förderstelle kontaktieren",
          rule:"Erst klären, dann beauftragen."
        },
        en: {
          brand_title:"Premium course",
          brand_sub:"Photovoltaics as a capital investment",
          premium_tag:"Module 11 • Main course",
          btn_index:"Index",
          lang_label:"Language",
          btn_print:"Print",
          btn_reset:"Clear project file",

          h1:"Module 11 – Grants & subsidies",
          sub:"Funding often sounds like ‘free money’. In reality, it’s a process with rules, responsibilities, timing and proof. This module helps you ask the right questions—and avoid funding mistakes.",

          sec1_title:"1) Why funding often goes wrong",
          sec1_p1:"Many programs have a hard rule: apply/confirm first, order/build later. Mixing that up can lead to rejection. Add deadlines, minimum requirements, proof and responsibilities.",
          sec1_p2:"You don’t need to memorize programs. You need a clear conversation structure: who applies? when? what is funded? what documents are required? what happens if the project changes?",

          notice_title:"Important notice:",
          notice_text:"No legal/tax advice. Programs change. This module is education: structure, verification questions, document logic.",

          sec2_title:"2) Glossary: funding terms",
          g_badge:"Glossary",
          g1_t:"Term: grant vs. loan",
          g1_b:"Grant = money you don’t repay if conditions are met. Loan = a loan, often with special terms. Key: which conditions and which proof are required?",
          g2_t:"Term: eligibility",
          g2_b:"Not everyone can apply for everything. Some programs are only for owners, some for businesses, some for municipalities. Key: who is the applicant—and who is the contract party later?",
          g3_t:"Term: funding timing",
          g3_b:"Many programs require: application/confirmation first, ordering/commissioning later. Getting quotes is often ok, but a binding order can be an issue. Clarify in writing.",

          sec3_title:"3) Funding check (selection fields)",
          sec3_p1:"These selection fields create your ‘funding file’. Result: light + next steps so you don’t fail on formalities.",

          hint_kind:"type",
          hint_who:"who",
          hint_timing:"timing",
          hint_amount:"amount",
          hint_roof:"roof",
          opt_choose:"Please choose…",

          f1_lbl:"What type of funding is discussed?",
          f1_o1:"Grant (non-repayable if conditions met)",
          f1_o2:"Subsidized loan (loan with terms)",
          f1_o3:"Tax rule/relief (within laws)",
          f1_o4:"Combination (multiple building blocks)",
          f1_help:"Serious providers explain differences—and what that means for proof.",

          f2_lbl:"Who applies for the funding?",
          f2_o1:"Owner/client applies themselves",
          f2_o2:"Advisor helps, but owner is the applicant",
          f2_o3:"Provider/company ‘does everything’ (clarify roles)",
          f2_o4:"unclear / not explained",
          f2_help:"If ‘company does everything’: who signs? who is liable? who receives official letters?",

          f3_lbl:"Timing: where are you in the process?",
          f3_o1:"before application/confirmation (right for many programs)",
          f3_o2:"quotes collected (ok – but ordering must be clarified)",
          f3_o3:"already ordered/commissioned (risk: eligibility)",
          f3_o4:"already built (often limited options)",
          f3_help:"Most common mistake: ordering too early. Always clarify in writing.",

          f4_lbl:"Funding amount in the offer",
          f4_o1:"range/estimate (conditions stated)",
          f4_o2:"fixed amount (with source/proof)",
          f4_o3:"claimed ‘guaranteed’ (warning)",
          f4_o4:"not mentioned",
          f4_help:"If someone says ‘guaranteed’: ask for source, conditions, and written proof.",

          f5_lbl:"Roof renovation before PV: is it relevant?",
          f5_o1:"no (roof ok / checked)",
          f5_o2:"unclear (must be checked)",
          f5_o3:"yes (renovation/statics/waterproofing relevant)",
          f5_help:"Roof topics often drive real cost/time. Clarify before PV.",

          k1_t:"Funding light",
          k1_s:"Formal & plausible",
          k2_t:"Main risk",
          k2_s:"typical failure",
          k3_t:"Next step",
          k3_s:"concrete",
          k4_t:"Rule",
          k4_s:"for the talk",

          sec4_title:"4) Document check (don’t move forward without it)",
          sec4_p1:"Funding is paperwork-heavy. This list isn’t bureaucracy—it’s protection. Missing documents can break the deal later.",
          d1_t:"Program/source clearly named",
          d1_d:"Not ‘there is funding’, but: which one exactly.",
          d2_t:"Eligibility clarified in writing",
          d2_d:"Who may apply? owner, business, etc.",
          d3_t:"Timing rule confirmed in writing",
          d3_d:"What is allowed before approval—and what is not.",
          d4_t:"Cost items separated cleanly",
          d4_d:"PV, battery, roof, scaffolding, grid, planning—so funding logic matches.",
          d5_t:"Proof/billing logic explained",
          d5_d:"Which invoices, photos, acceptances, protocols are required?",

          note2_t:"Practical tip:",
          note2_b:"If someone ‘sells’ funding, they must explain conditions—otherwise it’s just a trigger.",

          sec5_title:"5) Question set for your conversation",
          sec5_p1:"These questions are intentionally simple. They force clear answers.",
          q1_t:"Which exact program do you mean—name/provider?",
          q1_d:"Without a concrete source it’s marketing.",
          q2_t:"Who is the applicant—and who signs what?",
          q2_d:"Roles must be clean (owner / company / advisor).",
          q3_t:"Which conditions must be met (tech/deadlines/proof)?",
          q3_d:"If they can’t explain, risk is high.",
          q4_t:"When may I order/commission—and what would exclude me?",
          q4_d:"Timing is the #1 rejection driver.",
          q5_t:"What happens if costs/plan/schedule changes?",
          q5_d:"Good providers have a plan—not just hope.",

          sec6_title:"6) Wow map: funding logic in the project",
          sec6_p1:"This graphic is an orientation: funding is usually about timing + roles + proof.",
          viz_title:"Funding map (illustration)",
          viz_note:"no real data",

          footer:"Premium workbook – Module 11. Inputs are stored locally and printable.",

          red:"RED",
          yellow:"YELLOW",
          green:"GREEN",
          risk_timing:"timing (ordered too early)",
          risk_roles:"roles unclear (who applies?)",
          risk_promises:"‘guarantees’ without source",
          risk_roof:"roof unclear (cost/deadline)",
          next_request:"clarify in writing: program + conditions + timing",
          next_roles:"clarify roles/signatures (applicant/partners)",
          next_roof:"check roof + separate cost items",
          next_compare:"contact funding office / get second opinion",
          rule:"Clarify first, then order."
        }
      };

      function getData(){
        try{
          const raw = localStorage.getItem(LS_KEY_DATA);
          const obj = raw ? JSON.parse(raw) : {};
          return (obj && typeof obj === "object") ? obj : {};
        }catch(e){ return {}; }
      }
      function setData(obj){
        localStorage.setItem(LS_KEY_DATA, JSON.stringify(obj));
      }

      function applyI18n(lang){
        document.documentElement.lang = lang;
        document.querySelectorAll("[data-i18n]").forEach(el=>{
          const k = el.getAttribute("data-i18n");
          const txt = (i18n[lang] && i18n[lang][k] !== undefined) ? i18n[lang][k] : null;
          if(txt !== null) el.textContent = txt;
        });
        document.querySelectorAll("option[data-i18n]").forEach(opt=>{
          const k = opt.getAttribute("data-i18n");
          const txt = (i18n[lang] && i18n[lang][k] !== undefined) ? i18n[lang][k] : null;
          if(txt !== null) opt.textContent = txt;
        });
      }

      function loadLang(){
        const saved = localStorage.getItem(LS_KEY_LANG);
        return saved === "en" ? "en" : "de";
      }
      function saveLang(lang){
        localStorage.setItem(LS_KEY_LANG, lang);
      }

      function addNoCache(){
        const ts = Date.now();
        document.querySelectorAll('a[data-nocache="1"]').forEach(link=>{
          const href = link.getAttribute("href") || "";
          const url = new URL(href, location.href);
          url.searchParams.set("nocache", String(ts));
          link.setAttribute("href", url.pathname.split("/").pop() + "?" + url.searchParams.toString());
        });
      }

      function wireFields(){
        const data = getData();

        document.querySelectorAll("select[data-save]").forEach(sel=>{
          const k = sel.getAttribute("data-save");
          if(data[k] !== undefined) sel.value = data[k];
          sel.addEventListener("change", ()=>{
            const d = getData();
            d[k] = sel.value;
            setData(d);
            updateAll();
          });
        });

        document.querySelectorAll("input[type='checkbox'][data-save-check]").forEach(chk=>{
          const k = chk.getAttribute("data-save-check");
          if(data[k] !== undefined) chk.checked = !!data[k];
          chk.addEventListener("change", ()=>{
            const d = getData();
            d[k] = chk.checked;
            setData(d);
            updateAll();
          });
        });
      }

      function compute(){
        const lang = (langSel.value === "en") ? "en" : "de";
        const t = i18n[lang];
        const d = getData();

        let score = 100;

        // Risk scoring
        if(d.m11_who === "unknown") score -= 18;
        if(d.m11_who === "company") score -= 10;

        if(d.m11_timing === "ordered") score -= 28;
        if(d.m11_timing === "built") score -= 38;

        if(d.m11_amount === "promise") score -= 26;
        if(d.m11_amount === "none") score -= 10;

        if(d.m11_roof === "maybe") score -= 10;
        if(d.m11_roof === "yes") score -= 18;

        // Missing docs checklist reduces readiness
        const docKeys = ["m11_doc1","m11_doc2","m11_doc3","m11_doc4","m11_doc5"];
        let docOK = 0;
        docKeys.forEach(k=>{ if(d[k]) docOK++; });
        score -= (5 - docOK) * 8;

        score = Math.max(0, Math.min(100, score));

        let light = t.green;
        if(score < 58) light = t.red;
        else if(score < 80) light = t.yellow;

        // Main risk
        let risk = "–";
        if(d.m11_timing === "ordered" || d.m11_timing === "built") risk = t.risk_timing;
        else if(d.m11_who === "unknown" || d.m11_who === "company") risk = t.risk_roles;
        else if(d.m11_amount === "promise") risk = t.risk_promises;
        else if(d.m11_roof === "yes" || d.m11_roof === "maybe") risk = t.risk_roof;

        // Next
        let next = t.next_request;
        if(d.m11_who === "unknown" || d.m11_who === "company") next = t.next_roles;
        if(d.m11_roof === "yes" || d.m11_roof === "maybe") next = t.next_roof;
        if(light === t.yellow) next = t.next_compare;
        if(light === t.red) next = t.next_request;

        return { light, risk, next, rule: t.rule, t };
      }

      function updateAll(){
        const r = compute();
        kpiLight.textContent = r.light;
        kpiRisk.textContent  = r.risk;
        kpiNext.textContent  = r.next;
        kpiRule.textContent  = r.rule;
      }

      // Buttons
      printBtn.addEventListener("click", ()=> window.print());
      resetBtn.addEventListener("click", ()=>{
        const lang = langSel.value === "en" ? "en" : "de";
        const ok = confirm(lang === "en"
          ? "Clear all saved project inputs for this course?"
          : "Alle gespeicherten Eingaben für diesen Kurs wirklich löschen?"
        );
        if(!ok) return;
        localStorage.removeItem(LS_KEY_DATA);
        location.reload();
      });

      // Init
      addNoCache();
      const lang = loadLang();
      langSel.value = lang;
      applyI18n(lang);
      wireFields();
      updateAll();

      langSel.addEventListener("change", ()=>{
        const l = langSel.value === "en" ? "en" : "de";
        saveLang(l);
        applyI18n(l);
        updateAll();
      });
    })();
  </script>
<!-- PATCH: Modul-Navigation (Prev / Index / Next) -->
<style>
  .modNav{
    margin-top: 14px;
    border:1px solid rgba(15,17,20,.12);
    border-radius: 16px;
    background: rgba(255,255,255,.72);
    box-shadow: 0 14px 34px rgba(0,0,0,.08);
    padding: 12px 12px;
    position:relative;
    overflow:hidden;
  }
  .modNav:before{
    content:"";
    position:absolute;
    inset:-2px;
    background:
      radial-gradient(620px 180px at 16% 8%, rgba(200,166,58,.12), transparent 65%),
      radial-gradient(620px 180px at 84% 12%, rgba(11,125,92,.10), transparent 65%);
    pointer-events:none;
    opacity:.75;
  }
  .modNav > *{ position:relative; }

  .modNavTop{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    flex-wrap:wrap;
    margin-bottom:10px;
  }
  .modNavTitle{
    font-weight:1100;
    font-size:13px;
    color: rgba(15,17,20,.92);
  }
  .modNavHint{
    font-size:12px;
    font-weight:900;
    color: rgba(71,80,95,.92);
    background: rgba(200,166,58,.10);
    border:1px solid rgba(200,166,58,.22);
    border-radius: 999px;
    padding: 4px 8px;
    width: fit-content;
  }

  .modNavBtns{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    align-items:center;
  }

  .modNavBtn{
    display:inline-flex;
    align-items:center;
    gap:10px;
    text-decoration:none;
    font-weight:1100;
    border-radius: 12px;
    padding: 11px 14px;
    border:1px solid rgba(15,17,20,.12);
    background: linear-gradient(180deg, rgba(255,255,255,.94), rgba(255,255,255,.76));
    color: rgba(15,17,20,.92);
    box-shadow: 0 14px 30px rgba(0,0,0,.06);
    transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
    white-space:nowrap;
  }
  .modNavBtn:hover{
    transform: translateY(-1px);
    box-shadow: 0 18px 38px rgba(0,0,0,.10);
    border-color: rgba(11,125,92,.28);
  }

  .modNavBtn.primary{
    color:#fff;
    border:1px solid rgba(11,125,92,.22);
    background: linear-gradient(180deg, rgba(26,165,122,1), rgba(11,125,92,1));
    box-shadow: 0 14px 30px rgba(11,125,92,.18);
  }
  .modNavBtn.primary:hover{
    box-shadow: 0 18px 38px rgba(11,125,92,.22);
  }

  .modNavBtn svg{ width:16px; height:16px; flex:0 0 auto; opacity:.95; }
  .modNavBtn.disabled{
    opacity:.45;
    pointer-events:none;
    filter: grayscale(1);
  }

  @media print{
    .modNav{ display:none !important; }
  }
</style>

<nav class="modNav" id="modNav" aria-label="Modul Navigation" style="display:none">
  <div class="modNavTop">
    <div class="modNavTitle" data-i18n="nav_title">Navigation</div>
    <div class="modNavHint" data-i18n="nav_hint">Weiter zum nächsten Modul</div>
  </div>

  <div class="modNavBtns">
    <a class="modNavBtn" id="navPrev" href="#" data-nocache="1">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M15 6l-6 6 6 6" fill="none" stroke="rgba(15,17,20,.85)" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span data-i18n="nav_prev">Vorheriges Modul</span>
    </a>

    <a class="modNavBtn" id="navIndex" href="index.html" data-nocache="1">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M4 10.5l8-6 8 6V20a1 1 0 0 1-1 1h-4v-6H9v6H5a1 1 0 0 1-1-1v-9.5z"
              fill="rgba(200,166,58,.18)" stroke="rgba(15,17,20,.55)" stroke-width="1.4" stroke-linejoin="round"/>
      </svg>
      <span data-i18n="nav_index">Index</span>
    </a>

    <a class="modNavBtn primary" id="navNext" href="#" data-nocache="1">
      <span data-i18n="nav_next">Nächstes Modul</span>
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M9 6l6 6-6 6" fill="none" stroke="rgba(255,255,255,.95)" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </a>
  </div>
</nav>

<script>
  (function(){
    // i18n keys ergänzen, falls dein Modul bereits i18n nutzt:
    // (Wir überschreiben nichts – nur fallback, wenn Keys fehlen.)
    const fallback = {
      de: { nav_title:"Navigation", nav_hint:"Weiter zum nächsten Modul", nav_prev:"Vorheriges Modul", nav_index:"Index", nav_next:"Nächstes Modul" },
      en: { nav_title:"Navigation", nav_hint:"Continue to the next module", nav_prev:"Previous module", nav_index:"Index", nav_next:"Next module" }
    };

    // Sprache aus bestehender Seite ableiten (html lang oder select#langSel, wenn vorhanden)
    function getLang(){
      const sel = document.getElementById("langSel");
      if(sel && (sel.value==="en" || sel.value==="de")) return sel.value;
      const l = (document.documentElement.lang || "de").toLowerCase();
      return l.startsWith("en") ? "en" : "de";
    }

    // Modulnummer aus Dateiname: module-01.html ... module-12.html
    const file = (location.pathname.split("/").pop() || "").toLowerCase();
    const m = file.match(/^module-(\d{2})\.html$/);
    if(!m) return; // nur auf Modul-Seiten aktiv

    const num = parseInt(m[1], 10);
    if(!Number.isFinite(num)) return;

    const nav = document.getElementById("modNav");
    const prev = document.getElementById("navPrev");
    const next = document.getElementById("navNext");
    const idx  = document.getElementById("navIndex");

    function withNoCache(href){
      const ts = Date.now();
      const url = new URL(href, location.href);
      url.searchParams.set("nocache", String(ts));
      return url.pathname.split("/").pop() + "?" + url.searchParams.toString();
    }

    function pad2(n){ return String(n).padStart(2,"0"); }

    // Links setzen
    idx.href = withNoCache("index.html");

    if(num > 1){
      prev.href = withNoCache("module-" + pad2(num-1) + ".html");
      prev.classList.remove("disabled");
    }else{
      prev.href = "#";
      prev.classList.add("disabled");
    }

    if(num < 12){
      next.href = withNoCache("module-" + pad2(num+1) + ".html");
      next.classList.remove("disabled");
    }else{
      next.href = "#";
      next.classList.add("disabled");
    }

    // i18n minimal anwenden (nur diese Nav-Keys, ohne dein System zu stören)
    function applyNavI18n(){
      const lang = getLang();
      document.querySelectorAll("#modNav [data-i18n]").forEach(el => {
        const k = el.getAttribute("data-i18n");
        if(!k) return;
        // wenn deine Seite das schon setzt, lassen wir es; sonst fallback:
        const current = (el.textContent || "").trim();
        if(current) return;
        el.textContent = (fallback[lang] && fallback[lang][k]) ? fallback[lang][k] : (fallback.de[k] || "");
      });
    }

    // sichtbar machen
    nav.style.display = "";
    applyNavI18n();

    // falls dein Modul per Sprachumschalter live wechselt
    const langSel = document.getElementById("langSel");
    if(langSel){
      langSel.addEventListener("change", () => {
        // Texte nur setzen, wenn leer – also kein Überschreiben
        applyNavI18n();
      });
    }
  })();
</script>
<!-- /PATCH: Modul-Navigation -->
</body>
</html>
