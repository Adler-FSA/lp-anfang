<!doctype html>
<!--
  FSA • Premium Kurs (Workbook)
  Titel: Photovoltaik als Kapitalanlage – Chancen, Risiken, Kalkulation
  GitHub-Pfad: lp-anfang/pages/photovoltaik-als-kapitalanlage/index.html

  Hinweise:
  - Kein Zurück-Button in die Akademie (unabhängige Kursseite).
  - DE/EN via data-i18n.
  - Print-optimiert: Druckbutton + @media print.
  - LocalStorage nur lokal (keine externen Dienste).

  Commit-Message: photovoltaik-als-kapitalanlage – Index Kurs-Standard (weiß/schwarz), "Standalone" entfernt, Premium-Intro + auffällige Module
  Testlink (nocache): https://adler-fsa.github.io/lp-anfang/pages/photovoltaik-als-kapitalanlage/index.html?nocache=__TS__
-->
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Photovoltaik als Kapitalanlage – Chancen, Risiken, Kalkulation</title>
  <meta name="description" content="Premium Workbook-Kurs (DE/EN): Photovoltaik als Kapitalanlage – Projekte prüfen, Risiken erkennen, Kalkulation verstehen. Druckbar als Projektakte." />
  <meta name="robots" content="index,follow" />
  <style>
    :root{
      /* Premium Kurs-Standard (weiß/schwarz) */
      --bg:#ffffff;
      --ink:#111214;
      --muted:#47505f;

      --line: rgba(17,18,20,.12);
      --line2: rgba(17,18,20,.18);

      --paper: rgba(255,255,255,.92);
      --card: rgba(255,255,255,.88);

      --gold:#c8a63a;
      --gold2:#e0c466;

      --accent:#0b7d5c;
      --accent2:#1aa57a;

      --danger:#c52646;
      --ok:#138a55;

      --shadow: 0 14px 34px rgba(0,0,0,.10);
      --shadow2: 0 26px 70px rgba(0,0,0,.12);

      --radius:18px;
      --max: 1140px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 720px at 10% 8%, rgba(200,166,58,.16), transparent 58%),
        radial-gradient(1050px 720px at 88% 14%, rgba(11,125,92,.12), transparent 58%),
        radial-gradient(920px 640px at 52% 96%, rgba(197,38,70,.08), transparent 60%),
        linear-gradient(180deg, #ffffff 0%, #fbfbfc 45%, #ffffff 100%);
      overflow-x:hidden;
    }

    /* dezente “wow” Bewegung (ohne nervig zu sein) */
    .spark{
      position:fixed;
      inset:-30vh -30vw auto -30vw;
      height:60vh;
      pointer-events:none;
      z-index:0;
      filter: blur(18px);
      opacity:.55;
      background:
        radial-gradient(closest-side at 18% 35%, rgba(200,166,58,.28), transparent 65%),
        radial-gradient(closest-side at 68% 28%, rgba(11,125,92,.22), transparent 65%),
        radial-gradient(closest-side at 48% 85%, rgba(197,38,70,.14), transparent 70%);
      transform: translate3d(0,0,0);
      animation: floaty 10s ease-in-out infinite;
    }
    @keyframes floaty{
      0%{ transform: translate3d(0px, 0px, 0px) scale(1); }
      50%{ transform: translate3d(12px, 10px, 0px) scale(1.02); }
      100%{ transform: translate3d(0px, 0px, 0px) scale(1); }
    }
    @media (prefers-reduced-motion: reduce){
      .spark{ animation:none; }
      *{ scroll-behavior:auto !important; }
    }

    .wrap{
      position:relative;
      z-index:1;
      max-width:var(--max);
      margin:0 auto;
      padding: 26px 18px 74px;
    }

    .topbar{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
      margin-bottom:18px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      padding: 10px 12px;
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.94), rgba(255,255,255,.76));
      border-radius: 999px;
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .brand:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(520px 180px at 12% 30%, rgba(200,166,58,.14), transparent 64%),
        radial-gradient(520px 180px at 84% 20%, rgba(11,125,92,.10), transparent 64%);
      pointer-events:none;
    }
    .brand > *{ position:relative; }
    .brand svg{ width:22px; height:22px; flex:0 0 auto; }
    .brand .t1{
      font-weight:950;
      letter-spacing:.2px;
      line-height:1.1;
    }
    .brand .t2{
      font-size:12px;
      color:var(--muted);
      margin-top:2px;
      line-height:1.1;
    }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-end;
    }

    .btn{
      appearance:none;
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.94), rgba(255,255,255,.76));
      color:var(--ink);
      padding:10px 12px;
      border-radius: 12px;
      font-weight:950;
      cursor:pointer;
      box-shadow: var(--shadow);
      display:inline-flex;
      align-items:center;
      gap:10px;
      text-decoration:none;
      user-select:none;
      transition: transform .10s ease, border-color .14s ease, box-shadow .14s ease;
    }
    .btn:hover{ transform: translateY(-1px); border-color: rgba(200,166,58,.45); box-shadow: var(--shadow2); }
    .btn:active{ transform: translateY(0px); }
    .btn .dot{
      width:10px; height:10px; border-radius:50%;
      background: var(--gold);
      box-shadow: 0 0 14px rgba(200,166,58,.30);
    }
    .btn.secondary .dot{ background: var(--accent2); box-shadow: 0 0 14px rgba(26,165,122,.26); }
    .btn.danger .dot{ background: var(--danger); box-shadow: 0 0 14px rgba(197,38,70,.20); }

    .lang{
      display:flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.74);
      border-radius: 12px;
      box-shadow: var(--shadow);
    }
    .lang label{
      font-size:12px;
      color:var(--muted);
      font-weight:950;
    }
    .lang select{
      background: rgba(255,255,255,.95);
      border:1px solid var(--line2);
      color: var(--ink);
      border-radius:10px;
      padding:8px 10px;
      font-weight:950;
      outline:none;
    }

    .hero{
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.94), rgba(255,255,255,.80));
      border-radius: var(--radius);
      box-shadow: var(--shadow2);
      padding: 18px 18px 14px;
      margin-bottom: 14px;
      position:relative;
      overflow:hidden;
    }
    .hero:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(720px 240px at 10% 18%, rgba(200,166,58,.18), transparent 66%),
        radial-gradient(620px 240px at 84% 26%, rgba(11,125,92,.12), transparent 66%),
        radial-gradient(560px 240px at 58% 92%, rgba(197,38,70,.08), transparent 70%);
      pointer-events:none;
    }
    .hero > *{ position:relative; }

    .kicker{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      margin-bottom:10px;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(200,166,58,.42);
      background: rgba(200,166,58,.10);
      font-weight:950;
      font-size:12px;
      letter-spacing:.25px;
      color: rgba(17,18,20,.92);
    }
    .badge .bDot{
      width:10px; height:10px; border-radius:50%;
      background: var(--gold);
      box-shadow: 0 0 14px rgba(200,166,58,.26);
    }
    .badge.secondary{
      border-color: rgba(11,125,92,.35);
      background: rgba(11,125,92,.10);
    }
    .badge.secondary .bDot{
      background: var(--accent2);
      box-shadow: 0 0 14px rgba(26,165,122,.22);
    }

    h1{
      margin:0 0 8px;
      font-size: 26px;
      letter-spacing:.2px;
      line-height:1.22;
    }
    .sub{
      margin:0 0 12px;
      color: var(--muted);
      line-height:1.55;
      font-size:14px;
      max-width: 100ch;
    }

    .notice{
      border:1px solid rgba(200,166,58,.40);
      background: rgba(200,166,58,.10);
      border-radius: 14px;
      padding: 12px 12px;
      color: rgba(17,18,20,.92);
      line-height:1.55;
      font-size:13px;
    }
    .notice strong{ color: #6a520a; }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
      margin-top: 14px;
    }
    @media (min-width: 920px){
      .grid{ grid-template-columns: 1fr 1fr; }
    }

    .card{
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.94), rgba(255,255,255,.82));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 14px 14px 12px;
      overflow:hidden;
      position:relative;
    }
    .card:before{
      content:"";
      position:absolute;
      left:0; top:0; bottom:0;
      width:4px;
      background: linear-gradient(180deg, rgba(200,166,58,.95), rgba(11,125,92,.65));
      opacity:.85;
    }
    .card h2{
      margin:0 0 8px;
      font-size:16px;
      letter-spacing:.2px;
      padding-left:8px;
    }
    .card p{
      margin:0 0 10px;
      color: var(--muted);
      font-size:13px;
      line-height:1.55;
      padding-left:8px;
    }

    .modules{
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
      margin-top: 10px;
    }
    @media (min-width: 760px){
      .modules{ grid-template-columns: 1fr 1fr; }
    }

    /* Auffällige Premium Modul-Karte */
    .m{
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.94), rgba(255,255,255,.82));
      border-radius: 16px;
      padding: 12px 12px 12px;
      display:flex;
      flex-direction:column;
      gap:8px;
      min-height: 142px;
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
      transition: transform .12s ease, box-shadow .12s ease, border-color .14s ease;
    }
    .m:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(520px 220px at 18% 18%, rgba(200,166,58,.18), transparent 66%),
        radial-gradient(520px 220px at 86% 22%, rgba(11,125,92,.12), transparent 66%);
      opacity:.62;
      pointer-events:none;
    }
    .m:after{
      content:"";
      position:absolute;
      left:-40%;
      top:-60%;
      width:80%;
      height:220%;
      transform: rotate(20deg);
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.55), transparent);
      opacity:0;
      pointer-events:none;
      transition: opacity .18s ease;
    }
    .m:hover{
      transform: translateY(-2px);
      box-shadow: var(--shadow2);
      border-color: rgba(17,18,20,.22);
    }
    .m:hover:after{
      opacity:.55;
      animation: sheen 1.1s ease forwards;
    }
    @keyframes sheen{
      0%{ transform: translateX(-30%) rotate(20deg); }
      100%{ transform: translateX(130%) rotate(20deg); }
    }

    .m > *{ position:relative; }

    .mTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-weight:950;
      font-size:12px;
      letter-spacing:.25px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(17,18,20,.14);
      background: rgba(255,255,255,.78);
      color: rgba(17,18,20,.88);
      width: fit-content;
    }
    .pill .s{
      width:10px; height:10px; border-radius:50%;
      background: var(--gold);
      box-shadow: 0 0 14px rgba(200,166,58,.26);
    }
    .pill.tools .s{
      background: var(--accent2);
      box-shadow: 0 0 14px rgba(26,165,122,.22);
    }

    .num{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      min-width:42px;
      height:30px;
      padding:0 12px;
      border-radius: 999px;
      border:1px solid rgba(17,18,20,.14);
      background: rgba(255,255,255,.76);
      font-weight:1000;
      letter-spacing:.3px;
      color: rgba(17,18,20,.90);
      box-shadow: 0 10px 20px rgba(0,0,0,.06);
    }

    .mTitle{
      font-weight:1000;
      font-size:14px;
      letter-spacing:.15px;
      color: rgba(17,18,20,.96);
      line-height:1.25;
    }

    .mDesc{
      color: var(--muted);
      font-size: 13px;
      line-height: 1.55;
      max-width: 70ch;
    }

    .m a{
      margin-top:auto;
      display:inline-flex;
      align-items:center;
      gap:10px;
      text-decoration:none;
      font-weight:1000;
      color: var(--ink);
      border:1px solid rgba(17,18,20,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.78));
      padding: 10px 12px;
      border-radius: 12px;
      box-shadow: 0 12px 26px rgba(0,0,0,.10);
      transition: transform .10s ease, border-color .14s ease, box-shadow .14s ease;
      width: fit-content;
    }
    .m a:hover{
      transform: translateY(-1px);
      border-color: rgba(11,125,92,.35);
      box-shadow: 0 18px 36px rgba(0,0,0,.12);
    }
    .m a .arr{ width:14px; height:14px; display:inline-block; }

    .footer{
      margin-top: 16px;
      color: rgba(17,18,20,.55);
      font-size: 12px;
      line-height:1.55;
      text-align:center;
    }

    /* Print */
    @media print{
      .spark{ display:none !important; }
      body{ background:#fff !important; color:#000 !important; }
      .topbar, .actions, .lang, .btn{ display:none !important; }
      .wrap{ max-width: 820px; padding: 0; }
      .hero, .card, .m{
        box-shadow:none !important;
        background:#fff !important;
        border:1px solid #bbb !important;
        color:#000 !important;
      }
      .sub, .card p, .mDesc{ color:#111 !important; }
      .notice{
        border:1px solid #999 !important;
        background:#f7f2df !important;
        color:#000 !important;
      }
      a{ color:#000 !important; text-decoration:none !important; }
      .pill, .num{
        border:1px solid #999 !important;
        background:#f2f2f2 !important;
        color:#000 !important;
      }
      .card:before{ display:none !important; }
      .m:before,.m:after{ display:none !important; }
    }
  </style>
</head>

<body>
  <div class="spark" aria-hidden="true"></div>

  <div class="wrap">

    <div class="topbar">
      <div class="brand" aria-label="Kurs">
        <!-- Inline-SVG -->
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <defs>
            <linearGradient id="gSun" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="#c8a63a"/>
              <stop offset="1" stop-color="#e0c466"/>
            </linearGradient>
          </defs>
          <circle cx="12" cy="12" r="5.2" fill="url(#gSun)"></circle>
          <g fill="none" stroke="rgba(17,18,20,.78)" stroke-width="1.2" stroke-linecap="round">
            <path d="M12 2.2v2.2M12 19.6v2.2M2.2 12h2.2M19.6 12h2.2"/>
            <path d="M4.6 4.6l1.55 1.55M17.85 17.85l1.55 1.55M19.4 4.6l-1.55 1.55M6.15 17.85L4.6 19.4"/>
          </g>
        </svg>
        <div>
          <div class="t1" data-i18n="brand_title">Premium Kurs</div>
          <div class="t2" data-i18n="brand_sub">Photovoltaik als Kapitalanlage</div>
        </div>
      </div>

      <div class="actions">
        <div class="lang" title="Sprache / Language">
          <label for="langSel" data-i18n="lang_label">Sprache</label>
          <select id="langSel" aria-label="Sprache wählen">
            <option value="de">DE</option>
            <option value="en">EN</option>
          </select>
        </div>

        <button class="btn secondary" id="printBtn" type="button" title="Drucken / Print">
          <span class="dot" aria-hidden="true"></span>
          <span data-i18n="btn_print">Drucken</span>
        </button>

        <button class="btn danger" id="resetBtn" type="button" title="Projektakte leeren">
          <span class="dot" aria-hidden="true"></span>
          <span data-i18n="btn_reset">Projektakte leeren</span>
        </button>
      </div>
    </div>

    <div class="hero">
      <div class="kicker">
        <div class="badge">
          <span class="bDot" aria-hidden="true"></span>
          <span data-i18n="badge1">Workbook • Gesprächsvorbereitung</span>
        </div>
        <div class="badge secondary">
          <span class="bDot" aria-hidden="true"></span>
          <span data-i18n="badge2">Druckbar • Projektakte</span>
        </div>
      </div>

      <h1 data-i18n="h1">Photovoltaik als Kapitalanlage</h1>

      <p class="sub" data-i18n="intro">
        Dieser Kurs ist ein Premium-Workbook zur finanziellen Bildung. Du baust dir eine saubere Projektakte auf, prüfst Unterlagen strukturiert
        und gehst vorbereitet in Gespräche mit Installateuren, Projektanbietern, Banken oder Steuer-/Rechtsstellen. Ziel ist nicht „Meinung“, sondern Klarheit:
        Welche Fakten fehlen? Welche Annahmen sind realistisch? Wo liegen Risiken? Was muss schriftlich vorliegen?
      </p>

      <div class="notice">
        <strong data-i18n="notice_title">Wichtiger Hinweis:</strong>
        <span data-i18n="notice_text">
          Keine Anlageberatung, keine Steuer- oder Rechtsberatung. Dieser Kurs dient ausschließlich der Befähigung: Fragen stellen, Dokumente prüfen,
          Zahlen verstehen und Risiken erkennen – damit du Entscheidungen selbständig und sauber vorbereitet treffen kannst.
        </span>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <h2 data-i18n="card1_title">So nutzt du den Kurs</h2>
        <p data-i18n="card1_text">
          Die Module sind wie ein strukturiertes Gespräch aufgebaut. Du trägst Antworten in Felder ein, sammelst Nachweise und erzeugst daraus deine Projektakte.
          Du kannst jedes Modul einzeln drucken oder später die gesamte Akte ausdrucken und mit in deinen Termin nehmen.
        </p>
      </div>

      <div class="card">
        <h2 data-i18n="card2_title">Projektakte (lokal)</h2>
        <p data-i18n="card2_text">
          Eingaben werden lokal im Browser gespeichert (LocalStorage). Es werden keine externen Dienste genutzt. Mit „Projektakte leeren“ kannst du alles sofort zurücksetzen.
        </p>
      </div>
    </div>

    <div class="card" style="margin-top:12px;">
      <h2 data-i18n="mods_title">Module</h2>
      <p data-i18n="mods_text">
        Start mit Modul 1. Zusatzmodule für Grafiken, Tabellen, Beispielkalkulationen und Renditeszenarien sind als Werkzeuge gekennzeichnet und werden ebenfalls gedruckt.
      </p>

      <div class="modules" id="modules"></div>
    </div>

    <div class="footer" data-i18n="footer">
      Premium Kursseite (DE/EN). Inhalte sind für Ausbildungszwecke und Gesprächsvorbereitung gedacht. Ausdruckbar für Termine.
    </div>

  </div>

  <script>
    (function(){
      const LS_KEY_LANG = "fsa_pvka_lang";
      const LS_KEY_DATA = "fsa_pvka_project";

      const langSel = document.getElementById("langSel");
      const printBtn = document.getElementById("printBtn");
      const resetBtn = document.getElementById("resetBtn");
      const modulesEl = document.getElementById("modules");

      const i18n = {
        de: {
          brand_title: "Premium Kurs",
          brand_sub: "Photovoltaik als Kapitalanlage",
          lang_label: "Sprache",
          btn_print: "Drucken",
          btn_reset: "Projektakte leeren",

          badge1: "Workbook • Gesprächsvorbereitung",
          badge2: "Druckbar • Projektakte",

          h1: "Photovoltaik als Kapitalanlage",
          intro:
            "Dieser Kurs ist ein Premium-Workbook zur finanziellen Bildung. Du baust dir eine saubere Projektakte auf, prüfst Unterlagen strukturiert " +
            "und gehst vorbereitet in Gespräche mit Installateuren, Projektanbietern, Banken oder Steuer-/Rechtsstellen. Ziel ist nicht „Meinung“, sondern Klarheit: " +
            "Welche Fakten fehlen? Welche Annahmen sind realistisch? Wo liegen Risiken? Was muss schriftlich vorliegen?",

          notice_title: "Wichtiger Hinweis:",
          notice_text:
            "Keine Anlageberatung, keine Steuer- oder Rechtsberatung. Dieser Kurs dient ausschließlich der Befähigung: Fragen stellen, Dokumente prüfen, " +
            "Zahlen verstehen und Risiken erkennen – damit du Entscheidungen selbständig und sauber vorbereitet treffen kannst.",

          card1_title: "So nutzt du den Kurs",
          card1_text:
            "Die Module sind wie ein strukturiertes Gespräch aufgebaut. Du trägst Antworten in Felder ein, sammelst Nachweise und erzeugst daraus deine Projektakte. " +
            "Du kannst jedes Modul einzeln drucken oder später die gesamte Akte ausdrucken und mit in deinen Termin nehmen.",

          card2_title: "Projektakte (lokal)",
          card2_text:
            "Eingaben werden lokal im Browser gespeichert (LocalStorage). Es werden keine externen Dienste genutzt. Mit „Projektakte leeren“ kannst du alles sofort zurücksetzen.",

          mods_title: "Module",
          mods_text:
            "Start mit Modul 1. Zusatzmodule für Grafiken, Tabellen, Beispielkalkulationen und Renditeszenarien sind als Werkzeuge gekennzeichnet und werden ebenfalls gedruckt.",

          footer:
            "Premium Kursseite (DE/EN). Inhalte sind für Ausbildungszwecke und Gesprächsvorbereitung gedacht. Ausdruckbar für Termine.",

          open_module: "Modul öffnen",
          pill_base: "Kernmodul",
          pill_tools: "Werkzeug",

          m1_t: "Modul 1 – Ziel & Profil (Gesprächsvorbereitung)",
          m1_d: "Ziele klären, Rahmen setzen, Projektakte starten. Ergebnis: klare Ausgangslage für den Termin.",
          m2_t: "Modul 2 – Anlageklasse verstehen (PV-Logik)",
          m2_d: "Stromfluss, Einnahme/Ersparnis, Lebensdauer, typische Annahmen. Grundlage für jede Rechnung.",
          m3_t: "Modul 3 – Regulierung & Netzprozess",
          m3_d: "EEG-Grundlogik, Netzbetreiber, Einspeiseprozess, Inbetriebnahme, Meldungen. Fokus: Prozesssicherheit.",
          m4_t: "Modul 4 – Modellwahl (Dach / Pacht / Beteiligung)",
          m4_d: "Investmentform festlegen, Rollen/Haftung verstehen, Entscheidungsbaum. Ergebnis: Modell passt zum Ziel.",
          m5_t: "Modul 5 – Standort & Ertrag (Plausibilität)",
          m5_d: "Ertragsannahmen prüfen, Quellen vergleichen, Verschattung/Ausrichtung dokumentieren. Ergebnis: belastbare Basiswerte.",
          m6_t: "Modul 6 – Verträge & Verantwortlichkeiten",
          m6_d: "Stückliste, Abnahme, Gewährleistung, Service, Versicherung, Monitoring – schriftlich prüfbar festhalten.",
          m7_t: "Modul 7 – Red-Flags & Risiko-Score",
          m7_d: "Red-Flag Tabelle + Punkte-Score + Ampel zur Orientierung (keine Empfehlung). Ergebnis: Risiken sichtbar machen.",
          m8_t: "Modul 8 – Kostenstruktur (CAPEX) – Werkzeug",
          m8_d: "Ausdruckbare Kostentabelle: Einmalkosten vollständig sammeln, Positionen prüfen, Lücken erkennen.",
          m9_t: "Modul 9 – Laufende Kosten & Rücklagen (OPEX) – Werkzeug",
          m9_d: "Wartung, Versicherung, Monitoring, Rücklagen – jährlich erfassen. Ergebnis: realistische Betriebskosten.",
          m10_t: "Modul 10 – Beispielkalkulation & Renditerahmen – Werkzeug",
          m10_d: "Basisrechnung + Kennzahlen (Cashflow/Amortisation). Tabellen & Diagramm (print). Ergebnis: Rechenrahmen verstehen.",
          m11_t: "Modul 11 – Szenarioanalyse (Robustheitstest) – Werkzeug",
          m11_d: "Variantenrechnung (z. B. -10% Ertrag) zur Stabilitätsprüfung. Ergebnis: Robustheit statt Schönrechnen.",
          m12_t: "Modul 12 – Abschluss: Terminblatt & Fragenkatalog",
          m12_d: "1-Seiten-Zusammenfassung für den Profi-Termin: offene Punkte, Nachweise, nächste Schritte."
        },

        en: {
          brand_title: "Premium course",
          brand_sub: "Photovoltaics as a capital investment",
          lang_label: "Language",
          btn_print: "Print",
          btn_reset: "Clear project file",

          badge1: "Workbook • Meeting preparation",
          badge2: "Printable • Project file",

          h1: "Photovoltaics as a capital investment",
          intro:
            "This course is a premium workbook for financial education. You build a clean project file, verify documents in a structured way, " +
            "and walk into meetings with installers, project providers, banks, or tax/legal professionals fully prepared. The goal is not opinions, but clarity: " +
            "Which facts are missing? Which assumptions are realistic? Where are the risks? What must be documented in writing?",

          notice_title: "Important notice:",
          notice_text:
            "No investment advice, no tax or legal advice. This course is strictly educational: ask the right questions, verify documents, " +
            "understand numbers, and recognize risks—so you can make well-prepared decisions independently.",

          card1_title: "How to use this course",
          card1_text:
            "Modules are structured like a guided conversation. You enter answers into fields, collect evidence, and create your project file. " +
            "You can print each module or later print the full file and bring it to your meeting.",

          card2_title: "Project file (local)",
          card2_text:
            "Inputs are stored locally in your browser (LocalStorage). No external services are used. Use “Clear project file” to reset instantly.",

          mods_title: "Modules",
          mods_text:
            "Start with Module 1. Tool modules for charts, tables, sample calculations, and yield scenarios are clearly labeled and are printable as well.",

          footer:
            "Premium course page (DE/EN). Content is for educational purposes and meeting preparation. Printable for appointments.",

          open_module: "Open module",
          pill_base: "Core",
          pill_tools: "Tool",

          m1_t: "Module 1 – Goals & profile (meeting prep)",
          m1_d: "Clarify goals, set boundaries, start the project file. Outcome: a clear starting position for meetings.",
          m2_t: "Module 2 – Understand PV as an asset class",
          m2_d: "Energy flow, savings/revenue logic, lifespan, key assumptions. Foundation for every calculation.",
          m3_t: "Module 3 – Regulation & grid process",
          m3_d: "EEG basics, grid operator role, feed-in process, commissioning, registrations. Focus: process reliability.",
          m4_t: "Module 4 – Choose the investment model",
          m4_d: "Select model, understand roles/liability, decision tree. Outcome: a model that fits your goal.",
          m5_t: "Module 5 – Site & yield plausibility",
          m5_d: "Check yield assumptions, compare sources, document shading/orientation. Outcome: usable baseline values.",
          m6_t: "Module 6 – Contracts & responsibilities",
          m6_d: "Bill of materials, acceptance, warranties, service, insurance, monitoring—document and verify in writing.",
          m7_t: "Module 7 – Red flags & risk score",
          m7_d: "Red-flag table + scoring + traffic-light orientation (no recommendation). Outcome: make risks visible.",
          m8_t: "Module 8 – Cost structure (CAPEX) – tool",
          m8_d: "Printable cost table: capture one-time costs, verify positions, spot gaps.",
          m9_t: "Module 9 – Operating costs & reserves (OPEX) – tool",
          m9_d: "Maintenance, insurance, monitoring, reserves—record annually. Outcome: realistic operating costs.",
          m10_t: "Module 10 – Sample calculation & yield framework – tool",
          m10_d: "Base calculation + key metrics (cashflow/payback). Tables & chart (print). Outcome: understand the framework.",
          m11_t: "Module 11 – Scenario analysis (robustness test) – tool",
          m11_d: "Variant calculations (e.g., -10% yield) to test stability. Outcome: robustness over wishful thinking.",
          m12_t: "Module 12 – Final: meeting sheet & question list",
          m12_d: "One-page summary for meetings: open items, evidence, next steps."
        }
      };

      const modules = [
        { id:"01", type:"base", href:"module-01.html", tKey:"m1_t", dKey:"m1_d" },
        { id:"02", type:"base", href:"module-02.html", tKey:"m2_t", dKey:"m2_d" },
        { id:"03", type:"base", href:"module-03.html", tKey:"m3_t", dKey:"m3_d" },
        { id:"04", type:"base", href:"module-04.html", tKey:"m4_t", dKey:"m4_d" },
        { id:"05", type:"base", href:"module-05.html", tKey:"m5_t", dKey:"m5_d" },
        { id:"06", type:"base", href:"module-06.html", tKey:"m6_t", dKey:"m6_d" },
        { id:"07", type:"base", href:"module-07.html", tKey:"m7_t", dKey:"m7_d" },
        { id:"08", type:"tools", href:"module-08.html", tKey:"m8_t", dKey:"m8_d" },
        { id:"09", type:"tools", href:"module-09.html", tKey:"m9_t", dKey:"m9_d" },
        { id:"10", type:"tools", href:"module-10.html", tKey:"m10_t", dKey:"m10_d" },
        { id:"11", type:"tools", href:"module-11.html", tKey:"m11_t", dKey:"m11_d" },
        { id:"12", type:"base", href:"module-12.html", tKey:"m12_t", dKey:"m12_d" }
      ];

      function renderModules(lang){
        modulesEl.innerHTML = "";

        modules.forEach(m => {
          const card = document.createElement("div");
          card.className = "m";

          const top = document.createElement("div");
          top.className = "mTop";

          const pill = document.createElement("div");
          pill.className = "pill" + (m.type === "tools" ? " tools" : "");
          pill.innerHTML = '<span class="s" aria-hidden="true"></span>' + (m.type==="tools" ? i18n[lang].pill_tools : i18n[lang].pill_base);

          const num = document.createElement("div");
          num.className = "num";
          num.textContent = m.id;

          top.appendChild(pill);
          top.appendChild(num);

          const title = document.createElement("div");
          title.className = "mTitle";
          title.textContent = i18n[lang][m.tKey];

          const desc = document.createElement("div");
          desc.className = "mDesc";
          desc.textContent = i18n[lang][m.dKey];

          const a = document.createElement("a");
          a.href = m.href;
          a.setAttribute("data-nocache", "1");
          a.innerHTML = `
            <span>${i18n[lang].open_module}</span>
            <svg class="arr" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M9 6l6 6-6 6" fill="none" stroke="rgba(17,18,20,.72)" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          `;

          card.appendChild(top);
          card.appendChild(title);
          card.appendChild(desc);
          card.appendChild(a);

          modulesEl.appendChild(card);
        });

        // nocache param for better testing (Firefox etc.)
        const ts = Date.now();
        document.querySelectorAll('a[data-nocache="1"]').forEach(link => {
          const url = new URL(link.getAttribute("href"), location.href);
          url.searchParams.set("nocache", String(ts));
          link.setAttribute("href", url.pathname.split("/").pop() + "?" + url.searchParams.toString());
        });
      }

      function applyI18n(lang){
        document.documentElement.lang = lang;
        document.querySelectorAll("[data-i18n]").forEach(el => {
          const key = el.getAttribute("data-i18n");
          const txt = (i18n[lang] && i18n[lang][key]) ? i18n[lang][key] : null;
          if(txt !== null) el.textContent = txt;
        });
        renderModules(lang);
      }

      function loadLang(){
        const saved = localStorage.getItem(LS_KEY_LANG);
        return saved === "en" ? "en" : "de";
      }
      function saveLang(lang){
        localStorage.setItem(LS_KEY_LANG, lang);
      }

      // Buttons
      printBtn.addEventListener("click", () => window.print());

      resetBtn.addEventListener("click", () => {
        const ok = confirm((langSel.value==="en")
          ? "Clear all saved project inputs for this course?"
          : "Alle gespeicherten Eingaben für diesen Kurs wirklich löschen?"
        );
        if(!ok) return;
        localStorage.removeItem(LS_KEY_DATA);
        alert((langSel.value==="en") ? "Project file cleared." : "Projektakte wurde geleert.");
      });

      // init language
      const lang = loadLang();
      langSel.value = lang;
      applyI18n(lang);

      langSel.addEventListener("change", () => {
        const l = langSel.value === "en" ? "en" : "de";
        saveLang(l);
        applyI18n(l);
      });

    })();
  </script>
</body>
</html>
