<!doctype html>
<!--
  FSA • Premium Kurs (Workbook)
  Kurs: Photovoltaik als Kapitalanlage
  Modul 10: Entscheidungsfindung und Abschluss

  GitHub-Pfad: lp-anfang/pages/photovoltaik-als-kapitalanlage/module-10.html
  Commit-Message: photovoltaik-als-kapitalanlage – Modul 10 (Entscheidung & Abschluss) Premium: Entscheidungs-Score (Auswahl), Deal-Breaker, Unterlagen-Check, Abschluss-Plan, Wow-Roadmap, Glossar, Print, LocalStorage (DE/EN)
  Testlink (nocache): https://adler-fsa.github.io/lp-anfang/pages/photovoltaik-als-kapitalanlage/module-10.html?nocache=__TS__
-->
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Modul 10 – Entscheidung & Abschluss • Photovoltaik als Kapitalanlage</title>
  <meta name="description" content="Modul 10 (DE/EN): Strukturierte Entscheidungsfindung und Abschluss. Premium Workbook mit Auswahlfeldern, Deal-Breaker, Unterlagen-Check, Abschluss-Plan, Wow-Roadmap, Glossar, Print und LocalStorage." />
  <meta name="robots" content="index,follow" />

  <style>
    :root{
      --bg:#ffffff;
      --ink:#0f1114;
      --muted:#47505f;

      --line: rgba(15,17,20,.12);
      --line2: rgba(15,17,20,.18);

      --gold:#c8a63a;
      --gold2:#e0c466;

      --accent:#0b7d5c;
      --accent2:#1aa57a;

      --danger:#c52646;
      --dangerSoft: rgba(197,38,70,.12);

      --shadow: 0 14px 34px rgba(0,0,0,.10);
      --shadow2: 0 26px 70px rgba(0,0,0,.12);

      --radius:18px;
      --max: 1140px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 720px at 10% 8%, rgba(200,166,58,.18), transparent 58%),
        radial-gradient(1050px 720px at 88% 14%, rgba(11,125,92,.14), transparent 58%),
        radial-gradient(920px 640px at 52% 96%, rgba(197,38,70,.10), transparent 60%),
        linear-gradient(180deg, #ffffff 0%, #fbfbfc 45%, #ffffff 100%);
      overflow-x:hidden;
    }

    .spark{
      position:fixed;
      inset:-30vh -30vw auto -30vw;
      height:60vh;
      pointer-events:none;
      z-index:0;
      filter: blur(18px);
      opacity:.55;
      background:
        radial-gradient(closest-side at 18% 35%, rgba(200,166,58,.30), transparent 65%),
        radial-gradient(closest-side at 68% 28%, rgba(11,125,92,.24), transparent 65%),
        radial-gradient(closest-side at 48% 85%, rgba(197,38,70,.16), transparent 70%);
      transform: translate3d(0,0,0);
      animation: floaty 10s ease-in-out infinite;
    }
    @keyframes floaty{
      0%{ transform: translate3d(0px, 0px, 0px) scale(1); }
      50%{ transform: translate3d(12px, 10px, 0px) scale(1.02); }
      100%{ transform: translate3d(0px, 0px, 0px) scale(1); }
    }
    @media (prefers-reduced-motion: reduce){
      .spark{ animation:none; }
      .shine:before{ animation:none !important; }
    }

    .wrap{
      position:relative;
      z-index:1;
      max-width:var(--max);
      margin:0 auto;
      padding: 22px 18px 84px;
    }

    .topbar{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
      margin-bottom:14px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      padding: 10px 12px;
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.78));
      border-radius: 999px;
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .brand:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(520px 180px at 12% 30%, rgba(200,166,58,.16), transparent 64%),
        radial-gradient(520px 180px at 84% 20%, rgba(11,125,92,.12), transparent 64%);
      pointer-events:none;
    }
    .brand > *{ position:relative; }
    .brand svg{ width:22px; height:22px; flex:0 0 auto; }
    .brand .t1{ font-weight:1000; letter-spacing:.2px; line-height:1.1; }
    .brand .t2{ font-size:12px; color:var(--muted); margin-top:2px; line-height:1.1; }

    .premiumTag{
      display:inline-flex;
      align-items:center;
      gap:8px;
      margin-top:6px;
      font-size:11px;
      font-weight:1000;
      letter-spacing:.35px;
      padding: 4px 8px;
      border-radius: 999px;
      border:1px solid rgba(200,166,58,.35);
      background: rgba(200,166,58,.10);
      color: rgba(15,17,20,.86);
      width: fit-content;
    }
    .premiumTag .dot{
      width:8px; height:8px; border-radius:50%;
      background: linear-gradient(180deg, var(--gold2), var(--gold));
      box-shadow: 0 0 10px rgba(200,166,58,.35);
    }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-end;
    }

    .lang{
      display:flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.72));
      border-radius: 12px;
      box-shadow: var(--shadow);
    }
    .lang label{
      font-size:12px;
      color:var(--muted);
      font-weight:900;
    }
    .lang select{
      background: rgba(255,255,255,.92);
      border:1px solid rgba(15,17,20,.18);
      color: var(--ink);
      border-radius:10px;
      padding:8px 10px;
      font-weight:1000;
      outline:none;
    }

    .btn{
      appearance:none;
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.94), rgba(255,255,255,.76));
      color:var(--ink);
      padding:10px 12px;
      border-radius: 12px;
      font-weight:1000;
      cursor:pointer;
      box-shadow: var(--shadow);
      display:inline-flex;
      align-items:center;
      gap:10px;
      text-decoration:none;
      user-select:none;
      transition: transform .10s ease, border-color .14s ease, box-shadow .14s ease;
    }
    .btn:hover{ transform: translateY(-1px); border-color: rgba(200,166,58,.45); box-shadow: var(--shadow2); }
    .btn:active{ transform: translateY(0px); }
    .btn .dot{
      width:10px; height:10px; border-radius:50%;
      background: linear-gradient(180deg, var(--gold2), var(--gold));
      box-shadow: 0 0 12px rgba(200,166,58,.45);
    }
    .btn.secondary .dot{
      background: linear-gradient(180deg, var(--accent2), var(--accent));
      box-shadow: 0 0 12px rgba(11,125,92,.38);
    }
    .btn.danger .dot{
      background: linear-gradient(180deg, rgba(197,38,70,.9), rgba(197,38,70,1));
      box-shadow: 0 0 12px rgba(197,38,70,.30);
    }

    .hero{
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow2);
      padding: 18px 18px 16px;
      margin-bottom: 14px;
      position:relative;
      overflow:hidden;
      background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.82));
    }
    .hero:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(840px 280px at 14% 16%, rgba(200,166,58,.20), transparent 65%),
        radial-gradient(740px 260px at 86% 18%, rgba(11,125,92,.14), transparent 65%),
        radial-gradient(720px 260px at 40% 98%, rgba(197,38,70,.10), transparent 70%);
      pointer-events:none;
    }
    .hero:after{
      content:"";
      position:absolute;
      inset:0;
      border-radius: var(--radius);
      pointer-events:none;
      background: linear-gradient(90deg, rgba(200,166,58,.22), transparent 18%, transparent 82%, rgba(200,166,58,.18));
      mix-blend-mode: multiply;
      opacity:.45;
    }
    .hero > *{ position:relative; }

    h1{ margin:0 0 10px; font-size: 28px; letter-spacing:.2px; line-height:1.2; }
    .sub{ margin:0; color: var(--muted); line-height:1.75; font-size:14.8px; max-width: 98ch; }

    .card{
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px 16px 14px;
      margin-top: 12px;
      position:relative;
      overflow:hidden;
      background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.84));
    }
    .card:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(620px 180px at 16% 8%, rgba(200,166,58,.12), transparent 65%),
        radial-gradient(620px 180px at 84% 12%, rgba(11,125,92,.10), transparent 65%);
      pointer-events:none;
      opacity:.75;
    }
    .card > *{ position:relative; }

    .card h2{ margin:0 0 10px; font-size:16px; letter-spacing:.2px; }
    .card p{ margin:0 0 10px; color: var(--muted); font-size:14.2px; line-height:1.85; }

    .notice{
      border:1px solid rgba(200,166,58,.38);
      background: rgba(200,166,58,.10);
      border-radius: 14px;
      padding: 12px 12px;
      color: rgba(15,17,20,.92);
      line-height:1.75;
      font-size:13.6px;
      margin-top:12px;
      position:relative;
      overflow:hidden;
    }
    .notice:before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(520px 160px at 18% 50%, rgba(200,166,58,.18), transparent 70%);
      pointer-events:none;
    }
    .notice > *{ position:relative; }
    .notice strong{ color: #7a5c00; }

    /* Glossar */
    .glossWrap{ margin-top:10px; }
    details.gloss{
      border:1px solid rgba(15,17,20,.12);
      border-radius: 14px;
      background: rgba(255,255,255,.72);
      box-shadow: 0 10px 22px rgba(0,0,0,.05);
      padding: 10px 12px;
      margin: 10px 0;
      overflow:hidden;
    }
    details.gloss[open]{
      border-color: rgba(11,125,92,.22);
      box-shadow: 0 18px 40px rgba(0,0,0,.08);
    }
    details.gloss summary{
      cursor:pointer;
      list-style:none;
      font-weight:1000;
      color: rgba(15,17,20,.92);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      outline:none;
    }
    details.gloss summary::-webkit-details-marker{ display:none; }
    .glossBadge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-size:11px;
      font-weight:1000;
      padding: 4px 8px;
      border-radius:999px;
      border:1px solid rgba(200,166,58,.30);
      background: rgba(200,166,58,.10);
      color: rgba(15,17,20,.82);
      flex:0 0 auto;
    }
    .glossBadge .dot{
      width:8px; height:8px; border-radius:50%;
      background: linear-gradient(180deg, var(--gold2), var(--gold));
      box-shadow: 0 0 10px rgba(200,166,58,.28);
    }
    .glossBody{ margin-top:10px; color: var(--muted); line-height:1.85; font-size: 13.8px; }

    /* Auswahl-Felder */
    .form{ display:flex; flex-direction:column; gap:10px; margin-top:10px; }
    .field{
      border:1px solid rgba(15,17,20,.12);
      border-radius: 14px;
      background: rgba(255,255,255,.72);
      box-shadow: 0 10px 22px rgba(0,0,0,.05);
      padding: 12px 12px;
      position:relative;
      overflow:hidden;
    }
    .field:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(520px 160px at 10% 40%, rgba(200,166,58,.08), transparent 70%),
        radial-gradient(520px 160px at 90% 30%, rgba(11,125,92,.06), transparent 70%);
      pointer-events:none;
      opacity:.9;
    }
    .field > *{ position:relative; }
    .field .lbl{
      font-weight:1000;
      font-size:13px;
      margin-bottom:6px;
      color: rgba(15,17,20,.92);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .hint{
      font-weight:900;
      font-size:12px;
      color: rgba(71,80,95,.92);
      background: rgba(11,125,92,.08);
      border:1px solid rgba(11,125,92,.18);
      border-radius: 999px;
      padding: 4px 8px;
    }
    select{
      width:100%;
      border:1px solid rgba(15,17,20,.18);
      border-radius: 12px;
      padding: 10px 10px;
      font: inherit;
      background: rgba(255,255,255,.96);
      color: var(--ink);
      outline:none;
      font-weight:900;
    }
    .help{ margin-top:8px; color: rgba(71,80,95,.92); font-size:12.8px; line-height:1.65; }

    /* KPI */
    .kpis{
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
      margin-top:10px;
    }
    @media (min-width: 720px){
      .kpis{ grid-template-columns: 1fr 1fr 1fr 1fr; }
    }
    .kpi{
      border:1px solid rgba(15,17,20,.12);
      border-radius: 14px;
      background: rgba(255,255,255,.72);
      box-shadow: 0 12px 26px rgba(0,0,0,.06);
      padding: 12px 12px;
      position:relative;
      overflow:hidden;
      min-height: 82px;
    }
    .kpi:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(520px 160px at 18% 50%, rgba(200,166,58,.10), transparent 70%),
        radial-gradient(520px 160px at 82% 40%, rgba(11,125,92,.08), transparent 70%);
      pointer-events:none;
      opacity:.9;
    }
    .kpi > *{ position:relative; }
    .kpi .t{ font-size:12px; font-weight:1000; color: rgba(71,80,95,.92); }
    .kpi .v{ font-size:18px; font-weight:1100; margin-top:4px; color: rgba(15,17,20,.94); }
    .kpi .s{ font-size:12px; margin-top:2px; color: rgba(71,80,95,.88); line-height:1.35; }

    /* Wow Roadmap */
    .viz{
      border:1px solid rgba(15,17,20,.12);
      border-radius: 16px;
      background: rgba(255,255,255,.72);
      box-shadow: 0 14px 34px rgba(0,0,0,.08);
      padding: 12px 12px;
      margin-top: 10px;
      overflow:hidden;
      position:relative;
    }
    .viz.shine:before{
      content:"";
      position:absolute;
      inset:-60% -40%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.55), transparent);
      transform: rotate(18deg);
      opacity:.28;
      animation: sheen 6.5s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes sheen{
      0%{ transform: translateX(-30%) rotate(18deg); opacity:.12; }
      50%{ transform: translateX(18%) rotate(18deg); opacity:.32; }
      100%{ transform: translateX(60%) rotate(18deg); opacity:.12; }
    }
    .vizTop{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      margin-bottom:10px;
    }
    .vizTop .title{ font-weight:1100; color: rgba(15,17,20,.94); }
    .vizTop .note{
      font-size:12px;
      font-weight:900;
      color: rgba(71,80,95,.92);
      background: rgba(200,166,58,.10);
      border:1px solid rgba(200,166,58,.22);
      border-radius: 999px;
      padding: 4px 8px;
      width: fit-content;
    }
    .vizFrame{
      border:1px solid rgba(15,17,20,.10);
      border-radius: 16px;
      background: rgba(255,255,255,.92);
      padding: 10px;
      overflow:hidden;
      box-shadow: inset 0 0 0 1px rgba(200,166,58,.06);
    }
    .viz svg{ width:100%; height:auto; display:block; }

    /* Checklist */
    .checks{ display:flex; flex-direction:column; gap:8px; margin-top:10px; }
    .chk{
      display:flex;
      gap:10px;
      align-items:flex-start;
      border:1px solid rgba(15,17,20,.12);
      background: rgba(255,255,255,.72);
      border-radius: 14px;
      padding: 10px 12px;
      box-shadow: 0 10px 22px rgba(0,0,0,.05);
    }
    .chk input{
      width:18px; height:18px;
      margin-top:2px;
      accent-color: var(--accent);
      flex:0 0 auto;
    }
    .chk .t{ font-weight:1000; color: rgba(15,17,20,.92); line-height:1.4; }
    .chk .d{ margin-top:2px; color: rgba(71,80,95,.92); font-size:12.8px; line-height:1.6; }

    .footer{ margin-top: 16px; color: rgba(71,80,95,.85); font-size: 12px; line-height:1.6; text-align:center; }

    @media print{
      body{ background:#fff !important; color:#000 !important; }
      .spark, .topbar, .actions, .lang, .btn, .footer{ display:none !important; }
      .wrap{ max-width: 820px; padding: 0; }
      .hero, .card, .field, .viz, details.gloss, .chk, .kpi{
        box-shadow:none !important;
        background:#fff !important;
        border:1px solid #bbb !important;
        color:#000 !important;
      }
      .sub, .card p, .glossBody, .help, .chk .d, .kpi .s{ color:#111 !important; }
      .notice{ border:1px solid #999 !important; background:#f7f2df !important; color:#000 !important; }
      details.gloss{ break-inside: avoid; }
      .viz.shine:before{ display:none !important; }
      .hint{ border:1px solid #bbb !important; background:#f2f2f2 !important; color:#000 !important; }
    }
  </style>
</head>

<body>
  <div class="spark" aria-hidden="true"></div>

  <div class="wrap">
    <div class="topbar">
      <div class="brand" aria-label="Kurs">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <defs>
            <linearGradient id="gSunM10" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="#c8a63a"/>
              <stop offset="1" stop-color="#e0c466"/>
            </linearGradient>
          </defs>
          <circle cx="12" cy="12" r="5.2" fill="url(#gSunM10)"></circle>
          <g fill="none" stroke="rgba(15,17,20,.75)" stroke-width="1.2" stroke-linecap="round">
            <path d="M12 2.2v2.2M12 19.6v2.2M2.2 12h2.2M19.6 12h2.2"/>
            <path d="M4.6 4.6l1.55 1.55M17.85 17.85l1.55 1.55M19.4 4.6l-1.55 1.55M6.15 17.85L4.6 19.4"/>
          </g>
        </svg>
        <div>
          <div class="t1" data-i18n="brand_title">Premium Kurs</div>
          <div class="t2" data-i18n="brand_sub">Photovoltaik als Kapitalanlage</div>
          <div class="premiumTag" aria-hidden="true">
            <span class="dot"></span>
            <span data-i18n="premium_tag">Modul 10 • Hauptkurs</span>
          </div>
        </div>
      </div>

      <div class="actions">
        <a class="btn" id="toIndex" href="index.html" data-nocache="1" title="Index">
          <span class="dot" aria-hidden="true"></span>
          <span data-i18n="btn_index">Index</span>
        </a>

        <div class="lang" title="Sprache / Language">
          <label for="langSel" data-i18n="lang_label">Sprache</label>
          <select id="langSel" aria-label="Sprache wählen">
            <option value="de">DE</option>
            <option value="en">EN</option>
          </select>
        </div>

        <button class="btn secondary" id="printBtn" type="button" title="Drucken / Print">
          <span class="dot" aria-hidden="true"></span>
          <span data-i18n="btn_print">Drucken</span>
        </button>

        <button class="btn danger" id="resetBtn" type="button" title="Projektakte leeren">
          <span class="dot" aria-hidden="true"></span>
          <span data-i18n="btn_reset">Projektakte leeren</span>
        </button>
      </div>
    </div>

    <div class="hero">
      <h1 data-i18n="h1">Modul 10 – Entscheidungsfindung und Abschluss</h1>
      <p class="sub" data-i18n="sub">
        Jetzt wird aus „Information“ eine Entscheidung. Dieses Modul gibt dir eine klare Abschlusslogik:
        Was muss erfüllt sein, bevor du weitergehst – und wann ist ein Stopp die beste Entscheidung?
      </p>
    </div>

    <div class="card">
      <h2 data-i18n="sec1_title">1) Das Ziel: strukturierte Entscheidung statt Bauchgefühl</h2>
      <p data-i18n="sec1_p1">
        Eine gute Entscheidung entsteht, wenn Annahmen sichtbar sind, Unterlagen vollständig sind und Risiken ehrlich benannt wurden.
        Dann kann man vergleichen – und erst dann entscheidet man.
      </p>
      <p data-i18n="sec1_p2">
        Dieses Modul baut dir eine „Entscheidungs-Akte“: Deal-Breaker, Unterlagen, Abschlussplan. Alles druckbar.
      </p>

      <div class="notice">
        <strong data-i18n="notice_title">Wichtiger Hinweis:</strong>
        <span data-i18n="notice_text">Keine Anlageberatung, keine Steuer- oder Rechtsberatung. Dieses Modul ist Bildung: Entscheidungsstruktur, Prüflogik, Abschlussplan.</span>
      </div>
    </div>

    <div class="card">
      <h2 data-i18n="sec2_title">2) Glossar: Abschluss-Begriffe</h2>
      <div class="glossWrap">
        <details class="gloss">
          <summary>
            <span data-i18n="g1_t">Begriff: Deal-Breaker</span>
            <span class="glossBadge"><span class="dot" aria-hidden="true"></span><span data-i18n="g_badge">Glossar</span></span>
          </summary>
          <div class="glossBody" data-i18n="g1_b">
            Deal-Breaker sind harte Stop-Kriterien. Wenn sie eintreten, wird nicht weiter diskutiert – man bricht ab.
            Das schützt dich vor „Überredung“ und vor Entscheidungen ohne Basis.
          </div>
        </details>

        <details class="gloss">
          <summary>
            <span data-i18n="g2_t">Begriff: Annahmen</span>
            <span class="glossBadge"><span class="dot" aria-hidden="true"></span><span data-i18n="g_badge">Glossar</span></span>
          </summary>
          <div class="glossBody" data-i18n="g2_b">
            Annahmen sind die „Wenns“ in jeder Kalkulation: Ertrag, Preis, Kosten, Laufzeit, Ausfall.
            Seriös ist, wenn Annahmen offen gelegt und als Szenario gezeigt werden.
          </div>
        </details>

        <details class="gloss">
          <summary>
            <span data-i18n="g3_t">Begriff: Entscheidungsvorlage</span>
            <span class="glossBadge"><span class="dot" aria-hidden="true"></span><span data-i18n="g_badge">Glossar</span></span>
          </summary>
          <div class="glossBody" data-i18n="g3_b">
            Eine Entscheidungsvorlage ist eine kurze, schriftliche Zusammenfassung: Modell, Kosten, Ertrag, Risiken, Unterlagen, Ansprechpartner.
            Wer seriös ist, liefert das – oder hilft dir, es zu erstellen.
          </div>
        </details>
      </div>
    </div>

    <div class="card">
      <h2 data-i18n="sec3_title">3) Entscheidungs-Setup (Auswahlfelder)</h2>
      <p data-i18n="sec3_p1">
        Wähle deine Situation. Daraus entsteht ein Abschlussplan. Ziel: kein Tempo, kein Druck – nur Struktur.
      </p>

      <div class="form">
        <div class="field">
          <div class="lbl">
            <span data-i18n="f1_lbl">Dein Status im Prozess</span>
            <span class="hint" data-i18n="hint_status">Status</span>
          </div>
          <select data-save="m10_status">
            <option value="" data-i18n="opt_choose">Bitte wählen…</option>
            <option value="first" data-i18n="f1_o1">Erstgespräch / Orientierung</option>
            <option value="offer" data-i18n="f1_o2">Angebot liegt vor</option>
            <option value="docs" data-i18n="f1_o3">Unterlagen werden geprüft</option>
            <option value="final" data-i18n="f1_o4">Kurz vor Abschluss</option>
          </select>
          <div class="help" data-i18n="f1_help">Je weiter du bist, desto strenger müssen Belege und Annahmen werden.</div>
        </div>

        <div class="field">
          <div class="lbl">
            <span data-i18n="f2_lbl">Unterlagen-Lage</span>
            <span class="hint" data-i18n="hint_docs">Belege</span>
          </div>
          <select data-save="m10_docs">
            <option value="" data-i18n="opt_choose">Bitte wählen…</option>
            <option value="full" data-i18n="f2_o1">vollständig (Vertrag/Abrechnung/Annahmen)</option>
            <option value="partial" data-i18n="f2_o2">teilweise (Marketing + Lücken)</option>
            <option value="none" data-i18n="f2_o3">nicht vorhanden (nur mündlich)</option>
          </select>
          <div class="help" data-i18n="f2_help">Ohne Unterlagen keine Unterschrift.</div>
        </div>

        <div class="field">
          <div class="lbl">
            <span data-i18n="f3_lbl">Risikodarstellung im Angebot</span>
            <span class="hint" data-i18n="hint_risk">Risiko</span>
          </div>
          <select data-save="m10_risk">
            <option value="" data-i18n="opt_choose">Bitte wählen…</option>
            <option value="open" data-i18n="f3_o1">klar (Risiken + Grenzen + Szenarien)</option>
            <option value="soft" data-i18n="f3_o2">weich (nur positives Wording)</option>
            <option value="deny" data-i18n="f3_o3">abgewiegelt („nicht relevant“)</option>
          </select>
          <div class="help" data-i18n="f3_help">Seriös = Risiken sind Teil der Erklärung.</div>
        </div>

        <div class="field">
          <div class="lbl">
            <span data-i18n="f4_lbl">Zeitdruck / Verkaufsdruck</span>
            <span class="hint" data-i18n="hint_speed">Tempo</span>
          </div>
          <select data-save="m10_speed">
            <option value="" data-i18n="opt_choose">Bitte wählen…</option>
            <option value="none" data-i18n="f4_o1">kein Druck</option>
            <option value="push" data-i18n="f4_o2">Druck (schnell entscheiden)</option>
            <option value="hard" data-i18n="f4_o3">starker Druck (Angst/Scham/„letzte Chance“)</option>
          </select>
          <div class="help" data-i18n="f4_help">Druck = Stopp-Kriterium bis alles schriftlich vorliegt.</div>
        </div>

        <div class="field">
          <div class="lbl">
            <span data-i18n="f5_lbl">Dein Sicherheitsgefühl nach Modul 09</span>
            <span class="hint" data-i18n="hint_feel">Gefühl</span>
          </div>
          <select data-save="m10_feel">
            <option value="" data-i18n="opt_choose">Bitte wählen…</option>
            <option value="good" data-i18n="f5_o1">stabil (klar + nachvollziehbar)</option>
            <option value="mid" data-i18n="f5_o2">unsicher (einige Lücken)</option>
            <option value="bad" data-i18n="f5_o3">schlecht (zu viele Nebelstellen)</option>
          </select>
          <div class="help" data-i18n="f5_help">Unsicherheit ist ein Signal: zurück zu Unterlagen/Annahmen.</div>
        </div>
      </div>
    </div>

    <div class="card">
      <h2 data-i18n="sec4_title">4) Deal-Breaker (harte Stop-Kriterien)</h2>
      <p data-i18n="sec4_p1">Wenn einer dieser Punkte zutrifft, gilt: stoppen, vergleichen, schriftlich klären.</p>

      <div class="checks">
        <label class="chk">
          <input type="checkbox" data-save-check="m10_db1" />
          <span>
            <div class="t" data-i18n="db1_t">Unterlagen fehlen oder werden nicht herausgegeben</div>
            <div class="d" data-i18n="db1_d">Ohne Belege keine Entscheidung.</div>
          </span>
        </label>

        <label class="chk">
          <input type="checkbox" data-save-check="m10_db2" />
          <span>
            <div class="t" data-i18n="db2_t">Zeitdruck/Verkaufsdruck wird aufgebaut</div>
            <div class="d" data-i18n="db2_d">Druck ersetzt Prüfung – das ist gefährlich.</div>
          </span>
        </label>

        <label class="chk">
          <input type="checkbox" data-save-check="m10_db3" />
          <span>
            <div class="t" data-i18n="db3_t">Rendite wird „garantiert“ ohne harte vertragliche Grundlage</div>
            <div class="d" data-i18n="db3_d">Marketing ersetzt keine Kalkulation.</div>
          </span>
        </label>

        <label class="chk">
          <input type="checkbox" data-save-check="m10_db4" />
          <span>
            <div class="t" data-i18n="db4_t">Risiken werden abgewiegelt oder verschwiegen</div>
            <div class="d" data-i18n="db4_d">Wer seriös ist, erklärt Grenzen und Szenarien.</div>
          </span>
        </label>

        <label class="chk">
          <input type="checkbox" data-save-check="m10_db5" />
          <span>
            <div class="t" data-i18n="db5_t">Man soll nicht vergleichen oder keine Fragen stellen</div>
            <div class="d" data-i18n="db5_d">Vergleich ist normal – Fragen sind Pflicht.</div>
          </span>
        </label>
      </div>

      <div class="notice">
        <strong data-i18n="rule_t">Regel:</strong>
        <span data-i18n="rule_b">Deal-Breaker = sofortiger Stopp. Erst klären, dann weiter.</span>
      </div>
    </div>

    <div class="card">
      <h2 data-i18n="sec5_title">5) Ergebnis: Entscheidungs-Ampel + Abschlussplan</h2>
      <p data-i18n="sec5_p1">
        Diese Ampel ist die Kurzform deiner Projektakte. Sie sagt nicht „kaufen“ oder „nicht kaufen“ – sie sagt:
        ob deine Basis stabil genug ist, um überhaupt zu entscheiden.
      </p>

      <div class="kpis">
        <div class="kpi">
          <div class="t" data-i18n="k1_t">Ampel</div>
          <div class="v" id="kpiLight">–</div>
          <div class="s" data-i18n="k1_s">Entscheidungs-Reife</div>
        </div>
        <div class="kpi">
          <div class="t" data-i18n="k2_t">Stopp nötig?</div>
          <div class="v" id="kpiStop">–</div>
          <div class="s" data-i18n="k2_s">Deal-Breaker/Belege</div>
        </div>
        <div class="kpi">
          <div class="t" data-i18n="k3_t">Fokus</div>
          <div class="v" id="kpiFocus">–</div>
          <div class="s" data-i18n="k3_s">Wichtigste Baustelle</div>
        </div>
        <div class="kpi">
          <div class="t" data-i18n="k4_t">Nächster Schritt</div>
          <div class="v" id="kpiNext">–</div>
          <div class="s" data-i18n="k4_s">Konkrete Aktion</div>
        </div>
      </div>
    </div>

    <div class="card">
      <h2 data-i18n="sec6_title">6) Wow-Roadmap: Abschluss ohne Druck</h2>
      <p data-i18n="sec6_p1">
        Diese Roadmap zeigt den sauberen Weg zum Abschluss. Du kannst sie als Gesprächsleitfaden nutzen.
      </p>

      <div class="viz shine">
        <div class="vizTop">
          <div class="title" data-i18n="viz_title">Abschluss-Roadmap (Illustration)</div>
          <div class="note" data-i18n="viz_note">ohne Echt-Daten</div>
        </div>

        <div class="vizFrame">
          <svg viewBox="0 0 1200 420" role="img" aria-label="Abschluss-Roadmap">
            <defs>
              <linearGradient id="bxGold10" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0" stop-color="rgba(200,166,58,.32)"/>
                <stop offset="1" stop-color="rgba(200,166,58,.10)"/>
              </linearGradient>
              <linearGradient id="bxAcc10" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0" stop-color="rgba(11,125,92,.24)"/>
                <stop offset="1" stop-color="rgba(11,125,92,.08)"/>
              </linearGradient>
              <linearGradient id="bxDng10" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0" stop-color="rgba(197,38,70,.22)"/>
                <stop offset="1" stop-color="rgba(197,38,70,.08)"/>
              </linearGradient>
            </defs>

            <rect x="30" y="20" width="1140" height="380" rx="18" fill="rgba(255,255,255,.96)" stroke="rgba(15,17,20,.12)"/>

            <g stroke="rgba(15,17,20,.42)" stroke-width="4" stroke-linecap="round">
              <path d="M260 120H380"/>
              <path d="M520 120H640"/>
              <path d="M780 120H900"/>
              <path d="M260 290H380"/>
              <path d="M520 290H640"/>
              <path d="M780 290H900"/>
            </g>
            <g fill="rgba(15,17,20,.42)">
              <path d="M370 120l-18-10v20z"/>
              <path d="M630 120l-18-10v20z"/>
              <path d="M890 120l-18-10v20z"/>
              <path d="M370 290l-18-10v20z"/>
              <path d="M630 290l-18-10v20z"/>
              <path d="M890 290l-18-10v20z"/>
            </g>

            <rect x="70"  y="70" width="240" height="100" rx="16" fill="url(#bxGold10)" stroke="rgba(200,166,58,.30)"/>
            <rect x="380" y="70" width="240" height="100" rx="16" fill="rgba(15,17,20,.05)" stroke="rgba(15,17,20,.18)"/>
            <rect x="690" y="70" width="240" height="100" rx="16" fill="url(#bxAcc10)" stroke="rgba(11,125,92,.26)"/>
            <rect x="1000" y="70" width="140" height="100" rx="16" fill="rgba(15,17,20,.05)" stroke="rgba(15,17,20,.18)"/>

            <rect x="70"  y="240" width="240" height="100" rx="16" fill="rgba(15,17,20,.05)" stroke="rgba(15,17,20,.18)"/>
            <rect x="380" y="240" width="240" height="100" rx="16" fill="url(#bxGold10)" stroke="rgba(200,166,58,.30)"/>
            <rect x="690" y="240" width="240" height="100" rx="16" fill="rgba(15,17,20,.05)" stroke="rgba(15,17,20,.18)"/>
            <rect x="1000" y="240" width="140" height="100" rx="16" fill="url(#bxDng10)" stroke="rgba(197,38,70,.22)"/>

            <g font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" fill="rgba(15,17,20,.92)">
              <text x="92" y="102" font-size="16" font-weight="1100">1) Unterlagen</text>
              <text x="92" y="130" font-size="12.8" font-weight="800" fill="rgba(71,80,95,.92)">vollständig + schriftlich</text>

              <text x="402" y="102" font-size="16" font-weight="1100">2) Annahmen</text>
              <text x="402" y="130" font-size="12.8" font-weight="800" fill="rgba(71,80,95,.92)">Szenarien sichtbar</text>

              <text x="712" y="102" font-size="16" font-weight="1100">3) Risiken</text>
              <text x="712" y="130" font-size="12.8" font-weight="800" fill="rgba(71,80,95,.92)">Grenzen + Puffer</text>

              <text x="1016" y="102" font-size="16" font-weight="1100">4) Vergleich</text>
              <text x="1016" y="130" font-size="12.2" font-weight="800" fill="rgba(71,80,95,.92)">mind. 2 Angebote</text>

              <text x="92" y="272" font-size="16" font-weight="1100">5) Entscheidungsvorlage</text>
              <text x="92" y="300" font-size="12.8" font-weight="800" fill="rgba(71,80,95,.92)">kurz + schriftlich</text>

              <text x="402" y="272" font-size="16" font-weight="1100">6) Rückfragen</text>
              <text x="402" y="300" font-size="12.8" font-weight="800" fill="rgba(71,80,95,.92)">Lücken schließen</text>

              <text x="712" y="272" font-size="16" font-weight="1100">7) Abschluss</text>
              <text x="712" y="300" font-size="12.8" font-weight="800" fill="rgba(71,80,95,.92)">ohne Druck</text>

              <text x="1016" y="272" font-size="16" font-weight="1100">Stopp</text>
              <text x="1016" y="300" font-size="12.2" font-weight="800" fill="rgba(71,80,95,.92)">bei Deal-Breaker</text>

              <text x="70" y="372" font-size="13.2" font-weight="1000" fill="rgba(71,80,95,.95)">
                Merksatz: Entscheidung ist ein Prozess – nicht ein Moment.
              </text>
            </g>
          </svg>
        </div>
      </div>
    </div>

    <div class="footer" data-i18n="footer">
      Premium Workbook – Modul 10. Eingaben werden lokal gespeichert und sind druckbar.
    </div>
  </div>

  <script>
    (function(){
      const LS_KEY_LANG = "fsa_pvka_lang";
      const LS_KEY_DATA = "fsa_pvka_project";

      const langSel  = document.getElementById("langSel");
      const printBtn = document.getElementById("printBtn");
      const resetBtn = document.getElementById("resetBtn");

      const kpiLight = document.getElementById("kpiLight");
      const kpiStop  = document.getElementById("kpiStop");
      const kpiFocus = document.getElementById("kpiFocus");
      const kpiNext  = document.getElementById("kpiNext");

      const i18n = {
        de: {
          brand_title:"Premium Kurs",
          brand_sub:"Photovoltaik als Kapitalanlage",
          premium_tag:"Modul 10 • Hauptkurs",
          btn_index:"Index",
          lang_label:"Sprache",
          btn_print:"Drucken",
          btn_reset:"Projektakte leeren",

          h1:"Modul 10 – Entscheidungsfindung und Abschluss",
          sub:"Jetzt wird aus „Information“ eine Entscheidung. Dieses Modul gibt dir eine klare Abschlusslogik: Was muss erfüllt sein, bevor du weitergehst – und wann ist ein Stopp die beste Entscheidung?",

          sec1_title:"1) Das Ziel: strukturierte Entscheidung statt Bauchgefühl",
          sec1_p1:"Eine gute Entscheidung entsteht, wenn Annahmen sichtbar sind, Unterlagen vollständig sind und Risiken ehrlich benannt wurden. Dann kann man vergleichen – und erst dann entscheidet man.",
          sec1_p2:"Dieses Modul baut dir eine „Entscheidungs-Akte“: Deal-Breaker, Unterlagen, Abschlussplan. Alles druckbar.",

          notice_title:"Wichtiger Hinweis:",
          notice_text:"Keine Anlageberatung, keine Steuer- oder Rechtsberatung. Dieses Modul ist Bildung: Entscheidungsstruktur, Prüflogik, Abschlussplan.",

          sec2_title:"2) Glossar: Abschluss-Begriffe",
          g_badge:"Glossar",
          g1_t:"Begriff: Deal-Breaker",
          g1_b:"Deal-Breaker sind harte Stop-Kriterien. Wenn sie eintreten, wird nicht weiter diskutiert – man bricht ab. Das schützt dich vor „Überredung“ und vor Entscheidungen ohne Basis.",
          g2_t:"Begriff: Annahmen",
          g2_b:"Annahmen sind die „Wenns“ in jeder Kalkulation: Ertrag, Preis, Kosten, Laufzeit, Ausfall. Seriös ist, wenn Annahmen offen gelegt und als Szenario gezeigt werden.",
          g3_t:"Begriff: Entscheidungsvorlage",
          g3_b:"Eine Entscheidungsvorlage ist eine kurze, schriftliche Zusammenfassung: Modell, Kosten, Ertrag, Risiken, Unterlagen, Ansprechpartner. Wer seriös ist, liefert das – oder hilft dir, es zu erstellen.",

          sec3_title:"3) Entscheidungs-Setup (Auswahlfelder)",
          sec3_p1:"Wähle deine Situation. Daraus entsteht ein Abschlussplan. Ziel: kein Tempo, kein Druck – nur Struktur.",

          hint_status:"Status",
          hint_docs:"Belege",
          hint_risk:"Risiko",
          hint_speed:"Tempo",
          hint_feel:"Gefühl",
          opt_choose:"Bitte wählen…",

          f1_lbl:"Dein Status im Prozess",
          f1_o1:"Erstgespräch / Orientierung",
          f1_o2:"Angebot liegt vor",
          f1_o3:"Unterlagen werden geprüft",
          f1_o4:"Kurz vor Abschluss",
          f1_help:"Je weiter du bist, desto strenger müssen Belege und Annahmen werden.",

          f2_lbl:"Unterlagen-Lage",
          f2_o1:"vollständig (Vertrag/Abrechnung/Annahmen)",
          f2_o2:"teilweise (Marketing + Lücken)",
          f2_o3:"nicht vorhanden (nur mündlich)",
          f2_help:"Ohne Unterlagen keine Unterschrift.",

          f3_lbl:"Risikodarstellung im Angebot",
          f3_o1:"klar (Risiken + Grenzen + Szenarien)",
          f3_o2:"weich (nur positives Wording)",
          f3_o3:"abgewiegelt („nicht relevant“)",
          f3_help:"Seriös = Risiken sind Teil der Erklärung.",

          f4_lbl:"Zeitdruck / Verkaufsdruck",
          f4_o1:"kein Druck",
          f4_o2:"Druck (schnell entscheiden)",
          f4_o3:"starker Druck (Angst/Scham/„letzte Chance“)",
          f4_help:"Druck = Stopp-Kriterium bis alles schriftlich vorliegt.",

          f5_lbl:"Dein Sicherheitsgefühl nach Modul 09",
          f5_o1:"stabil (klar + nachvollziehbar)",
          f5_o2:"unsicher (einige Lücken)",
          f5_o3:"schlecht (zu viele Nebelstellen)",
          f5_help:"Unsicherheit ist ein Signal: zurück zu Unterlagen/Annahmen.",

          sec4_title:"4) Deal-Breaker (harte Stop-Kriterien)",
          sec4_p1:"Wenn einer dieser Punkte zutrifft, gilt: stoppen, vergleichen, schriftlich klären.",
          db1_t:"Unterlagen fehlen oder werden nicht herausgegeben",
          db1_d:"Ohne Belege keine Entscheidung.",
          db2_t:"Zeitdruck/Verkaufsdruck wird aufgebaut",
          db2_d:"Druck ersetzt Prüfung – das ist gefährlich.",
          db3_t:"Rendite wird „garantiert“ ohne harte vertragliche Grundlage",
          db3_d:"Marketing ersetzt keine Kalkulation.",
          db4_t:"Risiken werden abgewiegelt oder verschwiegen",
          db4_d:"Wer seriös ist, erklärt Grenzen und Szenarien.",
          db5_t:"Man soll nicht vergleichen oder keine Fragen stellen",
          db5_d:"Vergleich ist normal – Fragen sind Pflicht.",

          rule_t:"Regel:",
          rule_b:"Deal-Breaker = sofortiger Stopp. Erst klären, dann weiter.",

          sec5_title:"5) Ergebnis: Entscheidungs-Ampel + Abschlussplan",
          sec5_p1:"Diese Ampel ist die Kurzform deiner Projektakte. Sie sagt nicht „kaufen“ oder „nicht kaufen“ – sie sagt: ob deine Basis stabil genug ist, um überhaupt zu entscheiden.",

          k1_t:"Ampel",
          k1_s:"Entscheidungs-Reife",
          k2_t:"Stopp nötig?",
          k2_s:"Deal-Breaker/Belege",
          k3_t:"Fokus",
          k3_s:"Wichtigste Baustelle",
          k4_t:"Nächster Schritt",
          k4_s:"Konkrete Aktion",

          sec6_title:"6) Wow-Roadmap: Abschluss ohne Druck",
          sec6_p1:"Diese Roadmap zeigt den sauberen Weg zum Abschluss. Du kannst sie als Gesprächsleitfaden nutzen.",
          viz_title:"Abschluss-Roadmap (Illustration)",
          viz_note:"ohne Echt-Daten",

          footer:"Premium Workbook – Modul 10. Eingaben werden lokal gespeichert und sind druckbar.",

          // KPI strings
          k_green:"GRÜN",
          k_yellow:"GELB",
          k_red:"ROT",
          k_stop_yes:"JA",
          k_stop_no:"NEIN",
          focus_docs:"Unterlagen",
          focus_risk:"Risiken/Szenarien",
          focus_pressure:"Druck/Tempo",
          focus_feel:"Unklarheit",
          next_stop:"Stopp – schriftlich klären / vergleichen",
          next_docs:"Unterlagen vollständig anfordern",
          next_questions:"Rückfragenliste erstellen",
          next_compare:"Zweitangebot einholen",
          next_ready:"Entscheidungsvorlage finalisieren"
        },

        en: {
          brand_title:"Premium course",
          brand_sub:"Photovoltaics as a capital investment",
          premium_tag:"Module 10 • Main course",
          btn_index:"Index",
          lang_label:"Language",
          btn_print:"Print",
          btn_reset:"Clear project file",

          h1:"Module 10 – Decision-making and closing",
          sub:"Now information becomes a decision. This module gives you a clean closing logic: what must be true before moving forward—and when stopping is the best decision.",

          sec1_title:"1) Goal: structured decision instead of gut feeling",
          sec1_p1:"A good decision is made when assumptions are visible, documents are complete, and risks were explained honestly. Then you can compare—and only then decide.",
          sec1_p2:"This module builds your ‘decision file’: deal-breakers, documents, closing plan. Printable.",

          notice_title:"Important notice:",
          notice_text:"No investment advice, no tax or legal advice. This module is education: decision structure, verification logic, closing plan.",

          sec2_title:"2) Glossary: closing terms",
          g_badge:"Glossary",
          g1_t:"Term: deal-breaker",
          g1_b:"Deal-breakers are hard stop criteria. If they occur, you stop—no debating. This protects you from persuasion and decisions without basis.",
          g2_t:"Term: assumptions",
          g2_b:"Assumptions are the ‘ifs’ in every calculation: yield, price, costs, duration, downtime. Serious offers disclose assumptions and show scenarios.",
          g3_t:"Term: decision memo",
          g3_b:"A decision memo is a short written summary: model, costs, yield, risks, documents, contacts. Serious providers deliver it—or help you build it.",

          sec3_title:"3) Decision setup (selection fields)",
          sec3_p1:"Select your situation. This creates a closing plan. Goal: no speed, no pressure—only structure.",

          hint_status:"status",
          hint_docs:"proof",
          hint_risk:"risk",
          hint_speed:"speed",
          hint_feel:"feeling",
          opt_choose:"Please choose…",

          f1_lbl:"Your status in the process",
          f1_o1:"First call / orientation",
          f1_o2:"Offer received",
          f1_o3:"Documents under review",
          f1_o4:"Close to signing",
          f1_help:"The further you are, the stricter proof and assumptions must be.",

          f2_lbl:"Document situation",
          f2_o1:"complete (contract/billing/assumptions)",
          f2_o2:"partial (marketing + gaps)",
          f2_o3:"not available (verbal only)",
          f2_help:"No documents = no signature.",

          f3_lbl:"Risk presentation in the offer",
          f3_o1:"clear (risks + limits + scenarios)",
          f3_o2:"soft (only positive wording)",
          f3_o3:"dismissed (‘not relevant’)",
          f3_help:"Serious = risks are part of the explanation.",

          f4_lbl:"Time pressure / sales pressure",
          f4_o1:"no pressure",
          f4_o2:"pressure (decide fast)",
          f4_o3:"strong pressure (fear/shame/‘last chance’)",
          f4_help:"Pressure is a stop criterion until everything is written.",

          f5_lbl:"Your safety feeling after Module 09",
          f5_o1:"stable (clear + traceable)",
          f5_o2:"uncertain (some gaps)",
          f5_o3:"bad (too many foggy parts)",
          f5_help:"Uncertainty is a signal: back to documents/assumptions.",

          sec4_title:"4) Deal-breakers (hard stop criteria)",
          sec4_p1:"If any of these applies: stop, compare, clarify in writing.",
          db1_t:"Documents missing or not provided",
          db1_d:"No proof = no decision.",
          db2_t:"Time/sales pressure is applied",
          db2_d:"Pressure replaces verification—dangerous.",
          db3_t:"Return is ‘guaranteed’ without hard contractual basis",
          db3_d:"Marketing is not a calculation.",
          db4_t:"Risks are dismissed or hidden",
          db4_d:"Serious providers explain limits and scenarios.",
          db5_t:"You’re told not to compare or not to ask questions",
          db5_d:"Comparing is normal—questions are required.",

          rule_t:"Rule:",
          rule_b:"Deal-breaker = immediate stop. Clarify first, then continue.",

          sec5_title:"5) Result: decision light + closing plan",
          sec5_p1:"This light is the short version of your project file. It doesn’t say ‘buy’ or ‘don’t buy’—it says whether your basis is solid enough to decide at all.",

          k1_t:"Light",
          k1_s:"Decision readiness",
          k2_t:"Stop required?",
          k2_s:"Deal-breaker/proof",
          k3_t:"Focus",
          k3_s:"Main issue",
          k4_t:"Next step",
          k4_s:"Concrete action",

          sec6_title:"6) Wow roadmap: closing without pressure",
          sec6_p1:"This roadmap shows the clean way to closing. Use it as a conversation guide.",
          viz_title:"Closing roadmap (illustration)",
          viz_note:"no real data",

          footer:"Premium workbook – Module 10. Inputs are stored locally and printable.",

          k_green:"GREEN",
          k_yellow:"YELLOW",
          k_red:"RED",
          k_stop_yes:"YES",
          k_stop_no:"NO",
          focus_docs:"documents",
          focus_risk:"risks/scenarios",
          focus_pressure:"pressure/speed",
          focus_feel:"uncertainty",
          next_stop:"stop – clarify in writing / compare",
          next_docs:"request full documents",
          next_questions:"build a question list",
          next_compare:"get a second offer",
          next_ready:"finalize decision memo"
        }
      };

      function getData(){
        try{
          const raw = localStorage.getItem(LS_KEY_DATA);
          const obj = raw ? JSON.parse(raw) : {};
          return (obj && typeof obj === "object") ? obj : {};
        }catch(e){ return {}; }
      }
      function setData(obj){
        localStorage.setItem(LS_KEY_DATA, JSON.stringify(obj));
      }

      function applyI18n(lang){
        document.documentElement.lang = lang;
        document.querySelectorAll("[data-i18n]").forEach(el=>{
          const k = el.getAttribute("data-i18n");
          const txt = (i18n[lang] && i18n[lang][k] !== undefined) ? i18n[lang][k] : null;
          if(txt !== null) el.textContent = txt;
        });
        document.querySelectorAll("option[data-i18n]").forEach(opt=>{
          const k = opt.getAttribute("data-i18n");
          const txt = (i18n[lang] && i18n[lang][k] !== undefined) ? i18n[lang][k] : null;
          if(txt !== null) opt.textContent = txt;
        });
      }

      function loadLang(){
        const saved = localStorage.getItem("fsa_pvka_lang");
        return saved === "en" ? "en" : "de";
      }
      function saveLang(lang){
        localStorage.setItem("fsa_pvka_lang", lang);
      }

      function addNoCache(){
        const ts = Date.now();
        document.querySelectorAll('a[data-nocache="1"]').forEach(link=>{
          const href = link.getAttribute("href") || "";
          const url = new URL(href, location.href);
          url.searchParams.set("nocache", String(ts));
          link.setAttribute("href", url.pathname.split("/").pop() + "?" + url.searchParams.toString());
        });
      }

      function wireFields(){
        const data = getData();

        document.querySelectorAll("select[data-save]").forEach(sel=>{
          const k = sel.getAttribute("data-save");
          if(data[k] !== undefined) sel.value = data[k];
          sel.addEventListener("change", ()=>{
            const d = getData();
            d[k] = sel.value;
            setData(d);
            updateAll();
          });
        });

        document.querySelectorAll("input[type='checkbox'][data-save-check]").forEach(chk=>{
          const k = chk.getAttribute("data-save-check");
          if(data[k] !== undefined) chk.checked = !!data[k];
          chk.addEventListener("change", ()=>{
            const d = getData();
            d[k] = chk.checked;
            setData(d);
            updateAll();
          });
        });
      }

      function compute(){
        const lang = (langSel.value === "en") ? "en" : "de";
        const t = i18n[lang];
        const d = getData();

        // Base readiness score
        let score = 100;

        // Selections
        if(d.m10_docs === "partial") score -= 22;
        if(d.m10_docs === "none") score -= 48;

        if(d.m10_risk === "soft") score -= 18;
        if(d.m10_risk === "deny") score -= 32;

        if(d.m10_speed === "push") score -= 22;
        if(d.m10_speed === "hard") score -= 38;

        if(d.m10_feel === "mid") score -= 12;
        if(d.m10_feel === "bad") score -= 24;

        // Deal-breakers
        const dbKeys = ["m10_db1","m10_db2","m10_db3","m10_db4","m10_db5"];
        let dbCount = 0;
        dbKeys.forEach(k=>{ if(d[k]) dbCount++; });
        score -= dbCount * 18;

        score = Math.max(0, Math.min(100, score));

        const mustStop =
          dbCount >= 1 ||
          d.m10_docs === "none" ||
          d.m10_speed === "hard";

        // Light
        let light;
        if(mustStop || score < 58) light = t.k_red;
        else if(score < 80) light = t.k_yellow;
        else light = t.k_green;

        // Focus
        let focus = "–";
        if(d.m10_docs === "none" || d.m10_docs === "partial" || d.m10_db1) focus = t.focus_docs;
        else if(d.m10_speed === "hard" || d.m10_speed === "push" || d.m10_db2) focus = t.focus_pressure;
        else if(d.m10_risk === "deny" || d.m10_risk === "soft" || d.m10_db4) focus = t.focus_risk;
        else if(d.m10_feel === "bad" || d.m10_feel === "mid") focus = t.focus_feel;

        // Next step
        let next;
        if(mustStop || light === t.k_red) next = t.next_stop;
        else if(d.m10_docs !== "full") next = t.next_docs;
        else if(light === t.k_yellow) next = t.next_compare;
        else next = t.next_ready;

        return { score, light, focus, mustStop, next, t };
      }

      function updateAll(){
        const r = compute();
        kpiLight.textContent = r.light;
        kpiStop.textContent  = r.mustStop ? r.t.k_stop_yes : r.t.k_stop_no;
        kpiFocus.textContent = r.focus;
        kpiNext.textContent  = r.next;
      }

      // Buttons
      printBtn.addEventListener("click", ()=> window.print());
      resetBtn.addEventListener("click", ()=>{
        const lang = langSel.value === "en" ? "en" : "de";
        const ok = confirm(lang === "en"
          ? "Clear all saved project inputs for this course?"
          : "Alle gespeicherten Eingaben für diesen Kurs wirklich löschen?"
        );
        if(!ok) return;
        localStorage.removeItem(LS_KEY_DATA);
        location.reload();
      });

      // Init
      addNoCache();
      const lang = loadLang();
      langSel.value = lang;
      applyI18n(lang);
      wireFields();
      updateAll();

      langSel.addEventListener("change", ()=>{
        const l = langSel.value === "en" ? "en" : "de";
        saveLang(l);
        applyI18n(l);
        updateAll();
      });
    })();
  </script>
<!-- PATCH: Modul-Navigation (Prev / Index / Next) -->
<style>
  .modNav{
    margin-top: 14px;
    border:1px solid rgba(15,17,20,.12);
    border-radius: 16px;
    background: rgba(255,255,255,.72);
    box-shadow: 0 14px 34px rgba(0,0,0,.08);
    padding: 12px 12px;
    position:relative;
    overflow:hidden;
  }
  .modNav:before{
    content:"";
    position:absolute;
    inset:-2px;
    background:
      radial-gradient(620px 180px at 16% 8%, rgba(200,166,58,.12), transparent 65%),
      radial-gradient(620px 180px at 84% 12%, rgba(11,125,92,.10), transparent 65%);
    pointer-events:none;
    opacity:.75;
  }
  .modNav > *{ position:relative; }

  .modNavTop{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    flex-wrap:wrap;
    margin-bottom:10px;
  }
  .modNavTitle{
    font-weight:1100;
    font-size:13px;
    color: rgba(15,17,20,.92);
  }
  .modNavHint{
    font-size:12px;
    font-weight:900;
    color: rgba(71,80,95,.92);
    background: rgba(200,166,58,.10);
    border:1px solid rgba(200,166,58,.22);
    border-radius: 999px;
    padding: 4px 8px;
    width: fit-content;
  }

  .modNavBtns{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    align-items:center;
  }

  .modNavBtn{
    display:inline-flex;
    align-items:center;
    gap:10px;
    text-decoration:none;
    font-weight:1100;
    border-radius: 12px;
    padding: 11px 14px;
    border:1px solid rgba(15,17,20,.12);
    background: linear-gradient(180deg, rgba(255,255,255,.94), rgba(255,255,255,.76));
    color: rgba(15,17,20,.92);
    box-shadow: 0 14px 30px rgba(0,0,0,.06);
    transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
    white-space:nowrap;
  }
  .modNavBtn:hover{
    transform: translateY(-1px);
    box-shadow: 0 18px 38px rgba(0,0,0,.10);
    border-color: rgba(11,125,92,.28);
  }

  .modNavBtn.primary{
    color:#fff;
    border:1px solid rgba(11,125,92,.22);
    background: linear-gradient(180deg, rgba(26,165,122,1), rgba(11,125,92,1));
    box-shadow: 0 14px 30px rgba(11,125,92,.18);
  }
  .modNavBtn.primary:hover{
    box-shadow: 0 18px 38px rgba(11,125,92,.22);
  }

  .modNavBtn svg{ width:16px; height:16px; flex:0 0 auto; opacity:.95; }
  .modNavBtn.disabled{
    opacity:.45;
    pointer-events:none;
    filter: grayscale(1);
  }

  @media print{
    .modNav{ display:none !important; }
  }
</style>

<nav class="modNav" id="modNav" aria-label="Modul Navigation" style="display:none">
  <div class="modNavTop">
    <div class="modNavTitle" data-i18n="nav_title">Navigation</div>
    <div class="modNavHint" data-i18n="nav_hint">Weiter zum nächsten Modul</div>
  </div>

  <div class="modNavBtns">
    <a class="modNavBtn" id="navPrev" href="#" data-nocache="1">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M15 6l-6 6 6 6" fill="none" stroke="rgba(15,17,20,.85)" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span data-i18n="nav_prev">Vorheriges Modul</span>
    </a>

    <a class="modNavBtn" id="navIndex" href="index.html" data-nocache="1">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M4 10.5l8-6 8 6V20a1 1 0 0 1-1 1h-4v-6H9v6H5a1 1 0 0 1-1-1v-9.5z"
              fill="rgba(200,166,58,.18)" stroke="rgba(15,17,20,.55)" stroke-width="1.4" stroke-linejoin="round"/>
      </svg>
      <span data-i18n="nav_index">Index</span>
    </a>

    <a class="modNavBtn primary" id="navNext" href="#" data-nocache="1">
      <span data-i18n="nav_next">Nächstes Modul</span>
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M9 6l6 6-6 6" fill="none" stroke="rgba(255,255,255,.95)" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </a>
  </div>
</nav>

<script>
  (function(){
    // i18n keys ergänzen, falls dein Modul bereits i18n nutzt:
    // (Wir überschreiben nichts – nur fallback, wenn Keys fehlen.)
    const fallback = {
      de: { nav_title:"Navigation", nav_hint:"Weiter zum nächsten Modul", nav_prev:"Vorheriges Modul", nav_index:"Index", nav_next:"Nächstes Modul" },
      en: { nav_title:"Navigation", nav_hint:"Continue to the next module", nav_prev:"Previous module", nav_index:"Index", nav_next:"Next module" }
    };

    // Sprache aus bestehender Seite ableiten (html lang oder select#langSel, wenn vorhanden)
    function getLang(){
      const sel = document.getElementById("langSel");
      if(sel && (sel.value==="en" || sel.value==="de")) return sel.value;
      const l = (document.documentElement.lang || "de").toLowerCase();
      return l.startsWith("en") ? "en" : "de";
    }

    // Modulnummer aus Dateiname: module-01.html ... module-12.html
    const file = (location.pathname.split("/").pop() || "").toLowerCase();
    const m = file.match(/^module-(\d{2})\.html$/);
    if(!m) return; // nur auf Modul-Seiten aktiv

    const num = parseInt(m[1], 10);
    if(!Number.isFinite(num)) return;

    const nav = document.getElementById("modNav");
    const prev = document.getElementById("navPrev");
    const next = document.getElementById("navNext");
    const idx  = document.getElementById("navIndex");

    function withNoCache(href){
      const ts = Date.now();
      const url = new URL(href, location.href);
      url.searchParams.set("nocache", String(ts));
      return url.pathname.split("/").pop() + "?" + url.searchParams.toString();
    }

    function pad2(n){ return String(n).padStart(2,"0"); }

    // Links setzen
    idx.href = withNoCache("index.html");

    if(num > 1){
      prev.href = withNoCache("module-" + pad2(num-1) + ".html");
      prev.classList.remove("disabled");
    }else{
      prev.href = "#";
      prev.classList.add("disabled");
    }

    if(num < 12){
      next.href = withNoCache("module-" + pad2(num+1) + ".html");
      next.classList.remove("disabled");
    }else{
      next.href = "#";
      next.classList.add("disabled");
    }

    // i18n minimal anwenden (nur diese Nav-Keys, ohne dein System zu stören)
    function applyNavI18n(){
      const lang = getLang();
      document.querySelectorAll("#modNav [data-i18n]").forEach(el => {
        const k = el.getAttribute("data-i18n");
        if(!k) return;
        // wenn deine Seite das schon setzt, lassen wir es; sonst fallback:
        const current = (el.textContent || "").trim();
        if(current) return;
        el.textContent = (fallback[lang] && fallback[lang][k]) ? fallback[lang][k] : (fallback.de[k] || "");
      });
    }

    // sichtbar machen
    nav.style.display = "";
    applyNavI18n();

    // falls dein Modul per Sprachumschalter live wechselt
    const langSel = document.getElementById("langSel");
    if(langSel){
      langSel.addEventListener("change", () => {
        // Texte nur setzen, wenn leer – also kein Überschreiben
        applyNavI18n();
      });
    }
  })();
</script>
<!-- /PATCH: Modul-Navigation -->
</body>
</html>
