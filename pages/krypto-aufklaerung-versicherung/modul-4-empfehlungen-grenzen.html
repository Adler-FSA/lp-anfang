<!doctype html>
<!--
  FSA • Aufklärungskurs • Krypto & Versicherung – Modul 4
  GitHub-Pfad: lp-anfang/pages/krypto-aufklaerung-versicherung/modul-4-empfehlungen-grenzen.html
  Commit-Message: krypto-aufklaerung-versicherung – kurs stand-alone (index + 4 module, DE/EN, print+notes)
  Testlink (nocache): https://adler-fsa.github.io/lp-anfang/pages/krypto-aufklaerung-versicherung/modul-4-empfehlungen-grenzen.html?nocache=__TS__
-->
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Modul 4 – Empfehlungen & Grenzen | Krypto & Versicherung</title>
  <meta name="description" content="Modul 4: Praktische Schutzlogik statt Hoffnung auf Versicherung: Backup, Stop-Regeln, Testbetrag, Projekttrennung, Freigaben prüfen, klare Grenzen. DE/EN." />
  <meta name="robots" content="noindex,nofollow" />

  <style>
    :root{--bg:#050814;--bg2:#020617;--panel:rgba(15,23,42,.88);--panel2:rgba(15,23,42,.72);--txt:#e9eef7;--muted:#a9b4c7;--gold:#d4af37;--gold2:#f2d37a;--line:rgba(212,175,55,.38);--shadow:0 24px 60px rgba(0,0,0,.55);--glow:0 0 26px rgba(212,175,55,.22), 0 12px 30px rgba(0,0,0,.55);--radius:18px;--maxw:1100px;}
    *{box-sizing:border-box;}
    html,body{margin:0;background:radial-gradient(1200px 800px at 20% 10%, rgba(212,175,55,.10), transparent 55%),radial-gradient(900px 600px at 80% 30%, rgba(94,168,255,.08), transparent 60%),linear-gradient(180deg,var(--bg),var(--bg2));color:var(--txt);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;overflow-x:hidden;-webkit-text-size-adjust:100%;text-size-adjust:100%;}
    body{hyphens:auto;-webkit-hyphens:auto;overflow-wrap:anywhere;word-break:normal;}
    p,h1,h2,h3,li,.sub,.muted,.label{overflow-wrap:anywhere;hyphens:auto;-webkit-hyphens:auto;}
    .wrap{max-width:var(--maxw);margin:0 auto;padding:34px 18px 60px;}
    .topbar{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;flex-wrap:wrap;margin:6px 0 14px;}
    .brand{display:flex;flex-direction:column;gap:8px;min-width:min(720px,100%);}
    .kicker{display:inline-flex;align-items:center;gap:8px;padding:7px 10px;border-radius:999px;border:1px solid rgba(212,175,55,.25);background:rgba(0,0,0,.18);color:var(--gold2);font-size:12px;font-weight:950;letter-spacing:.25px;width:fit-content;white-space:nowrap;}
    .dot{width:8px;height:8px;border-radius:99px;background:rgba(242,211,122,.9);box-shadow:0 0 12px rgba(212,175,55,.35)}
    h1{margin:0;font-size:30px;line-height:1.15;font-weight:950}
    .sub{margin:2px 0 0;color:var(--muted);max-width:95ch;line-height:1.55}
    .line{height:2px;background:linear-gradient(90deg,transparent,var(--gold),transparent);opacity:.85;margin:12px 0 18px;}
    .panel{background:linear-gradient(180deg,var(--panel),var(--panel2));border:1px solid rgba(212,175,55,.22);border-radius:var(--radius);box-shadow:var(--shadow);backdrop-filter: blur(6px);padding:18px;position:relative;overflow:hidden;margin-top:14px;}
    .panel:before{content:"";position:absolute;inset:-2px;background:radial-gradient(650px 240px at 10% 0%, rgba(212,175,55,.10), transparent 55%);pointer-events:none;}
    .panel > *{position:relative;z-index:1;}
    h2{margin:0 0 8px;font-size:18px;letter-spacing:.2px;color:var(--gold2)}
    h3{margin:12px 0 8px;font-size:15px;letter-spacing:.2px;color:var(--gold2)}
    p{margin:0 0 10px;color:var(--txt);line-height:1.7;font-size:14.5px;opacity:.98}
    ul{margin:8px 0 10px 18px;padding:0;}
    li{margin:6px 0;line-height:1.6;}
    .muted{color:var(--muted);}
    .hr{height:1px;background:rgba(212,175,55,.22);margin:14px 0}

    .langBar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:flex-end;}
    .langBtn{padding:10px 12px;border-radius:14px;border:1px solid rgba(212,175,55,.28);background:rgba(0,0,0,.22);color:var(--txt);font-weight:950;cursor:pointer;-webkit-appearance:none;appearance:none;}
    .langBtn[aria-pressed="true"]{background:linear-gradient(180deg, rgba(212,175,55,.95), rgba(212,175,55,.75));color:#111;border:none;box-shadow:var(--glow);}

    .navBtn,.smallBtn{padding:10px 12px;border-radius:14px;border:1px solid rgba(212,175,55,.28);background:rgba(0,0,0,.22);color:var(--txt);font-weight:950;display:inline-flex;align-items:center;gap:8px;cursor:pointer;text-decoration:none;-webkit-appearance:none;appearance:none;}
    .navBtn:hover,.smallBtn:hover{background:rgba(0,0,0,.28);}
    .navBtnPrimary{background:linear-gradient(180deg, rgba(212,175,55,.95), rgba(212,175,55,.75));color:#111;border:1px solid rgba(212,175,55,.35);box-shadow:var(--glow);}

    .fieldRow{display:grid;grid-template-columns:1fr;gap:8px;margin:10px 0 2px;}
    .label{font-size:13px;color:var(--muted);font-weight:800;}
    .inp{width:100%;padding:10px 12px;border-radius:14px;border:1px solid rgba(212,175,55,.22);background:rgba(0,0,0,.18);color:var(--txt);outline:none;font-size:14px;-webkit-appearance:none;appearance:none;}
    .inp:focus{border-color:rgba(212,175,55,.42);box-shadow:0 0 0 3px rgba(212,175,55,.10);}
    textarea{width:100%;min-height:180px;resize:vertical;padding:12px;border-radius:14px;border:1px solid rgba(212,175,55,.22);background:rgba(0,0,0,.18);color:var(--txt);outline:none;font-size:14px;line-height:1.6;-webkit-appearance:none;appearance:none;}
    textarea:focus{border-color:rgba(212,175,55,.42);box-shadow:0 0 0 3px rgba(212,175,55,.10);}
    .noteRow{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-top:10px}
    .saveHint{font-size:12px;color:var(--muted);}
    .footerNav{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap;justify-content:space-between;align-items:center;}
    .footerNav .left,.footerNav .mid,.footerNav .right{display:flex;gap:10px;flex-wrap:wrap;align-items:center;}

    @page{ margin:14mm; }
    @media print{
      html,body{background:#fff !important;color:#000 !important;height:auto !important;overflow:visible !important;-webkit-print-color-adjust: exact;print-color-adjust: exact;}
      body,p,h1,h2,h3,li,.sub,.muted,.label{hyphens:none !important;-webkit-hyphens:none !important;overflow-wrap:normal !important;}
      .wrap{padding:0 !important;}
      .langBar{display:none !important;}
      .noteRow button{display:none !important;}
      .footerNav{display:none !important;}
      .smallBtn{display:none !important;}
      .panel{box-shadow:none !important;background:#fff !important;border:1px solid #999 !important;backdrop-filter:none !important;break-inside:avoid;page-break-inside:avoid;}
      .panel:before{display:none !important;}
      .sub,p,textarea,.muted,.label{color:#000 !important;}
      h1,h2,h3{color:#000 !important;}
      .line{background:#999 !important;}
      a{color:#000 !important;text-decoration:none !important;}
      textarea,.inp{border:1px solid #999 !important;background:#fff !important;color:#000 !important;}
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="kicker"><span class="dot"></span> <span data-i18n="kicker">Modul 4</span></div>
        <div>
          <h1 data-i18n="h1">Empfehlungen &amp; Grenzen: Was du wirklich kontrollieren kannst</h1>
          <div class="sub" data-i18n="sub">Die beste „Versicherung“ ist oft Struktur: Regeln, Backup, saubere Routine und klare Stopps.</div>
        </div>
      </div>
      <div class="langBar" aria-label="Language">
        <button class="langBtn" type="button" id="btnDE" aria-pressed="true">DE</button>
        <button class="langBtn" type="button" id="btnEN" aria-pressed="false">EN</button>
      </div>
    </div>

    <div class="line"></div>

    <section class="panel">
      <h2 data-i18n="t1">1) Die 5 Kernregeln (laienfreundlich)</h2>
      <ul>
        <li data-i18n="r1"><b>Seed nur auf Papier:</b> keine Fotos, keine Notizen-App, keine Cloud, kein Messenger.</li>
        <li data-i18n="r2"><b>Testbetrag zuerst:</b> erst klein testen, dann erst den Rest.</li>
        <li data-i18n="r3"><b>Nie unter Druck handeln:</b> Zeitdruck ist ein Betrugs-Signal. Pause machen.</li>
        <li data-i18n="r4"><b>Links/Apps nur offiziell:</b> keine „Support-Links“, keine fremden Installationsquellen.</li>
        <li data-i18n="r5"><b>Freigaben verstehen:</b> nichts signieren/approve, was du nicht erklären kannst.</li>
      </ul>
      <p class="muted" data-i18n="p1">
        Diese Regeln sind nicht „paranoid“, sondern Standard-Schutz. Wer sie einhält, reduziert die häufigsten Verlustarten massiv.
      </p>
    </section>

    <section class="panel">
      <h2 data-i18n="t2">2) Projekt-Trennung (Schadensradius begrenzen)</h2>
      <p data-i18n="p2">
        Wenn du später mehrere Projekte machst, ist Trennung eine echte Sicherheitsstrategie:
        Nicht alles in einer Wallet, nicht alles in einem „Konto“, nicht alles in einem Browser-Profil.
      </p>
      <ul>
        <li data-i18n="p21">Eine Wallet pro Projekt (oder mindestens: Risiko getrennt von Basis).</li>
        <li data-i18n="p22">Ein „Tresor“ (langfristig) und ein „Operativ“ (für Aktionen) getrennt.</li>
        <li data-i18n="p23">So begrenzt du den Schaden, falls du einmal falsch signierst.</li>
      </ul>
    </section>

    <section class="panel">
      <h2 data-i18n="t3">3) Klare Grenzen: Was niemand dir „sicher“ versprechen kann</h2>
      <p data-i18n="p3">
        Hier ist die Aufklärungs-Kante: Viele Versprechen im Markt sind psychologisch stark – aber technisch nicht haltbar.
        Wer dir „0 Risiko“ verkauft, verkauft meistens ein Narrativ.
      </p>
      <ul>
        <li data-i18n="g1"><b>Marktrisiko:</b> Preise schwanken. Das ist nicht versicherbar wie ein Defekt.</li>
        <li data-i18n="g2"><b>Eigenes Handling:</b> Falsche Adresse/Netzwerk/Approve ist selten erstattbar.</li>
        <li data-i18n="g3"><b>Betrug:</b> Viele Betrugsfälle sehen in Logs wie „vom Nutzer bestätigt“ aus.</li>
      </ul>
      <p class="muted" data-i18n="p4">
        Ziel ist nicht Angst – sondern klare Orientierung: Du brauchst Regeln, die unabhängig von Versprechen funktionieren.
      </p>
    </section>

    <section class="panel">
      <h2 data-i18n="t4">4) Was du einem Club-Mitglied konkret sagen kannst</h2>
      <p data-i18n="p5">
        Wenn die Frage kommt „Kann man das versichern?“, ist die beste Antwort meist zweistufig:
        Erst klären, <b>welche Verlust-Art</b> gemeint ist (Modul 1), dann erklären, <b>welche Modelle</b> überhaupt existieren (Modul 2).
      </p>
      <p class="muted" data-i18n="p6">
        Und dann: Fokus auf die eigene Schutzroutine. Das ist für Laien die beste, realistische Lösung.
      </p>
    </section>

    <section class="panel">
      <h2 data-i18n="t5">Abschluss</h2>
      <p data-i18n="p7">
        Wenn du nur eine Sache aus diesem Kurs mitnimmst, dann diese:
        <b>Die beste Absicherung ist eine Routine, die Fehler verhindert.</b>
      </p>
      <p class="muted" data-i18n="p8">
        Du kannst jetzt zur Übersicht zurück – oder deine Notizen sichern/ausdrucken.
      </p>
    </section>

    <section class="panel" id="notesPanel">
      <h2 data-i18n="notes_title">Modul-Notizen</h2>
      <p class="muted" data-i18n="notes_sub">Alles bleibt nur auf deinem Gerät (LocalStorage).</p>

      <div class="fieldRow">
        <div class="label" data-i18n="n1">A) Welche 2 Regeln werde ich ab heute strikt einhalten?</div>
        <input class="inp" id="n_a" type="text" placeholder="…" data-i18n-placeholder="ph_dots" />
      </div>
      <div class="fieldRow">
        <div class="label" data-i18n="n2">B) Mein persönliches „Stop-Signal“ (z. B. Zeitdruck):</div>
        <input class="inp" id="n_b" type="text" placeholder="…" data-i18n-placeholder="ph_dots" />
      </div>

      <div class="hr"></div>
      <p class="muted"><b data-i18n="free_notes">Freie Notizen:</b></p>
      <textarea id="n_notes" placeholder="…" data-i18n-placeholder="ph_notes"></textarea>

      <div class="noteRow">
        <div class="saveHint" id="saveHint" data-i18n="save_unsaved">Nicht gespeichert.</div>
        <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:flex-end;">
          <button class="smallBtn" type="button" id="clearPage"><span data-i18n="btn_clear_page">Notizen dieser Seite löschen</span></button>
          <button class="smallBtn" type="button" id="clearAll"><span data-i18n="btn_clear_all">Alle Kurs-Notizen löschen</span></button>
        </div>
      </div>

      <div class="footerNav">
        <div class="left">
          <a class="navBtn" href="./modul-3-risiken-szenarien.html" data-internal>← <span data-i18n="btn_prev">Zurück: Modul 3</span></a>
        </div>
        <div class="mid">
          <a class="navBtn navBtnPrimary" href="./index.html" data-internal><span data-i18n="btn_home">Zur Übersicht</span> →</a>
        </div>
        <div class="right">
          <button class="navBtn navBtnPrimary" type="button" id="printBtn"><span data-i18n="btn_print">Drucken</span></button>
        </div>
      </div>
    </section>
  </div>

  <script>
    (function(){
      "use strict";
      const COURSE_KEY="fsa_kav_notes_v1";
      const LANG_KEY="fsa_kav_lang_v1";
      const PAGE_ID="m4";
      const FIELD_IDS=["n_a","n_b","n_notes"];

      function safeGet(k){ try{ return localStorage.getItem(k);}catch(e){ return null; } }
      function safeSet(k,v){ try{ localStorage.setItem(k,v);}catch(e){} }
      function safeRemove(k){ try{ localStorage.removeItem(k);}catch(e){} }

      function loadCourseObject(){
        const raw=safeGet(COURSE_KEY);
        if(!raw) return {v:1,pages:{}};
        try{
          const obj=JSON.parse(raw);
          if(!obj||typeof obj!=="object") return {v:1,pages:{}};
          if(!obj.pages||typeof obj.pages!=="object") obj.pages={};
          if(!obj.v) obj.v=1;
          return obj;
        }catch(e){ return {v:1,pages:{}}; }
      }
      function saveCourseObject(obj){ safeSet(COURSE_KEY, JSON.stringify(obj)); }

      const i18n={
        de:{
          kicker:"Modul 4",
          h1:"Empfehlungen & Grenzen: Was du wirklich kontrollieren kannst",
          sub:"Die beste „Versicherung“ ist oft Struktur: Regeln, Backup, saubere Routine und klare Stopps.",

          t1:"1) Die 5 Kernregeln (laienfreundlich)",
          r1:"<b>Seed nur auf Papier:</b> keine Fotos, keine Notizen-App, keine Cloud, kein Messenger.",
          r2:"<b>Testbetrag zuerst:</b> erst klein testen, dann erst den Rest.",
          r3:"<b>Nie unter Druck handeln:</b> Zeitdruck ist ein Betrugs-Signal. Pause machen.",
          r4:"<b>Links/Apps nur offiziell:</b> keine „Support-Links“, keine fremden Installationsquellen.",
          r5:"<b>Freigaben verstehen:</b> nichts signieren/approve, was du nicht erklären kannst.",
          p1:"Diese Regeln sind nicht „paranoid“, sondern Standard-Schutz. Wer sie einhält, reduziert die häufigsten Verlustarten massiv.",

          t2:"2) Projekt-Trennung (Schadensradius begrenzen)",
          p2:"Wenn du später mehrere Projekte machst, ist Trennung eine echte Sicherheitsstrategie: Nicht alles in einer Wallet, nicht alles in einem „Konto“, nicht alles in einem Browser-Profil.",
          p21:"Eine Wallet pro Projekt (oder mindestens: Risiko getrennt von Basis).",
          p22:"Ein „Tresor“ (langfristig) und ein „Operativ“ (für Aktionen) getrennt.",
          p23:"So begrenzt du den Schaden, falls du einmal falsch signierst.",

          t3:"3) Klare Grenzen: Was niemand dir „sicher“ versprechen kann",
          p3:"Hier ist die Aufklärungs-Kante: Viele Versprechen im Markt sind psychologisch stark – aber technisch nicht haltbar. Wer dir „0 Risiko“ verkauft, verkauft meistens ein Narrativ.",
          g1:"<b>Marktrisiko:</b> Preise schwanken. Das ist nicht versicherbar wie ein Defekt.",
          g2:"<b>Eigenes Handling:</b> Falsche Adresse/Netzwerk/Approve ist selten erstattbar.",
          g3:"<b>Betrug:</b> Viele Betrugsfälle sehen in Logs wie „vom Nutzer bestätigt“ aus.",
          p4:"Ziel ist nicht Angst – sondern klare Orientierung: Du brauchst Regeln, die unabhängig von Versprechen funktionieren.",

          t4:"4) Was du einem Club-Mitglied konkret sagen kannst",
          p5:"Wenn die Frage kommt „Kann man das versichern?“, ist die beste Antwort meist zweistufig: Erst klären, <b>welche Verlust-Art</b> gemeint ist (Modul 1), dann erklären, <b>welche Modelle</b> überhaupt existieren (Modul 2).",
          p6:"Und dann: Fokus auf die eigene Schutzroutine. Das ist für Laien die beste, realistische Lösung.",

          t5:"Abschluss",
          p7:"Wenn du nur eine Sache aus diesem Kurs mitnimmst, dann diese: <b>Die beste Absicherung ist eine Routine, die Fehler verhindert.</b>",
          p8:"Du kannst jetzt zur Übersicht zurück – oder deine Notizen sichern/ausdrucken.",

          notes_title:"Modul-Notizen",
          notes_sub:"Alles bleibt nur auf deinem Gerät (LocalStorage).",
          n1:"A) Welche 2 Regeln werde ich ab heute strikt einhalten?",
          n2:"B) Mein persönliches „Stop-Signal“ (z. B. Zeitdruck):",
          free_notes:"Freie Notizen:",
          save_unsaved:"Nicht gespeichert.",
          save_saved:"Gespeichert (lokal).",
          btn_clear_page:"Notizen dieser Seite löschen",
          btn_clear_all:"Alle Kurs-Notizen löschen",
          btn_prev:"Zurück: Modul 3",
          btn_home:"Zur Übersicht",
          btn_print:"Drucken",
          ph_dots:"…",
          ph_notes:"Freie Notizen …",
          confirm_clear_page:"Notizen dieser Seite wirklich löschen?",
          confirm_clear_all:"ALLE Kurs-Notizen auf diesem Gerät löschen?",
          alert_cleared:"Daten gelöscht."
        },
        en:{
          kicker:"Module 4",
          h1:"Recommendations & limits: what you can actually control",
          sub:"The best “insurance” is often structure: rules, backups, clean routine, clear stop signals.",

          t1:"1) The 5 core rules (beginner-friendly)",
          r1:"<b>Seed on paper only:</b> no photos, no notes app, no cloud, no messenger.",
          r2:"<b>Test amount first:</b> test small, then send the rest.",
          r3:"<b>Never act under pressure:</b> urgency is a fraud signal. Pause.",
          r4:"<b>Only official links/apps:</b> no “support links”, no unknown installers.",
          r5:"<b>Understand permissions:</b> don’t sign/approve what you can’t explain.",
          p1:"These rules are not paranoia — they are standard protection. Following them drastically reduces common loss types.",

          t2:"2) Project separation (limit the blast radius)",
          p2:"If you do multiple projects later, separation is real security strategy: not everything in one wallet, not everything in one account, not everything in one browser profile.",
          p21:"One wallet per project (or at least: risk separated from base).",
          p22:"Separate a “vault” (long-term) and “operational” wallet (actions).",
          p23:"This limits damage if you ever sign something wrong.",

          t3:"3) Clear limits: what nobody can “guarantee”",
          p3:"Here’s the hard truth: many promises sound strong psychologically but are not technically reliable. Anyone selling “zero risk” usually sells a narrative.",
          g1:"<b>Market risk:</b> prices move. This is not insurable like a defect.",
          g2:"<b>User handling:</b> wrong address/network/approval is rarely refundable.",
          g3:"<b>Fraud:</b> many cases look like “user-approved” in logs.",
          p4:"Goal is not fear — it’s clarity: you need rules that work independently of promises.",

          t4:"4) What you can tell a club member concretely",
          p5:"When asked “Can it be insured?”, the best answer is usually two steps: first clarify <b>which loss type</b> it is (Module 1), then explain <b>which models</b> exist at all (Module 2).",
          p6:"Then: focus on the personal protection routine. That’s the most realistic solution for beginners.",

          t5:"Finish",
          p7:"If you take only one thing from this course: <b>The best protection is a routine that prevents mistakes.</b>",
          p8:"You can now return to the overview — or print your notes.",

          notes_title:"Module notes",
          notes_sub:"Everything stays on your device (LocalStorage).",
          n1:"A) Which 2 rules will I follow strictly from now on?",
          n2:"B) My personal stop signal (e.g., urgency):",
          free_notes:"Free notes:",
          save_unsaved:"Not saved.",
          save_saved:"Saved (local).",
          btn_clear_page:"Clear this page notes",
          btn_clear_all:"Clear all course notes",
          btn_prev:"Back: Module 3",
          btn_home:"Back to overview",
          btn_print:"Print",
          ph_dots:"…",
          ph_notes:"Free notes …",
          confirm_clear_page:"Really clear this page notes?",
          confirm_clear_all:"Clear ALL course notes on this device?",
          alert_cleared:"Data cleared."
        }
      };

      function setLang(lang){
        const d=(lang==="en")?i18n.en:i18n.de;
        document.documentElement.lang=(lang==="en")?"en":"de";
        safeSet(LANG_KEY,(lang==="en")?"en":"de");

        document.querySelectorAll("[data-i18n]").forEach(el=>{
          const key=el.getAttribute("data-i18n");
          if(key && Object.prototype.hasOwnProperty.call(d,key)) el.innerHTML=d[key];
        });
        document.querySelectorAll("[data-i18n-placeholder]").forEach(el=>{
          const key=el.getAttribute("data-i18n-placeholder");
          if(key && Object.prototype.hasOwnProperty.call(d,key)) el.setAttribute("placeholder", d[key]);
        });

        const btnDE=document.getElementById("btnDE"), btnEN=document.getElementById("btnEN");
        if(btnDE && btnEN){
          const isEN=(lang==="en");
          btnEN.setAttribute("aria-pressed", isEN?"true":"false");
          btnDE.setAttribute("aria-pressed", isEN?"false":"true");
        }
        refreshHintLang(lang);
      }

      document.getElementById("btnDE").addEventListener("click", ()=>setLang("de"));
      document.getElementById("btnEN").addEventListener("click", ()=>setLang("en"));

      const hintEl=document.getElementById("saveHint");
      let lastHintState="unsaved";
      function refreshHintLang(lang){
        if(!hintEl) return;
        hintEl.textContent=(lastHintState==="saved")
          ? ((lang==="en")?i18n.en.save_saved:i18n.de.save_saved)
          : ((lang==="en")?i18n.en.save_unsaved:i18n.de.save_unsaved);
      }

      function restorePageData(){
        const obj=loadCourseObject();
        const page=obj.pages[PAGE_ID]||{};
        FIELD_IDS.forEach(id=>{
          const el=document.getElementById(id);
          if(el && Object.prototype.hasOwnProperty.call(page,id)) el.value=page[id]||"";
        });
      }

      let saveTimer=null;
      function scheduleSave(){
        const lang=(safeGet(LANG_KEY)==="en")?"en":"de";
        lastHintState="unsaved"; refreshHintLang(lang);
        if(saveTimer) clearTimeout(saveTimer);
        saveTimer=setTimeout(function(){
          const obj=loadCourseObject();
          if(!obj.pages[PAGE_ID]) obj.pages[PAGE_ID]={};
          const page=obj.pages[PAGE_ID];
          FIELD_IDS.forEach(id=>{
            const el=document.getElementById(id);
            if(el) page[id]=el.value||"";
          });
          saveCourseObject(obj);
          lastHintState="saved"; refreshHintLang(lang);
        },250);
      }

      FIELD_IDS.forEach(id=>{
        const el=document.getElementById(id);
        if(el){ el.addEventListener("input", scheduleSave); el.addEventListener("change", scheduleSave); }
      });

      document.getElementById("clearPage").addEventListener("click", function(){
        const lang=(safeGet(LANG_KEY)==="en")?"en":"de";
        const msg=(lang==="en")?i18n.en.confirm_clear_page:i18n.de.confirm_clear_page;
        if(!confirm(msg)) return;
        const obj=loadCourseObject();
        obj.pages[PAGE_ID]={}; saveCourseObject(obj);
        FIELD_IDS.forEach(id=>{ const el=document.getElementById(id); if(el) el.value=""; });
        lastHintState="unsaved"; refreshHintLang(lang);
      });

      document.getElementById("clearAll").addEventListener("click", function(){
        const lang=(safeGet(LANG_KEY)==="en")?"en":"de";
        const msg=(lang==="en")?i18n.en.confirm_clear_all:i18n.de.confirm_clear_all;
        if(!confirm(msg)) return;
        safeRemove(COURSE_KEY);
        FIELD_IDS.forEach(id=>{ const el=document.getElementById(id); if(el) el.value=""; });
        lastHintState="unsaved"; refreshHintLang(lang);
        alert((lang==="en")?i18n.en.alert_cleared:i18n.de.alert_cleared);
      });

      const printBtn=document.getElementById("printBtn");
      if(printBtn) printBtn.addEventListener("click", ()=>window.print());

      (function nocache(){
        const t=Date.now();
        document.querySelectorAll("a[data-internal]").forEach(a=>{
          try{
            const href=a.getAttribute("href");
            const u=new URL(href, location.href);
            u.searchParams.set("nocache", t);
            a.href=u.pathname+u.search+u.hash;
          }catch(e){}
        });
      })();

      (function init(){
        const preferred=safeGet(LANG_KEY);
        const lang=(preferred==="en")?"en":"de";
        setLang(lang);
        restorePageData();

        const obj=loadCourseObject();
        const page=obj.pages[PAGE_ID]||{};
        const hasAny=FIELD_IDS.some(id=> (page[id]||"").trim().length>0);
        lastHintState=hasAny?"saved":"unsaved";
        refreshHintLang(lang);
      })();
    })();
  </script>
</body>
</html>
