<!doctype html>
<!--
  LiquidityBooster • Unikat-URL Ersteller (Demo)
  GitHub-Pfad: lp-anfang/pages/unikat-url.html

  Zweck:
  - Demo-Seite: Partner erzeugen ihren persönlichen Empfehlungslink (ohne Subdomain)
  - Link-Format: https://liquiditybooster.de/?ref=DEINCODE  (oder optional /r/DEINCODE)
  - Copy & Share + Social Buttons
  - Optional: Referral-Code lokal merken (LocalStorage) – standardmäßig AUS

  Keine externen Ressourcen. Inline-SVG only. DE/EN via data-i18n.

  Commit-Message: pages/unikat-url – Unikat-URL Ersteller (Demo) (Copy/Share, DE/EN, ohne Subdomain)
  Testlink (nocache): https://adler-fsa.github.io/lp-anfang/pages/unikat-url.html?nocache=__TS__
-->
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Unikat-URL Ersteller – LiquidityBooster</title>
  <meta name="description" content="Unikat-URL Ersteller (Demo): persönlicher Empfehlungslink auf liquiditybooster.de – Copy, Share, Social Buttons, DE/EN." />
  <meta name="robots" content="noindex,nofollow" />

  <style>
    :root{
      --bg:#050816;
      --bg2:#070b1c;
      --panel:rgba(255,255,255,.06);
      --panel2:rgba(255,255,255,.08);
      --border:rgba(148,163,184,.30);
      --txt:#e5e7eb;
      --muted:#a3a9b4;
      --gold:#eab308;
      --gold2:rgba(234,179,8,.32);
      --accent:#38bdf8;
      --danger:#f87171;
      --ok:#34d399;
      --shadow:0 18px 45px rgba(0,0,0,.55);
      --radius:18px;
    }

    *{box-sizing:border-box;}
    html,body{margin:0;padding:0;background:radial-gradient(circle at 20% -10%, rgba(56,189,248,.12) 0%, rgba(0,0,0,0) 45%),
                                   radial-gradient(circle at 90% 0%, rgba(234,179,8,.12) 0%, rgba(0,0,0,0) 40%),
                                   linear-gradient(180deg,var(--bg) 0%, var(--bg2) 100%);
             color:var(--txt); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;}

    .wrap{max-width:980px;margin:0 auto;padding:28px 16px 80px;}
    .topbar{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:18px;}
    .brand{display:flex;align-items:center;gap:10px;}
    .badge{
      display:inline-flex;align-items:center;gap:8px;
      background:linear-gradient(90deg, rgba(234,179,8,.20), rgba(56,189,248,.10));
      border:1px solid var(--border);
      padding:8px 12px;border-radius:999px;
      box-shadow:0 10px 25px rgba(0,0,0,.35);
      font-weight:700;
      letter-spacing:.2px;
    }
    .badge svg{width:18px;height:18px}
    .lang{
      display:flex;align-items:center;gap:8px;
      background:rgba(255,255,255,.05);
      border:1px solid var(--border);
      border-radius:999px;
      padding:6px;
    }
    .lang button{
      border:0; cursor:pointer;
      padding:8px 10px;border-radius:999px;
      font-weight:800; letter-spacing:.3px;
      background:transparent; color:var(--muted);
    }
    .lang button.active{
      background:rgba(234,179,8,.22);
      color:var(--txt);
      box-shadow:inset 0 0 0 1px rgba(234,179,8,.35);
    }

    .hero{
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.04));
      border:1px solid var(--border);
      border-radius:var(--radius);
      padding:18px 18px 14px;
      box-shadow:var(--shadow);
    }
    h1{margin:0 0 8px;font-size:1.55rem;line-height:1.2}
    .sub{margin:0;color:var(--muted);line-height:1.55}

    .grid{display:grid;grid-template-columns:1.2fr .8fr;gap:14px;margin-top:14px;}
    @media (max-width:900px){.grid{grid-template-columns:1fr;}}

    .card{
      background:rgba(255,255,255,.05);
      border:1px solid var(--border);
      border-radius:var(--radius);
      padding:16px;
      box-shadow:0 14px 35px rgba(0,0,0,.35);
    }
    .card h2{margin:0 0 10px;font-size:1.05rem;color:var(--gold);display:flex;align-items:center;gap:10px;}
    .card h2 svg{width:18px;height:18px}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:flex-end;}
    label{display:block;font-size:.88rem;color:var(--muted);margin:0 0 6px;}
    input, select{
      width:100%;
      padding:11px 12px;
      border-radius:12px;
      border:1px solid rgba(148,163,184,.35);
      background:rgba(2,6,23,.55);
      color:var(--txt);
      outline:none;
    }
    input:focus, select:focus{border-color:rgba(56,189,248,.6); box-shadow:0 0 0 4px rgba(56,189,248,.12);}
    .field{flex:1;min-width:220px;}
    .field.small{max-width:260px;min-width:200px;}

    .btn{
      border:0; cursor:pointer;
      padding:11px 14px;
      border-radius:12px;
      font-weight:900;
      letter-spacing:.2px;
      display:inline-flex;align-items:center;gap:10px;
      box-shadow:0 10px 22px rgba(0,0,0,.35);
      user-select:none;
    }
    .btn svg{width:18px;height:18px}
    .btn.gold{background:linear-gradient(90deg, rgba(234,179,8,.95), rgba(234,179,8,.65)); color:#111;}
    .btn.blue{background:linear-gradient(90deg, rgba(56,189,248,.95), rgba(56,189,248,.65)); color:#071019;}
    .btn.pink{background:linear-gradient(90deg, rgba(244,114,182,.95), rgba(244,114,182,.65)); color:#160710;}
    .btn.dark{background:rgba(255,255,255,.06); color:var(--txt); border:1px solid var(--border); box-shadow:none;}
    .btn:disabled{opacity:.45; cursor:not-allowed;}

    .hint{
      margin-top:10px;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(248,113,113,.45);
      background:rgba(248,113,113,.08);
      color:rgba(248,113,113,.95);
      line-height:1.5;
      font-weight:700;
    }
    .mini{font-weight:600;color:var(--muted);font-size:.9rem;line-height:1.55;margin-top:8px;}
    .mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:.95rem;
      padding:10px 12px;
      background:rgba(2,6,23,.55);
      border:1px solid rgba(148,163,184,.28);
      border-radius:12px;
      overflow:auto;
      word-break:break-all;
    }

    .result{
      margin-top:14px;
      display:none;
      border-radius:16px;
      border:1px solid rgba(56,189,248,.35);
      background:rgba(56,189,248,.08);
      padding:14px;
    }
    .result .title{display:flex;align-items:center;justify-content:space-between;gap:12px;}
    .result .title strong{color:var(--txt);}
    .result .title .ok{color:rgba(52,211,153,.95);font-weight:900;display:flex;align-items:center;gap:8px;}
    .result .title .ok svg{width:18px;height:18px}

    .sharegrid{
      display:grid;
      grid-template-columns:repeat(2,minmax(160px,1fr));
      gap:10px;
      margin-top:12px;
    }
    @media (max-width:520px){.sharegrid{grid-template-columns:1fr;}}
    .sharegrid a{
      text-decoration:none;
      border-radius:14px;
      padding:12px 12px;
      display:flex;align-items:center;justify-content:center;gap:10px;
      font-weight:900;
      border:1px solid rgba(255,255,255,.10);
      color:#0b1220;
      box-shadow:0 10px 20px rgba(0,0,0,.28);
      user-select:none;
    }
    .sharegrid svg{width:18px;height:18px}

    .a-wa{background:#25D366;color:#001b0c;}
    .a-tg{background:#0088cc;color:#001018;}
    .a-mail{background:#facc15;color:#111;}
    .a-fb{background:#1877f2;color:#071019;}
    .a-x{background:#000;color:#fff;border-color:rgba(255,255,255,.22);}
    .a-li{background:#0a66c2;color:#041427;}

    .footerNote{
      margin-top:14px;
      border-top:1px solid rgba(148,163,184,.22);
      padding-top:12px;
      color:var(--muted);
      line-height:1.6;
      font-size:.95rem;
    }

    .toggleRow{display:flex;align-items:center;gap:10px;margin-top:10px;flex-wrap:wrap;}
    .switch{
      display:flex;align-items:center;gap:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(148,163,184,.25);
      background:rgba(255,255,255,.04);
    }
    .switch input{width:auto; transform:scale(1.15);}

    .smallprint{font-size:.86rem;color:var(--muted);line-height:1.55;margin-top:10px;}
    .hr{height:1px;background:rgba(148,163,184,.18);margin:14px 0;}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="badge">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path fill="currentColor" d="M12 2l7 4v6c0 5-3.5 9.5-7 10-3.5-.5-7-5-7-10V6l7-4Zm0 2.2L7 6.9v5.3c0 3.9 2.4 7.3 5 7.9 2.6-.6 5-4 5-7.9V6.9l-5-2.7Z"/>
          </svg>
          <span data-i18n="brand">LiquidityBooster • Unikat-URL</span>
        </div>
      </div>

      <div class="lang" aria-label="Language toggle">
        <button type="button" class="active" id="btnDE">DE</button>
        <button type="button" id="btnEN">EN</button>
      </div>
    </div>

    <div class="hero">
      <h1 data-i18n="h1">Erzeuge deinen persönlichen Empfehlungslink</h1>
      <p class="sub" data-i18n="sub">
        Diese Seite zeigt das Prinzip „Unikat-URL“ ohne Subdomain: ein stabiler Partner-Code im Link (ref=...), der später im Shop zur Zuordnung genutzt wird.
      </p>

      <div class="grid">
        <!-- LEFT -->
        <div class="card">
          <h2>
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2Zm1 5v5.2l3.6 2.1-.9 1.5L11 13V7h2Z"/>
            </svg>
            <span data-i18n="step1">1) Link bauen</span>
          </h2>

          <div class="row">
            <div class="field">
              <label for="baseDomain" data-i18n="baseDomainLabel">Hauptdomain</label>
              <input id="baseDomain" type="text" value="https://liquiditybooster.de" />
              <div class="smallprint" data-i18n="baseDomainHint">
                Tipp: Wenn du das später im Club einbaust, bleibt das normalerweise fest auf liquiditybooster.de.
              </div>
            </div>

            <div class="field small">
              <label for="mode" data-i18n="modeLabel">Link-Variante</label>
              <select id="mode">
                <option value="query" data-i18n="modeQuery">Parameter (?ref=CODE)</option>
                <option value="path" data-i18n="modePath">Pfad (/r/CODE)</option>
              </select>
            </div>
          </div>

          <div class="hr"></div>

          <div class="row">
            <div class="field">
              <label for="refCode" data-i18n="refLabel">Dein Partner-Code (ref)</label>
              <input id="refCode" type="text" placeholder="z. B. MB-8K3Q2" autocomplete="off" />
              <div class="mini" data-i18n="refHint">
                Im echten System kommt dieser Code aus dem Club-Profil (Backend). Hier kannst du ihn testweise eingeben.
              </div>
            </div>

            <button class="btn gold" id="genBtn" type="button">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path fill="currentColor" d="M12 5a1 1 0 0 1 1 1v5h5a1 1 0 1 1 0 2h-5v5a1 1 0 1 1-2 0v-5H6a1 1 0 1 1 0-2h5V6a1 1 0 0 1 1-1Z"/>
              </svg>
              <span data-i18n="gen">Link erzeugen</span>
            </button>
          </div>

          <div class="toggleRow">
            <div class="switch">
              <input id="rememberToggle" type="checkbox" />
              <label for="rememberToggle" style="margin:0" data-i18n="remember">
                Partner-Code in diesem Browser merken (LocalStorage)
              </label>
            </div>
            <button class="btn dark" id="clearBtn" type="button">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path fill="currentColor" d="M9 3a1 1 0 0 0-1 1v1H5a1 1 0 1 0 0 2h1l1.1 13.1A2 2 0 0 0 9.1 22h5.8a2 2 0 0 0 2-1.9L18 7h1a1 1 0 1 0 0-2h-3V4a1 1 0 0 0-1-1H9Zm1 2h4v0H10v0Zm-1 4a1 1 0 0 1 1 1v8a1 1 0 1 1-2 0v-8a1 1 0 0 1 1-1Zm6 0a1 1 0 0 1 1 1v8a1 1 0 1 1-2 0v-8a1 1 0 0 1 1-1Z"/>
              </svg>
              <span data-i18n="clear">Merken löschen</span>
            </button>
          </div>

          <div class="hint" id="warnBox" style="display:none;">
            <span data-i18n="warnText">
              Hinweis: Ohne Partner-Code kann kein Empfehlungslink gebaut werden.
            </span>
          </div>

          <div class="result" id="resultBox" aria-live="polite">
            <div class="title">
              <div>
                <strong data-i18n="resultTitle">Dein persönlicher Link</strong>
                <div class="mini" data-i18n="resultSub">Kopieren, testen, dann teilen.</div>
              </div>
              <div class="ok">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path fill="currentColor" d="M9.2 16.6 4.9 12.3l1.4-1.4 2.9 2.9 8.5-8.5 1.4 1.4-9.9 9.9Z"/>
                </svg>
                <span data-i18n="ready">bereit</span>
              </div>
            </div>

            <div class="mono" id="finalLink"></div>

            <div class="row" style="margin-top:10px;">
              <button class="btn blue" id="copyBtn" type="button">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path fill="currentColor" d="M8 7a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2V7Zm2 0v10h8V7h-8ZM4 9a2 2 0 0 1 2-2h1a1 1 0 1 1 0 2H6v10h8v-1a1 1 0 1 1 2 0v1a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9Z"/>
                </svg>
                <span data-i18n="copy">Kopieren</span>
              </button>

              <button class="btn pink" id="shareBtn" type="button">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path fill="currentColor" d="M18 16a3 3 0 0 0-2.4 1.2l-6.2-3.1a3 3 0 0 0 0-1.9l6.2-3.1A3 3 0 1 0 15 7a3 3 0 0 0 .1.7L9 10.8a3 3 0 1 0 0 2.4l6.1 3.1c0 .2-.1.5-.1.7a3 3 0 1 0 3-3Z"/>
                </svg>
                <span data-i18n="share">Teilen</span>
              </button>

              <button class="btn dark" id="openBtn" type="button">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path fill="currentColor" d="M14 3a1 1 0 1 1 0 2h3.6l-6.8 6.8a1 1 0 0 1-1.4-1.4L16.2 5H14Zm-9 4a2 2 0 0 1 2-2h4a1 1 0 1 1 0 2H7v12h12v-4a1 1 0 1 1 2 0v4a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V7Z"/>
                </svg>
                <span data-i18n="open">Öffnen</span>
              </button>
            </div>

            <div class="sharegrid">
              <a class="a-wa" id="waLink" target="_blank" rel="noopener">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path fill="currentColor" d="M12 2a10 10 0 0 0-8.6 15.1L2 22l5-1.3A10 10 0 1 0 12 2Zm0 18a8 8 0 0 1-4.1-1.1l-.3-.2-2.9.8.8-2.8-.2-.3A8 8 0 1 1 12 20Zm4.5-5.2c-.2-.1-1.3-.6-1.5-.7-.2-.1-.4-.1-.5.1-.2.2-.6.7-.7.8-.1.1-.2.2-.4.1-1.6-.8-2.7-1.8-3.5-3.4-.1-.2 0-.3.1-.4l.5-.6c.1-.1.2-.3.1-.5l-.7-1.6c-.1-.2-.2-.3-.4-.3h-.4c-.1 0-.3.1-.4.2-.5.5-.8 1.1-.8 1.8 0 .8.3 1.6.8 2.4 1 1.6 2.6 3 4.5 3.8.7.3 1.3.5 1.8.5.6 0 1.2-.2 1.6-.6.4-.3.6-.8.7-1.2.1-.2.1-.3-.1-.4Z"/>
                </svg>
                <span data-i18n="wa">WhatsApp</span>
              </a>

              <a class="a-tg" id="tgLink" target="_blank" rel="noopener">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path fill="currentColor" d="M21.6 4.6c.3-1.2-.9-2.2-2-1.7L3.3 9.4c-1.1.5-1 2.1.2 2.4l4.3 1.3 1.6 5c.4 1.2 2 1.4 2.7.5l2.5-3.1 4.4 3.2c1 .7 2.3.2 2.6-1l2-12.9ZM8.7 12.4l9.8-6.2-7.7 7.5-.3 3.2-1.2-3.6-3.3-1Z"/>
                </svg>
                <span data-i18n="tg">Telegram</span>
              </a>

              <a class="a-mail" id="mailLink" target="_blank" rel="noopener">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path fill="currentColor" d="M4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm2 0 6 5 6-5H6Zm12 2.4-6 5-6-5V18h12V8.4Z"/>
                </svg>
                <span data-i18n="mail">E-Mail</span>
              </a>

              <a class="a-fb" id="fbLink" target="_blank" rel="noopener">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path fill="currentColor" d="M13 22v-8h3l1-4h-4V7c0-1 .3-2 2-2h2V1h-3c-3 0-5 2-5 6v3H8v4h3v8h2Z"/>
                </svg>
                <span data-i18n="fb">Facebook</span>
              </a>

              <a class="a-x" id="xLink" target="_blank" rel="noopener">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path fill="currentColor" d="M18.9 2H22l-6.8 7.8L23 22h-6.8l-5.3-6.9L4.9 22H2l7.3-8.4L1 2h7l4.8 6.3L18.9 2Zm-2.4 18h1.9L7.7 3.9H5.6L16.5 20Z"/>
                </svg>
                <span data-i18n="x">X</span>
              </a>

              <a class="a-li" id="liLink" target="_blank" rel="noopener">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path fill="currentColor" d="M6 6.5A2.5 2.5 0 1 1 6 1.5a2.5 2.5 0 0 1 0 5ZM2 22h4V8H2v14Zm7 0h4v-7.2c0-1.9.4-3.7 2.8-3.7 2.4 0 2.4 2.2 2.4 3.8V22h4v-8c0-3.9-.8-6.9-5.4-6.9-2.2 0-3.7 1.2-4.3 2.3h-.1V8H9v14Z"/>
                </svg>
                <span data-i18n="li">LinkedIn</span>
              </a>
            </div>

            <div class="footerNote" data-i18n="foot">
              Hinweis: Diese Demo erzeugt nur den Link. Die echte Zuordnung passiert serverseitig im Shop/Club (Cookie/Session + Order-Zuordnung).
            </div>
          </div>
        </div>

        <!-- RIGHT -->
        <div class="card">
          <h2>
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm1 14h-2v-2h2v2Zm0-4h-2V6h2v6Z"/>
            </svg>
            <span data-i18n="how">So arbeitet es (kurz)</span>
          </h2>

          <div class="mini" data-i18n="how1">
            1) Partner teilt einen Link mit <strong>ref</strong>-Code (ohne Subdomain).
          </div>
          <div class="mini" data-i18n="how2">
            2) Besucher kommt über den Link → System merkt sich ref (Cookie/Session).
          </div>
          <div class="mini" data-i18n="how3">
            3) Beim Checkout wird ref automatisch an die Bestellung gehängt → Zuordnung & Provision möglich.
          </div>

          <div class="hr"></div>

          <h2>
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M7 2h10a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2Zm0 2v16h10V4H7Zm2 3h6v2H9V7Zm0 4h6v2H9v-2Zm0 4h6v2H9v-2Z"/>
            </svg>
            <span data-i18n="mentor">Mentor-Tipps</span>
          </h2>

          <ul style="margin:8px 0 0 18px; color:var(--txt); line-height:1.65;">
            <li data-i18n="t1">Nimm immer denselben Link (stabiler ref-Code).</li>
            <li data-i18n="t2">Teste den Link einmal selbst (öffnet er korrekt?).</li>
            <li data-i18n="t3">Teile bevorzugt per WhatsApp/Telegram als Kurztext + Link.</li>
            <li data-i18n="t4">Wichtig: Die echte Zuordnung muss im Shop/Club serverseitig gespeichert werden.</li>
          </ul>

          <div class="hr"></div>

          <div class="mini" data-i18n="embed">
            Einbau im Club: Du verlinkst in jedem Mitgliedskonto einfach auf diese Seite (unikat-url.html). Partner kopieren ihren Code aus dem Profil und erzeugen den Link hier.
          </div>

          <div class="smallprint" data-i18n="note">
            Optional (später): Der ref-Code kann automatisch aus dem eingeloggten Club-Profil eingesetzt werden – dann ist kein Copy/Paste mehr nötig.
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const I18N = {
      de: {
        brand: "LiquidityBooster • Unikat-URL",
        h1: "Erzeuge deinen persönlichen Empfehlungslink",
        sub: "Diese Seite zeigt das Prinzip „Unikat-URL“ ohne Subdomain: ein stabiler Partner-Code im Link (ref=...), der später im Shop zur Zuordnung genutzt wird.",
        step1: "1) Link bauen",
        baseDomainLabel: "Hauptdomain",
        baseDomainHint: "Tipp: Wenn du das später im Club einbaust, bleibt das normalerweise fest auf liquiditybooster.de.",
        modeLabel: "Link-Variante",
        modeQuery: "Parameter (?ref=CODE)",
        modePath: "Pfad (/r/CODE)",
        refLabel: "Dein Partner-Code (ref)",
        refHint: "Im echten System kommt dieser Code aus dem Club-Profil (Backend). Hier kannst du ihn testweise eingeben.",
        gen: "Link erzeugen",
        remember: "Partner-Code in diesem Browser merken (LocalStorage)",
        clear: "Merken löschen",
        warnText: "Hinweis: Ohne Partner-Code kann kein Empfehlungslink gebaut werden.",
        resultTitle: "Dein persönlicher Link",
        resultSub: "Kopieren, testen, dann teilen.",
        ready: "bereit",
        copy: "Kopieren",
        share: "Teilen",
        open: "Öffnen",
        wa: "WhatsApp",
        tg: "Telegram",
        mail: "E-Mail",
        fb: "Facebook",
        x: "X",
        li: "LinkedIn",
        foot: "Hinweis: Diese Demo erzeugt nur den Link. Die echte Zuordnung passiert serverseitig im Shop/Club (Cookie/Session + Order-Zuordnung).",
        how: "So arbeitet es (kurz)",
        how1: "1) Partner teilt einen Link mit ref-Code (ohne Subdomain).",
        how2: "2) Besucher kommt über den Link → System merkt sich ref (Cookie/Session).",
        how3: "3) Beim Checkout wird ref automatisch an die Bestellung gehängt → Zuordnung & Provision möglich.",
        mentor: "Mentor-Tipps",
        t1: "Nimm immer denselben Link (stabiler ref-Code).",
        t2: "Teste den Link einmal selbst (öffnet er korrekt?).",
        t3: "Teile bevorzugt per WhatsApp/Telegram als Kurztext + Link.",
        t4: "Wichtig: Die echte Zuordnung muss im Shop/Club serverseitig gespeichert werden.",
        embed: "Einbau im Club: Du verlinkst in jedem Mitgliedskonto einfach auf diese Seite (unikat-url.html). Partner kopieren ihren Code aus dem Profil und erzeugen den Link hier.",
        note: "Optional (später): Der ref-Code kann automatisch aus dem eingeloggten Club-Profil eingesetzt werden – dann ist kein Copy/Paste mehr nötig."
      },
      en: {
        brand: "LiquidityBooster • Unique URL",
        h1: "Generate your personal referral link",
        sub: "This page demonstrates the “unique URL” principle without subdomains: a stable partner code in the link (ref=...), later used by the shop for attribution.",
        step1: "1) Build the link",
        baseDomainLabel: "Main domain",
        baseDomainHint: "Tip: When embedded in the club, this normally stays fixed to liquiditybooster.de.",
        modeLabel: "Link style",
        modeQuery: "Query (?ref=CODE)",
        modePath: "Path (/r/CODE)",
        refLabel: "Your partner code (ref)",
        refHint: "In production, this code comes from the club profile (backend). Here you can enter it for testing.",
        gen: "Generate link",
        remember: "Remember partner code in this browser (LocalStorage)",
        clear: "Clear saved",
        warnText: "Note: A partner code is required to build a referral link.",
        resultTitle: "Your personal link",
        resultSub: "Copy, test, then share.",
        ready: "ready",
        copy: "Copy",
        share: "Share",
        open: "Open",
        wa: "WhatsApp",
        tg: "Telegram",
        mail: "Email",
        fb: "Facebook",
        x: "X",
        li: "LinkedIn",
        foot: "Note: This demo only creates the link. Real attribution must happen server-side in the shop/club (cookie/session + order attribution).",
        how: "How it works (short)",
        how1: "1) Partner shares a link containing a ref code (no subdomain).",
        how2: "2) Visitor arrives via the link → system stores ref (cookie/session).",
        how3: "3) During checkout, ref is attached to the order automatically → attribution & commissions are possible.",
        mentor: "Mentor tips",
        t1: "Use one stable link (same ref code).",
        t2: "Test the link once yourself (does it open correctly?).",
        t3: "Prefer WhatsApp/Telegram: short text + link.",
        t4: "Important: real attribution must be stored server-side in the shop/club.",
        embed: "Club embedding: simply link each member account to this page (unikat-url.html). Partners copy their code from the profile and generate the link here.",
        note: "Optional (later): auto-fill the ref code from the logged-in club profile—no copy/paste needed."
      }
    };

    let LANG = "de";

    function setLang(lang){
      LANG = (lang === "en") ? "en" : "de";
      document.documentElement.lang = LANG;
      document.getElementById("btnDE").classList.toggle("active", LANG === "de");
      document.getElementById("btnEN").classList.toggle("active", LANG === "en");

      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const key = el.getAttribute("data-i18n");
        if(I18N[LANG][key]) el.innerHTML = I18N[LANG][key];
      });
    }

    const LS_KEY = "lb_unikat_refcode_v1";

    function normalizeDomain(s){
      s = (s || "").trim();
      if(!s) return "";
      if(!/^https?:\/\//i.test(s)) s = "https://" + s;
      s = s.replace(/\/+$/,"");
      return s;
    }

    function sanitizeRef(s){
      s = (s || "").trim();
      s = s.replace(/\s+/g,"");
      s = s.replace(/[^a-zA-Z0-9\-_.]/g,"");
      return s;
    }

    function buildLink(base, mode, ref){
      const b = normalizeDomain(base);
      const r = sanitizeRef(ref);
      if(!b || !r) return "";
      if(mode === "path"){
        return b + "/r/" + encodeURIComponent(r);
      }
      return b + "/?ref=" + encodeURIComponent(r);
    }

    function updateShareTargets(url){
      const msgDE = "Mein Empfehlungslink: " + url;
      const msgEN = "My referral link: " + url;
      const msg = (LANG === "en") ? msgEN : msgDE;

      const encMsg = encodeURIComponent(msg);
      const encUrl = encodeURIComponent(url);

      document.getElementById("waLink").href = "https://wa.me/?text=" + encMsg;
      document.getElementById("tgLink").href = "https://t.me/share/url?url=" + encUrl + "&text=" + encMsg;
      document.getElementById("mailLink").href = "mailto:?subject=" + encodeURIComponent("Referral link") + "&body=" + encMsg;
      document.getElementById("fbLink").href = "https://www.facebook.com/sharer/sharer.php?u=" + encUrl;
      document.getElementById("xLink").href = "https://twitter.com/intent/tweet?url=" + encUrl + "&text=" + encMsg;
      document.getElementById("liLink").href = "https://www.linkedin.com/shareArticle?mini=true&url=" + encUrl + "&title=" + encodeURIComponent("Referral link") + "&summary=" + encMsg;
    }

    function showWarning(show){
      document.getElementById("warnBox").style.display = show ? "block" : "none";
    }

    function showResult(url){
      document.getElementById("finalLink").textContent = url;
      document.getElementById("resultBox").style.display = "block";
      updateShareTargets(url);
    }

    function hideResult(){
      document.getElementById("resultBox").style.display = "none";
      document.getElementById("finalLink").textContent = "";
    }

    document.getElementById("btnDE").addEventListener("click", ()=>setLang("de"));
    document.getElementById("btnEN").addEventListener("click", ()=>setLang("en"));

    document.getElementById("genBtn").addEventListener("click", ()=>{
      const base = document.getElementById("baseDomain").value;
      const mode = document.getElementById("mode").value;
      const ref = document.getElementById("refCode").value;

      const refSan = sanitizeRef(ref);
      if(!refSan){
        showWarning(true);
        hideResult();
        return;
      }

      showWarning(false);

      const remember = document.getElementById("rememberToggle").checked;
      if(remember){
        localStorage.setItem(LS_KEY, refSan);
      }else{
        localStorage.removeItem(LS_KEY);
      }

      const url = buildLink(base, mode, refSan);
      if(!url){
        showWarning(true);
        hideResult();
        return;
      }
      showResult(url);
    });

    document.getElementById("copyBtn").addEventListener("click", async ()=>{
      const url = document.getElementById("finalLink").textContent.trim();
      if(!url) return;
      try{
        await navigator.clipboard.writeText(url);
        alert(LANG === "en" ? "✅ Link copied!" : "✅ Link kopiert!");
      }catch(e){
        const ta = document.createElement("textarea");
        ta.value = url;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        alert(LANG === "en" ? "✅ Link copied!" : "✅ Link kopiert!");
      }
    });

    document.getElementById("shareBtn").addEventListener("click", async ()=>{
      const url = document.getElementById("finalLink").textContent.trim();
      if(!url) return;

      const title = (LANG === "en") ? "My referral link" : "Mein Empfehlungslink";
      const text  = (LANG === "en") ? "Here is my personal referral link:" : "Hier ist mein persönlicher Empfehlungslink:";

      if(navigator.share){
        try{
          await navigator.share({ title, text, url });
        }catch(e){}
      }else{
        alert(LANG === "en" ? "Use the buttons below to share." : "Nutze die Buttons unten zum Teilen.");
      }
    });

    document.getElementById("openBtn").addEventListener("click", ()=>{
      const url = document.getElementById("finalLink").textContent.trim();
      if(!url) return;
      window.open(url, "_blank", "noopener");
    });

    document.getElementById("clearBtn").addEventListener("click", ()=>{
      localStorage.removeItem(LS_KEY);
      document.getElementById("rememberToggle").checked = false;
      alert(LANG === "en" ? "Saved code removed." : "Gespeicherter Code gelöscht.");
    });

    (function init(){
      const qs = new URLSearchParams(window.location.search);
      const qLang = (qs.get("lang") || "").toLowerCase();
      if(qLang === "en") setLang("en"); else setLang("de");

      const qRef = qs.get("ref");
      if(qRef){
        document.getElementById("refCode").value = sanitizeRef(qRef);
      }else{
        const saved = localStorage.getItem(LS_KEY);
        if(saved){
          document.getElementById("refCode").value = sanitizeRef(saved);
        }
      }
    })();
  </script>
</body>
</html>
