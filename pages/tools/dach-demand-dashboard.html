<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DACH Demand Dashboard – FSA Tools</title>
  <meta name="description" content="DACH Demand Dashboard: Bedarf nach Entschuldung & finanzieller Souveränität – Index, Treiber, Prognose, Pitch + Zielgruppen." />
  <meta name="robots" content="noindex,nofollow" />

  <style>
    :root{
      --bg:#050814;
      --bg2:#020617;
      --panel:rgba(15,23,42,.90);
      --panel2:rgba(15,23,42,.78);
      --txt:#e9eef7;
      --muted:#a9b4c7;
      --gold:#d4af37;
      --gold2:#f2d37a;
      --line:rgba(212,175,55,.34);
      --shadow:0 24px 60px rgba(0,0,0,.55);
      --glow:0 0 26px rgba(212,175,55,.22), 0 18px 44px rgba(0,0,0,.55);
      --blueGlow:radial-gradient(900px 520px at 72% 18%, rgba(94,168,255,.16), transparent 60%);
      --goldGlow:radial-gradient(900px 520px at 22% 12%, rgba(212,175,55,.16), transparent 60%);
      --radius:18px;
      --maxw:1200px;

      --good:#33d17a;
      --warn:#f9c74f;
      --bad:#ff5c5c;
    }

    *{box-sizing:border-box}
    html,body{
      margin:0; padding:0;
      background:linear-gradient(180deg, var(--bg), var(--bg2));
      color:var(--txt);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      overflow-x:hidden;
    }

    .bg{
      min-height:100vh;
      position:relative;
      padding:26px 16px 34px;
      background:
        var(--goldGlow),
        var(--blueGlow),
        linear-gradient(180deg, var(--bg), var(--bg2));
    }

    .wrap{
      width:100%;
      max-width:var(--maxw);
      margin:0 auto;
    }

    .topbar{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
      padding:14px 14px 10px;
      border:1px solid var(--line);
      border-radius:var(--radius);
      background:linear-gradient(180deg, rgba(15,23,42,.78), rgba(15,23,42,.58));
      box-shadow:var(--shadow);
    }

    .brand{
      display:flex;
      flex-direction:column;
      gap:6px;
      min-width:240px;
    }

    .title{
      margin:0;
      font-size:22px;
      letter-spacing:.2px;
      line-height:1.15;
    }

    .sub{
      margin:0;
      color:var(--muted);
      font-size:13px;
      line-height:1.35;
    }

    .actions{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
      padding-top:2px;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid var(--line);
      background:rgba(0,0,0,.30);
      box-shadow:var(--glow);
      user-select:none;
    }

    .langBtn{
      display:inline-flex;
      gap:0;
      border-radius:999px;
      overflow:hidden;
      border:1px solid var(--line);
      background:rgba(0,0,0,.35);
      box-shadow:var(--glow);
    }
    .langBtn button{
      appearance:none;
      border:0;
      background:transparent;
      color:var(--txt);
      padding:10px 12px;
      font-weight:700;
      letter-spacing:.2px;
      cursor:pointer;
    }
    .langBtn button.active{
      background:linear-gradient(180deg, rgba(212,175,55,.24), rgba(212,175,55,.10));
      color:var(--gold2);
    }

    .btn{
      appearance:none;
      border:1px solid var(--line);
      background:linear-gradient(180deg, rgba(212,175,55,.18), rgba(0,0,0,.35));
      color:var(--txt);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      box-shadow:var(--glow);
      font-weight:700;
      letter-spacing:.2px;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .btn:hover{filter:brightness(1.05)}
    .btn:active{transform:translateY(1px)}
    .btn.secondary{
      background:rgba(0,0,0,.30);
      box-shadow:none;
    }

    .grid{
      margin-top:14px;
      display:grid;
      grid-template-columns: 1.05fr 1.65fr;
      gap:14px;
    }

    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
      .actions{justify-content:flex-start}
    }

    .card{
      border:1px solid var(--line);
      border-radius:var(--radius);
      background:linear-gradient(180deg, rgba(15,23,42,.86), rgba(15,23,42,.62));
      box-shadow:var(--shadow);
      overflow:hidden;
    }

    .cardHead{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:12px 14px;
      border-bottom:1px solid rgba(212,175,55,.18);
      background:rgba(0,0,0,.18);
    }

    .cardTitle{
      margin:0;
      font-size:14px;
      letter-spacing:.22px;
      text-transform:uppercase;
      color:var(--gold2);
    }

    .cardBody{
      padding:14px;
    }

    .gaugeWrap{
      display:flex;
      gap:14px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }

    .gauge{
      width:280px;
      height:280px;
      display:grid;
      place-items:center;
      position:relative;
      border-radius:16px;
      background:rgba(0,0,0,.20);
      border:1px solid rgba(212,175,55,.20);
      box-shadow:var(--glow);
    }

    .gauge svg{width:250px;height:250px}
    .gaugeCenter{
      position:absolute;
      inset:0;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:6px;
      text-align:center;
      pointer-events:none;
    }

    .scoreLabel{
      font-weight:800;
      letter-spacing:.6px;
      text-transform:uppercase;
      font-size:12px;
      color:var(--gold2);
      opacity:.95;
    }

    .scoreValue{
      font-size:64px;
      font-weight:900;
      line-height:1;
      margin-top:2px;
      text-shadow:0 10px 30px rgba(0,0,0,.55);
    }

    .scoreBand{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:center;
      color:var(--muted);
      font-weight:800;
      letter-spacing:.25px;
      text-transform:uppercase;
      font-size:12px;
    }

    .bandDot{
      width:10px;height:10px;border-radius:999px;
      background:rgba(255,255,255,.35);
      border:1px solid rgba(212,175,55,.25);
      box-shadow:0 0 12px rgba(212,175,55,.20);
    }

    .kv{
      flex:1;
      min-width:280px;
      display:grid;
      grid-template-columns:1fr;
      gap:10px;
    }

    .kvRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(212,175,55,.18);
      background:rgba(0,0,0,.18);
    }
    .kvRow .k{
      color:var(--muted);
      font-size:13px;
      line-height:1.2;
    }
    .kvRow .v{
      font-weight:900;
      letter-spacing:.2px;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(212,175,55,.22);
      background:rgba(0,0,0,.25);
      color:var(--muted);
      font-weight:900;
      letter-spacing:.18px;
      text-transform:uppercase;
      font-size:12px;
      white-space:nowrap;
    }

    .badge .dot{
      width:10px;height:10px;border-radius:999px;
      background:rgba(255,255,255,.3);
      border:1px solid rgba(255,255,255,.18);
      box-shadow:0 0 10px rgba(255,255,255,.12);
    }
    .dot.good{background:rgba(51,209,122,.85); box-shadow:0 0 16px rgba(51,209,122,.25)}
    .dot.warn{background:rgba(249,199,79,.9); box-shadow:0 0 16px rgba(249,199,79,.22)}
    .dot.bad{background:rgba(255,92,92,.9); box-shadow:0 0 16px rgba(255,92,92,.22)}

    .trendSvg{
      width:100%;
      height:260px;
      display:block;
      border-radius:14px;
      border:1px solid rgba(212,175,55,.18);
      background:rgba(0,0,0,.16);
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.02);
    }

    .legend{
      margin-top:10px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .legItem{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(212,175,55,.18);
      background:rgba(0,0,0,.18);
      color:var(--muted);
      font-weight:800;
      letter-spacing:.15px;
      font-size:12px;
    }
    .swatch{
      width:14px;height:14px;border-radius:4px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(255,255,255,.18);
      box-shadow:0 0 12px rgba(0,0,0,.35);
    }
    .swatch.base{background:rgba(212,175,55,.70)}
    .swatch.stress{background:rgba(255,92,92,.75)}
    .swatch.recover{background:rgba(51,209,122,.70)}

    .split{
      margin-top:14px;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:14px;
    }
    @media (max-width: 980px){
      .split{grid-template-columns:1fr}
    }

    .countryGrid{
      display:grid;
      grid-template-columns:repeat(3, 1fr);
      gap:12px;
    }
    @media (max-width: 860px){
      .countryGrid{grid-template-columns:1fr}
    }

    .countryCard{
      border:1px solid rgba(212,175,55,.18);
      background:rgba(0,0,0,.16);
      border-radius:16px;
      padding:12px 12px;
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.02);
      display:flex;
      flex-direction:column;
      gap:8px;
      min-height:112px;
    }

    .countryTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }

    .countryName{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:900;
      letter-spacing:.2px;
      text-transform:uppercase;
    }

    .flag{
      width:28px;height:20px;
      border-radius:4px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.18);
      box-shadow:0 0 12px rgba(0,0,0,.35);
      flex:0 0 auto;
    }
    .flag svg{width:100%;height:100%;display:block}

    .countryScore{
      font-weight:900;
      font-size:20px;
      letter-spacing:.2px;
      color:var(--gold2);
    }

    .countryWhy{
      color:var(--muted);
      font-size:13px;
      line-height:1.35;
    }

    .drivers{
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .driverItem{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(212,175,55,.16);
      background:rgba(0,0,0,.16);
    }

    .driverLeft{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }

    .driverIcon{
      width:18px;height:18px;flex:0 0 auto;
      opacity:.95;
    }

    .driverText{
      font-weight:800;
      letter-spacing:.15px;
      font-size:13px;
      color:var(--txt);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .driverRight{
      display:flex;
      align-items:center;
      gap:10px;
      flex:0 0 auto;
    }

    .delta{
      font-weight:900;
      letter-spacing:.2px;
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(212,175,55,.16);
      background:rgba(0,0,0,.18);
      color:var(--muted);
      text-transform:uppercase;
      white-space:nowrap;
    }

    .delta.up{color:rgba(51,209,122,.95)}
    .delta.down{color:rgba(255,92,92,.95)}
    .delta.flat{color:rgba(249,199,79,.95)}

    .pitchBox{
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .pitchOut{
      border:1px solid rgba(212,175,55,.18);
      border-radius:16px;
      background:rgba(0,0,0,.18);
      padding:12px 12px;
      min-height:148px;
      color:var(--txt);
      line-height:1.45;
      white-space:pre-wrap;
    }

    .pitchTools{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    /* Tabs / Zielgruppen */
    .tabsBar{
      margin-top:14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }

    .tabs{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
    }

    .tabBtn{
      appearance:none;
      border:1px solid rgba(212,175,55,.22);
      background:rgba(0,0,0,.18);
      color:var(--muted);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      font-weight:900;
      letter-spacing:.2px;
      display:inline-flex;
      align-items:center;
      gap:8px;
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.02);
    }
    .tabBtn.active{
      background:linear-gradient(180deg, rgba(212,175,55,.20), rgba(0,0,0,.20));
      color:var(--gold2);
      border-color:rgba(212,175,55,.32);
      box-shadow:var(--glow);
    }

    .audWrap{
      margin-top:12px;
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap:14px;
    }
    @media (max-width: 980px){
      .audWrap{grid-template-columns:1fr}
    }

    .audCard{
      border:1px solid rgba(212,175,55,.18);
      background:rgba(0,0,0,.16);
      border-radius:16px;
      padding:12px 12px;
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.02);
    }

    .audTitle{
      margin:0 0 6px;
      font-size:14px;
      letter-spacing:.18px;
      text-transform:uppercase;
      color:var(--gold2);
      font-weight:900;
    }

    .audLead{
      margin:0 0 10px;
      color:var(--muted);
      font-size:13px;
      line-height:1.45;
    }

    .bul{
      margin:0;
      padding:0;
      list-style:none;
      display:flex;
      flex-direction:column;
      gap:8px;
    }

    .bul li{
      display:flex;
      gap:10px;
      align-items:flex-start;
      padding:10px 10px;
      border-radius:14px;
      border:1px solid rgba(212,175,55,.14);
      background:rgba(0,0,0,.14);
    }

    .bDot{
      width:10px;height:10px;border-radius:999px;
      margin-top:5px;
      background:rgba(242,211,122,.90);
      box-shadow:0 0 12px rgba(212,175,55,.20);
      border:1px solid rgba(0,0,0,.35);
      flex:0 0 auto;
    }

    .bTxt{
      color:var(--txt);
      font-size:13px;
      line-height:1.4;
      font-weight:750;
      letter-spacing:.1px;
    }

    .miniPitch{
      white-space:pre-wrap;
      color:var(--txt);
      line-height:1.45;
      font-size:13px;
    }

    .miniTools{
      margin-top:10px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    .footerRow{
      margin-top:14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      color:var(--muted);
      font-size:12px;
      opacity:.95;
    }

    .mono{
      font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      letter-spacing:.1px;
    }

    @media print{
      body{background:#fff;color:#000}
      .bg{padding:0;background:#fff}
      .topbar{box-shadow:none;border:0;border-radius:0}
      .actions, .pitchTools, .tabsBar, .miniTools{display:none !important}
      .card, .countryCard, .driverItem, .kvRow, .audCard{
        box-shadow:none !important;
        background:#fff !important;
      }
      .card{border:1px solid #bbb}
      .trendSvg{background:#fff;border:1px solid #bbb}
      .cardTitle, .audTitle{color:#000}
      .sub, .k, .countryWhy, .delta, .footerRow, .audLead{color:#333 !important}
      .scoreValue{color:#000;text-shadow:none}
      .badge{border-color:#bbb}
      .btn{display:none !important}
      a{color:#000;text-decoration:none}
    }
  </style>
</head>

<body>
  <div class="bg">
    <div class="wrap">

      <header class="topbar" aria-label="Dashboard Header">
        <div class="brand">
          <h1 class="title" data-i18n="app.title">Bedarf nach Entschuldung & finanzieller Souveränität</h1>
          <p class="sub" data-i18n="app.sub">DACH Index · Treiber · 5-Jahres-Trend · Pitch-Generator (MVP)</p>
        </div>

        <div class="actions">
          <div class="pill" aria-label="Live Status">
            <span class="bandDot" aria-hidden="true"></span>
            <span data-i18n="app.status">Demo-Daten</span>
          </div>

          <div class="langBtn" role="group" aria-label="Language Toggle">
            <button type="button" id="btnDE" class="active">DE</button>
            <button type="button" id="btnEN">EN</button>
          </div>

          <button type="button" class="btn secondary" id="btnRecalc" title="Refresh">
            <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M12 6V3L8 7l4 4V8c2.76 0 5 2.24 5 5a5 5 0 0 1-8.66 3.54l-1.42 1.42A7 7 0 1 0 12 6z"/>
            </svg>
            <span data-i18n="btn.refresh">Neu berechnen</span>
          </button>

          <button type="button" class="btn" id="btnPrint">
            <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M6 9V3h12v6H6zm11-4H7v2h10V5zM6 22v-6h12v6H6zm2-4h8v2H8v-2zM6 10h12a4 4 0 0 1 4 4v4h-4v-3H6v3H2v-4a4 4 0 0 1 4-4z"/>
            </svg>
            <span data-i18n="btn.pdf">PDF Report</span>
          </button>
        </div>
      </header>

      <main class="grid" aria-label="Dashboard Content">

        <!-- LEFT: Gauge + key values -->
        <section class="card">
          <div class="cardHead">
            <h2 class="cardTitle" data-i18n="card.score">DACH Demand Score</h2>
            <span class="badge" id="badgeLevel">
              <span class="dot warn" id="levelDot" aria-hidden="true"></span>
              <span id="levelText" data-i18n="level.high">hoch</span>
            </span>
          </div>

          <div class="cardBody">
            <div class="gaugeWrap">

              <div class="gauge" aria-label="Demand Gauge">
                <svg viewBox="0 0 260 260" role="img" aria-label="Gauge">
                  <defs>
                    <linearGradient id="gradTrack" x1="0" y1="0" x2="1" y2="1">
                      <stop offset="0" stop-color="rgba(255,255,255,.10)"/>
                      <stop offset="1" stop-color="rgba(255,255,255,.03)"/>
                    </linearGradient>
                    <linearGradient id="gradArc" x1="0" y1="0" x2="1" y2="0">
                      <stop offset="0" stop-color="rgba(51,209,122,.95)"/>
                      <stop offset="0.55" stop-color="rgba(249,199,79,.98)"/>
                      <stop offset="1" stop-color="rgba(255,92,92,.98)"/>
                    </linearGradient>
                    <filter id="softGlow" x="-40%" y="-40%" width="180%" height="180%">
                      <feGaussianBlur stdDeviation="3" result="blur"/>
                      <feColorMatrix in="blur" type="matrix"
                        values="1 0 0 0 0
                                0 1 0 0 0
                                0 0 1 0 0
                                0 0 0 .6 0" result="glow"/>
                      <feMerge>
                        <feMergeNode in="glow"/>
                        <feMergeNode in="SourceGraphic"/>
                      </feMerge>
                    </filter>
                  </defs>

                  <circle cx="130" cy="130" r="102" fill="none" stroke="url(#gradTrack)" stroke-width="18" opacity=".55"/>
                  <circle id="arc" cx="130" cy="130" r="102" fill="none" stroke="url(#gradArc)" stroke-width="18"
                          stroke-linecap="round" filter="url(#softGlow)"
                          transform="rotate(-90 130 130)"/>

                  <circle cx="130" cy="130" r="78" fill="rgba(0,0,0,.18)" stroke="rgba(212,175,55,.18)" stroke-width="1.2"/>
                  <line id="needle" x1="130" y1="130" x2="130" y2="48" stroke="rgba(242,211,122,.95)" stroke-width="3.2" stroke-linecap="round"/>
                  <circle cx="130" cy="130" r="6" fill="rgba(242,211,122,.95)" stroke="rgba(0,0,0,.55)" stroke-width="2"/>
                </svg>

                <div class="gaugeCenter">
                  <div class="scoreLabel" data-i18n="score.label">DACH</div>
                  <div class="scoreValue" id="scoreValue">78</div>
                  <div class="scoreBand">
                    <span data-i18n="band.de">hoch</span>
                    <span style="opacity:.35">|</span>
                    <span data-i18n="band.en">high</span>
                  </div>
                </div>
              </div>

              <div class="kv" aria-label="Key Values">
                <div class="kvRow">
                  <div class="k" data-i18n="kv.updated">Stand</div>
                  <div class="v mono" id="kvUpdated">2026-01-31</div>
                </div>

                <div class="kvRow">
                  <div class="k" data-i18n="kv.horizon">Horizont</div>
                  <div class="v" data-i18n="kv.horizon.v">60 Monate</div>
                </div>

                <div class="kvRow">
                  <div class="k" data-i18n="kv.model">Modus</div>
                  <div class="v" data-i18n="kv.model.v">MVP-Szenarien</div>
                </div>

                <div class="kvRow">
                  <div class="k" data-i18n="kv.note">Hinweis</div>
                  <div class="v" data-i18n="kv.note.v">Index = Frühindikatoren</div>
                </div>
              </div>

            </div>
          </div>
        </section>

        <!-- RIGHT: Trend -->
        <section class="card">
          <div class="cardHead">
            <h2 class="cardTitle" data-i18n="card.trend">Trendprognose nächste 5 Jahre</h2>
            <span class="badge">
              <span class="dot warn" aria-hidden="true"></span>
              <span data-i18n="trend.scenarios">Basis · Stress · Erholung</span>
            </span>
          </div>

          <div class="cardBody">
            <svg class="trendSvg" id="trendSvg" viewBox="0 0 1000 260" preserveAspectRatio="none" role="img" aria-label="Trend Chart">
              <defs>
                <linearGradient id="gridFade" x1="0" y1="0" x2="0" y2="1">
                  <stop offset="0" stop-color="rgba(255,255,255,.08)"/>
                  <stop offset="1" stop-color="rgba(255,255,255,.02)"/>
                </linearGradient>
              </defs>

              <rect x="0" y="0" width="1000" height="260" fill="rgba(0,0,0,.10)"/>
              <g opacity=".9">
                <line x1="60" y1="30" x2="980" y2="30" stroke="url(#gridFade)" stroke-width="1"/>
                <line x1="60" y1="90" x2="980" y2="90" stroke="url(#gridFade)" stroke-width="1"/>
                <line x1="60" y1="150" x2="980" y2="150" stroke="url(#gridFade)" stroke-width="1"/>
                <line x1="60" y1="210" x2="980" y2="210" stroke="url(#gridFade)" stroke-width="1"/>
                <line x1="60" y1="30" x2="60" y2="230" stroke="rgba(255,255,255,.08)" stroke-width="1"/>
                <line x1="260" y1="30" x2="260" y2="230" stroke="rgba(255,255,255,.05)" stroke-width="1"/>
                <line x1="460" y1="30" x2="460" y2="230" stroke="rgba(255,255,255,.05)" stroke-width="1"/>
                <line x1="660" y1="30" x2="660" y2="230" stroke="rgba(255,255,255,.05)" stroke-width="1"/>
                <line x1="860" y1="30" x2="860" y2="230" stroke="rgba(255,255,255,.05)" stroke-width="1"/>
              </g>

              <g font-size="12" fill="rgba(233,238,247,.72)" font-weight="800" letter-spacing=".2">
                <text x="60" y="248" text-anchor="start" data-i18n="x.today">Heute</text>
                <text x="260" y="248" text-anchor="middle">+12M</text>
                <text x="460" y="248" text-anchor="middle">+24M</text>
                <text x="660" y="248" text-anchor="middle">+36M</text>
                <text x="860" y="248" text-anchor="middle">+48M</text>
                <text x="980" y="248" text-anchor="end">+60M</text>
              </g>

              <polyline id="lineStress" fill="none" stroke="rgba(255,92,92,.78)" stroke-width="3.2" stroke-linecap="round" stroke-linejoin="round" points=""/>
              <polyline id="lineBase" fill="none" stroke="rgba(212,175,55,.78)" stroke-width="3.2" stroke-linecap="round" stroke-linejoin="round" points=""/>
              <polyline id="lineRecover" fill="none" stroke="rgba(51,209,122,.72)" stroke-width="3.2" stroke-linecap="round" stroke-linejoin="round" points=""/>

              <g font-size="12" fill="rgba(169,180,199,.85)" font-weight="900">
                <text x="18" y="34">100</text>
                <text x="18" y="94">75</text>
                <text x="18" y="154">50</text>
                <text x="18" y="214">25</text>
              </g>
            </svg>

            <div class="legend" aria-label="Legend">
              <div class="legItem"><span class="swatch base" aria-hidden="true"></span><span data-i18n="leg.base">Basis</span></div>
              <div class="legItem"><span class="swatch stress" aria-hidden="true"></span><span data-i18n="leg.stress">Stress</span></div>
              <div class="legItem"><span class="swatch recover" aria-hidden="true"></span><span data-i18n="leg.recover">Erholung</span></div>
            </div>
          </div>
        </section>

      </main>

      <section class="split" aria-label="Drivers and Sales">

        <!-- Left: Countries -->
        <div class="card">
          <div class="cardHead">
            <h2 class="cardTitle" data-i18n="card.countries">DACH Aufschlüsselung</h2>
            <span class="badge">
              <span class="dot warn" aria-hidden="true"></span>
              <span data-i18n="countries.note">Score + 1 Satz „warum“</span>
            </span>
          </div>
          <div class="cardBody">
            <div class="countryGrid">

              <div class="countryCard" id="ccDE">
                <div class="countryTop">
                  <div class="countryName">
                    <span class="flag" aria-hidden="true">
                      <svg viewBox="0 0 3 2" preserveAspectRatio="none">
                        <rect width="3" height="2" fill="#000"/>
                        <rect y="0.6667" width="3" height="0.6666" fill="#dd0000"/>
                        <rect y="1.3333" width="3" height="0.6667" fill="#ffce00"/>
                      </svg>
                    </span>
                    <span data-i18n="country.de">Deutschland</span>
                  </div>
                  <div class="countryScore" id="scoreDE">82</div>
                </div>
                <div class="countryWhy" id="whyDE" data-i18n="why.de">Hohe Wohnkosten & steigende Entschuldungs-Suche</div>
              </div>

              <div class="countryCard" id="ccAT">
                <div class="countryTop">
                  <div class="countryName">
                    <span class="flag" aria-hidden="true">
                      <svg viewBox="0 0 3 2" preserveAspectRatio="none">
                        <rect width="3" height="2" fill="#ed2939"/>
                        <rect y="0.6667" width="3" height="0.6666" fill="#fff"/>
                        <rect y="1.3333" width="3" height="0.6667" fill="#ed2939"/>
                      </svg>
                    </span>
                    <span data-i18n="country.at">Österreich</span>
                  </div>
                  <div class="countryScore" id="scoreAT">75</div>
                </div>
                <div class="countryWhy" id="whyAT" data-i18n="why.at">Inflation & Unsicherheit treiben Absicherungsbedarf</div>
              </div>

              <div class="countryCard" id="ccCH">
                <div class="countryTop">
                  <div class="countryName">
                    <span class="flag" aria-hidden="true">
                      <svg viewBox="0 0 32 24" preserveAspectRatio="none">
                        <rect width="32" height="24" fill="#d52b1e"/>
                        <rect x="13" y="5" width="6" height="14" fill="#fff"/>
                        <rect x="9" y="9" width="14" height="6" fill="#fff"/>
                      </svg>
                    </span>
                    <span data-i18n="country.ch">Schweiz</span>
                  </div>
                  <div class="countryScore" id="scoreCH">68</div>
                </div>
                <div class="countryWhy" id="whyCH" data-i18n="why.ch">Zinskosten & Self-Custody-Interesse steigen</div>
              </div>

            </div>
          </div>
        </div>

        <!-- Right: Drivers + Pitch -->
        <div class="card">
          <div class="cardHead">
            <h2 class="cardTitle" data-i18n="card.drivers">Top Treiber aktuell</h2>
            <span class="badge">
              <span class="dot warn" aria-hidden="true"></span>
              <span data-i18n="drivers.note">Warum der Bedarf steigt</span>
            </span>
          </div>

          <div class="cardBody">
            <div class="drivers" aria-label="Drivers List">

              <div class="driverItem">
                <div class="driverLeft">
                  <svg class="driverIcon" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor" d="M12 2l9 5v10l-9 5-9-5V7l9-5zm0 2.3L5 8v8l7 3.9L19 16V8l-7-3.7z"/>
                  </svg>
                  <div class="driverText" data-i18n="drv.1">Wohnkostenbelastung</div>
                </div>
                <div class="driverRight">
                  <span class="delta up" id="d1">▲ +0.8</span>
                </div>
              </div>

              <div class="driverItem">
                <div class="driverLeft">
                  <svg class="driverIcon" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor" d="M3 13h8v8H3v-8zm10-10h8v18h-8V3zM3 3h8v8H3V3z"/>
                  </svg>
                  <div class="driverText" data-i18n="drv.2">Inflation & Reallohn</div>
                </div>
                <div class="driverRight">
                  <span class="delta down" id="d2">▼ -0.4</span>
                </div>
              </div>

              <div class="driverItem">
                <div class="driverLeft">
                  <svg class="driverIcon" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor" d="M10 20v-6H5l7-10v6h5l-7 10z"/>
                  </svg>
                  <div class="driverText" data-i18n="drv.3">Suchtrend „Schulden loswerden“</div>
                </div>
                <div class="driverRight">
                  <span class="delta up" id="d3">▲ +1.1</span>
                </div>
              </div>

              <div class="driverItem">
                <div class="driverLeft">
                  <svg class="driverIcon" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor" d="M4 19h16v2H4v-2zM6 3h12l2 10H4L6 3zm2 2l-1.2 6h10.4L16 5H8z"/>
                  </svg>
                  <div class="driverText" data-i18n="drv.4">Insolvenzen steigen</div>
                </div>
                <div class="driverRight">
                  <span class="delta up" id="d4">▲ +0.6</span>
                </div>
              </div>

              <div class="driverItem">
                <div class="driverLeft">
                  <svg class="driverIcon" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor" d="M12 1a11 11 0 1 0 0 22 11 11 0 0 0 0-22zm1 17.9V19h-2v-.1a4.3 4.3 0 0 1-3.2-1.8l1.6-1.2c.5.7 1.1 1.1 2.1 1.1 1.1 0 1.9-.5 1.9-1.3 0-.9-.8-1.2-2.2-1.6-1.8-.5-3.4-1.1-3.4-3.1 0-1.5 1.1-2.6 3.2-2.9V5h2v.1c1.2.2 2.1.7 2.8 1.6l-1.5 1.2c-.4-.6-1.1-1-2.0-1-.9 0-1.5.4-1.5 1.1 0 .7.7 1 2.0 1.4 2 .6 3.6 1.3 3.6 3.4 0 1.7-1.3 2.8-3.4 3.1z"/>
                  </svg>
                  <div class="driverText" data-i18n="drv.5">Bitcoin & Selbstschutz (Interesse)</div>
                </div>
                <div class="driverRight">
                  <span class="delta flat" id="d5">► +0.1</span>
                </div>
              </div>

            </div>

            <div style="height:12px"></div>

            <div class="pitchBox" aria-label="Sales Pitch">
              <div class="cardHead" style="padding:10px 0 8px;border:0;background:transparent;">
                <h3 class="cardTitle" style="margin:0" data-i18n="card.pitch">Verkaufsargumente</h3>
                <span class="badge">
                  <span class="dot warn" aria-hidden="true"></span>
                  <span data-i18n="pitch.note">1 Klick = Pitch</span>
                </span>
              </div>

              <div class="pitchOut" id="pitchOut" data-i18n="pitch.placeholder">Klicke auf „Pitch erstellen“ – dann erscheinen hier 3 Argumente + ein kurzer Satz für den Einstieg.</div>

              <div class="pitchTools">
                <button type="button" class="btn" id="btnPitch">
                  <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor" d="M3 3h18v4H3V3zm0 6h18v12H3V9zm4 3v2h10v-2H7zm0 4v2h6v-2H7z"/>
                  </svg>
                  <span data-i18n="btn.pitch">Pitch erstellen</span>
                </button>

                <button type="button" class="btn secondary" id="btnCopy">
                  <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm4 4H8c-1.1 0-2 .9-2 2v16h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 18H8V7h12v16z"/>
                  </svg>
                  <span data-i18n="btn.copy">Kopieren</span>
                </button>
              </div>
            </div>

          </div>
        </div>

      </section>

      <!-- Zielgruppen Tabs -->
      <section class="card" style="margin-top:14px" aria-label="Audience View">
        <div class="cardHead">
          <h2 class="cardTitle" data-i18n="aud.card">Zielgruppen-View</h2>
          <span class="badge">
            <span class="dot warn" aria-hidden="true"></span>
            <span data-i18n="aud.note">Argumente je Zielgruppe</span>
          </span>
        </div>

        <div class="cardBody">
          <div class="tabsBar">
            <div class="tabs" role="tablist" aria-label="Audience Tabs">
              <button type="button" class="tabBtn active" id="tabPrivate" role="tab" aria-selected="true" aria-controls="panelPrivate">
                <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
                  <path fill="currentColor" d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0 2c-4.42 0-8 2-8 4.5V21h16v-2.5C20 16 16.42 14 12 14z"/>
                </svg>
                <span data-i18n="aud.private">Privat</span>
              </button>

              <button type="button" class="tabBtn" id="tabSelf" role="tab" aria-selected="false" aria-controls="panelSelf">
                <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
                  <path fill="currentColor" d="M4 7h16v2H4V7zm0 4h10v2H4v-2zm0 4h16v2H4v-2zM16 10h4v4h-4v-4z"/>
                </svg>
                <span data-i18n="aud.self">Selbständige</span>
              </button>

              <button type="button" class="tabBtn" id="tabSales" role="tab" aria-selected="false" aria-controls="panelSales">
                <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
                  <path fill="currentColor" d="M3 13l8-10v6h10l-8 10v-6H3z"/>
                </svg>
                <span data-i18n="aud.sales">Vertriebspartner</span>
              </button>
            </div>

            <span class="badge">
              <span class="dot warn" aria-hidden="true"></span>
              <span id="audBadge" data-i18n="aud.badge.private">Fokus: Entlastung & Stabilität</span>
            </span>
          </div>

          <div class="audWrap">
            <!-- LEFT: Content -->
            <div class="audCard">
              <h3 class="audTitle" id="audTitle" data-i18n="aud.title.private">Privat – wenn Menschen wieder Luft brauchen</h3>
              <p class="audLead" id="audLead" data-i18n="aud.lead.private">Hier zählt Klarheit: Fixkosten, Schulden, Stress. Kein Fachjargon – sondern Planbarkeit.</p>

              <ul class="bul" id="audBul">
                <li><span class="bDot" aria-hidden="true"></span><span class="bTxt" data-i18n="aud.b1.private">3 Schritte statt Chaos: Überblick → Entlastung → Absicherung.</span></li>
                <li><span class="bDot" aria-hidden="true"></span><span class="bTxt" data-i18n="aud.b2.private">Wenn Wohnkosten steigen, wird Struktur zur Überlebensfrage.</span></li>
                <li><span class="bDot" aria-hidden="true"></span><span class="bTxt" data-i18n="aud.b3.private">Souveränität heißt: weniger Abhängigkeit – mehr Kontrolle.</span></li>
                <li><span class="bDot" aria-hidden="true"></span><span class="bTxt" data-i18n="aud.b4.private">Sofort umsetzbar: Budget-Check + Schutzregel + Notfall-Plan.</span></li>
              </ul>
            </div>

            <!-- RIGHT: Mini Pitch -->
            <div class="audCard">
              <h3 class="audTitle" data-i18n="aud.mini.title">Mini-Pitch</h3>
              <div class="miniPitch" id="audPitch" data-i18n="aud.mini.private">
Wenn Fixkosten und Unsicherheit steigen, brauchen Menschen nicht noch mehr Infos – sie brauchen einen Plan.
Ich zeige dir in 5 Minuten die 3 Schritte, mit denen du wieder Luft bekommst und dich absicherst.
              </div>

              <div class="miniTools">
                <button type="button" class="btn" id="btnAudToMain">
                  <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor" d="M4 4h16v2H4V4zm0 7h16v2H4v-2zm0 7h16v2H4v-2z"/>
                  </svg>
                  <span data-i18n="btn.usePitch">In Pitch übernehmen</span>
                </button>

                <button type="button" class="btn secondary" id="btnAudCopy">
                  <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm4 4H8c-1.1 0-2 .9-2 2v16h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 18H8V7h12v16z"/>
                  </svg>
                  <span data-i18n="btn.copyMini">Mini-Pitch kopieren</span>
                </button>
              </div>

            </div>
          </div>

        </div>
      </section>

      <div class="footerRow">
        <div>
          <span data-i18n="foot.left">Tool: DACH Demand Dashboard</span>
          <span style="opacity:.35"> · </span>
          <span data-i18n="foot.mid">Offline-fähig · Ohne externe Ressourcen</span>
        </div>
        <div class="mono" id="footVer">v0.2 · 2026-01-31</div>
      </div>

    </div>
  </div>

  <script>
    (function(){
      const $ = (s, p=document) => p.querySelector(s);

      const i18n = {
        de: {
          "app.title":"Bedarf nach Entschuldung & finanzieller Souveränität",
          "app.sub":"DACH Index · Treiber · 5-Jahres-Trend · Pitch-Generator (MVP)",
          "app.status":"Demo-Daten",
          "btn.refresh":"Neu berechnen",
          "btn.pdf":"PDF Report",
          "card.score":"DACH Demand Score",
          "level.low":"niedrig",
          "level.mid":"mittel",
          "level.high":"hoch",
          "band.de":"hoch",
          "band.en":"high",
          "kv.updated":"Stand",
          "kv.horizon":"Horizont",
          "kv.horizon.v":"60 Monate",
          "kv.model":"Modus",
          "kv.model.v":"MVP-Szenarien",
          "kv.note":"Hinweis",
          "kv.note.v":"Index = Frühindikatoren",
          "card.trend":"Trendprognose nächste 5 Jahre",
          "trend.scenarios":"Basis · Stress · Erholung",
          "x.today":"Heute",
          "leg.base":"Basis",
          "leg.stress":"Stress",
          "leg.recover":"Erholung",
          "card.countries":"DACH Aufschlüsselung",
          "countries.note":"Score + 1 Satz „warum“",
          "country.de":"Deutschland",
          "country.at":"Österreich",
          "country.ch":"Schweiz",
          "why.de":"Hohe Wohnkosten & steigende Entschuldungs-Suche",
          "why.at":"Inflation & Unsicherheit treiben Absicherungsbedarf",
          "why.ch":"Zinskosten & Self-Custody-Interesse steigen",
          "card.drivers":"Top Treiber aktuell",
          "drivers.note":"Warum der Bedarf steigt",
          "drv.1":"Wohnkostenbelastung",
          "drv.2":"Inflation & Reallohn",
          "drv.3":"Suchtrend „Schulden loswerden“",
          "drv.4":"Insolvenzen steigen",
          "drv.5":"Bitcoin & Selbstschutz (Interesse)",
          "card.pitch":"Verkaufsargumente",
          "pitch.note":"1 Klick = Pitch",
          "pitch.placeholder":"Klicke auf „Pitch erstellen“ – dann erscheinen hier 3 Argumente + ein kurzer Satz für den Einstieg.",
          "btn.pitch":"Pitch erstellen",
          "btn.copy":"Kopieren",
          "foot.left":"Tool: DACH Demand Dashboard",
          "foot.mid":"Offline-fähig · Ohne externe Ressourcen",
          "toast.copied":"Kopiert.",
          "toast.empty":"Nichts zu kopieren.",
          "pitch.head":"Warum jetzt handeln?",
          "pitch.b1":"Kosten & Unsicherheit steigen – Menschen suchen Struktur statt Zufall.",
          "pitch.b2":"Entschuldung wird zur Priorität, wenn Fixkostenquote und Druck zunehmen.",
          "pitch.b3":"Souveränitäts-Setups werden normal: Kontrolle, Plan, Selbstschutz.",
          "pitch.close":"Wenn du willst, zeige ich dir in 5 Minuten die drei Schritte, die sofort Stabilität bringen.",

          "aud.card":"Zielgruppen-View",
          "aud.note":"Argumente je Zielgruppe",
          "aud.private":"Privat",
          "aud.self":"Selbständige",
          "aud.sales":"Vertriebspartner",
          "aud.badge.private":"Fokus: Entlastung & Stabilität",
          "aud.badge.self":"Fokus: Cashflow & Risiko",
          "aud.badge.sales":"Fokus: Gespräch & Abschluss",

          "aud.title.private":"Privat – wenn Menschen wieder Luft brauchen",
          "aud.lead.private":"Hier zählt Klarheit: Fixkosten, Schulden, Stress. Kein Fachjargon – sondern Planbarkeit.",
          "aud.b1.private":"3 Schritte statt Chaos: Überblick → Entlastung → Absicherung.",
          "aud.b2.private":"Wenn Wohnkosten steigen, wird Struktur zur Überlebensfrage.",
          "aud.b3.private":"Souveränität heißt: weniger Abhängigkeit – mehr Kontrolle.",
          "aud.b4.private":"Sofort umsetzbar: Budget-Check + Schutzregel + Notfall-Plan.",
          "aud.mini.title":"Mini-Pitch",
          "aud.mini.private":"Wenn Fixkosten und Unsicherheit steigen, brauchen Menschen nicht noch mehr Infos – sie brauchen einen Plan.\nIch zeige dir in 5 Minuten die 3 Schritte, mit denen du wieder Luft bekommst und dich absicherst.",

          "aud.title.self":"Selbständige – wenn Cashflow alles ist",
          "aud.lead.self":"Hier geht es um Stabilität im Business: Einnahmen schwanken, Kosten laufen weiter. Struktur schlägt Hoffnung.",
          "aud.b1.self":"Cashflow-Schutz: Rücklagen-Regel + Fixkosten-Deckel + klare Prioritäten.",
          "aud.b2.self":"Entschuldung = Handlungsfähigkeit: weniger Zinslast, mehr Flexibilität.",
          "aud.b3.self":"Absicherung: Notfallplan für 30/60/90 Tage – ohne Theorie.",
          "aud.b4.self":"Souveränität: Kontrolle über Konten, Zugänge, Sicherungen.",
          "aud.mini.self":"Viele Selbständige merken: Risiko kommt nicht nur von außen – es kommt aus fehlender Struktur.\nIch zeige dir ein 3-Schritte-Setup, das Cashflow schützt und Handlungsfähigkeit erhöht.",

          "aud.title.sales":"Vertriebspartner – wenn Gespräche planbar werden sollen",
          "aud.lead.sales":"Hier zählt ein sauberer Talk-Track: Problem sichtbar machen, Nutzen klar, nächster Schritt konkret.",
          "aud.b1.sales":"Einstieg: „Die Nachfrage steigt, weil Druckfaktoren gleichzeitig anziehen.“",
          "aud.b2.sales":"3 Nutzenpunkte: Entlastung (Schmerz) · Absicherung (Sicherheit) · Souveränität (Kontrolle).",
          "aud.b3.sales":"Einwand-Frame: „Kein Hype, sondern Struktur – unabhängig vom Markt.“",
          "aud.b4.sales":"Abschluss: „5 Minuten Kurzdiagnose + nächster Schritt“ (Termin fix).",
          "aud.mini.sales":"Ich habe ein Tool, das zeigt, warum der Bedarf an Entschuldung und Souveränitäts-Setups in DACH steigt.\nWenn du willst, machen wir eine 5-Minuten Kurzdiagnose – und ich zeige dir den nächsten sinnvollen Schritt.",

          "btn.usePitch":"In Pitch übernehmen",
          "btn.copyMini":"Mini-Pitch kopieren"
        },
        en: {
          "app.title":"Demand for debt relief & financial sovereignty",
          "app.sub":"DACH index · drivers · 5-year trend · pitch generator (MVP)",
          "app.status":"Demo data",
          "btn.refresh":"Recalculate",
          "btn.pdf":"PDF Report",
          "card.score":"DACH Demand Score",
          "level.low":"low",
          "level.mid":"medium",
          "level.high":"high",
          "band.de":"hoch",
          "band.en":"high",
          "kv.updated":"As of",
          "kv.horizon":"Horizon",
          "kv.horizon.v":"60 months",
          "kv.model":"Mode",
          "kv.model.v":"MVP scenarios",
          "kv.note":"Note",
          "kv.note.v":"Index = leading indicators",
          "card.trend":"Trend outlook for the next 5 years",
          "trend.scenarios":"Base · Stress · Recovery",
          "x.today":"Today",
          "leg.base":"Base",
          "leg.stress":"Stress",
          "leg.recover":"Recovery",
          "card.countries":"DACH breakdown",
          "countries.note":"Score + one-line “why”",
          "country.de":"Germany",
          "country.at":"Austria",
          "country.ch":"Switzerland",
          "why.de":"High housing pressure & rising debt-relief searches",
          "why.at":"Inflation & uncertainty increase demand for protection",
          "why.ch":"Rate pressure & self-custody interest are rising",
          "card.drivers":"Top drivers right now",
          "drivers.note":"Why demand is rising",
          "drv.1":"Housing cost pressure",
          "drv.2":"Inflation & real wages",
          "drv.3":"Search trend “get rid of debt”",
          "drv.4":"Insolvencies rising",
          "drv.5":"Bitcoin & self-protection (interest)",
          "card.pitch":"Sales arguments",
          "pitch.note":"1 click = pitch",
          "pitch.placeholder":"Click “Create pitch” and you’ll get 3 arguments plus an opening line here.",
          "btn.pitch":"Create pitch",
          "btn.copy":"Copy",
          "foot.left":"Tool: DACH Demand Dashboard",
          "foot.mid":"Offline-ready · No external resources",
          "toast.copied":"Copied.",
          "toast.empty":"Nothing to copy.",
          "pitch.head":"Why act now?",
          "pitch.b1":"Costs and uncertainty rise — people want structure instead of randomness.",
          "pitch.b2":"Debt relief becomes a priority as fixed-cost pressure grows.",
          "pitch.b3":"Sovereignty setups become mainstream: control, plan, self-protection.",
          "pitch.close":"If you want, I’ll show you the 3 steps that create stability in 5 minutes.",

          "aud.card":"Audience view",
          "aud.note":"Arguments per audience",
          "aud.private":"Private",
          "aud.self":"Self-employed",
          "aud.sales":"Sales partners",
          "aud.badge.private":"Focus: relief & stability",
          "aud.badge.self":"Focus: cashflow & risk",
          "aud.badge.sales":"Focus: talk-track & close",

          "aud.title.private":"Private — when people need breathing room",
          "aud.lead.private":"Keep it simple: fixed costs, debt, pressure. No jargon — just a plan.",
          "aud.b1.private":"3 steps instead of chaos: overview → relief → protection.",
          "aud.b2.private":"When housing pressure rises, structure becomes survival.",
          "aud.b3.private":"Sovereignty means: less dependency — more control.",
          "aud.b4.private":"Immediate action: budget check + protection rule + emergency plan.",
          "aud.mini.title":"Mini pitch",
          "aud.mini.private":"When fixed costs and uncertainty rise, people don’t need more info — they need a plan.\nI’ll show you the 3 steps that bring breathing room and protection in 5 minutes.",

          "aud.title.self":"Self-employed — when cashflow is everything",
          "aud.lead.self":"Business stability: income fluctuates, costs don’t. Structure beats hope.",
          "aud.b1.self":"Cashflow protection: reserve rule + fixed-cost cap + clear priorities.",
          "aud.b2.self":"Debt relief = ability to act: lower interest burden, more flexibility.",
          "aud.b3.self":"Protection: a 30/60/90-day emergency plan — no theory.",
          "aud.b4.self":"Sovereignty: control over accounts, access, backups.",
          "aud.mini.self":"Many self-employed realize: risk isn’t only external — it’s missing structure.\nI’ll show you a 3-step setup that protects cashflow and increases the ability to act.",

          "aud.title.sales":"Sales partners — when conversations must become predictable",
          "aud.lead.sales":"You need a clean talk-track: make the problem visible, clarify value, set the next step.",
          "aud.b1.sales":"Opening: “Demand rises because multiple pressure factors move together.”",
          "aud.b2.sales":"3 value points: relief (pain) · protection (safety) · sovereignty (control).",
          "aud.b3.sales":"Objection frame: “Not hype — structure, independent of the market.”",
          "aud.b4.sales":"Close: “5-minute micro-diagnosis + next step” (book it).",
          "aud.mini.sales":"I have a tool that shows why demand for debt relief and sovereignty setups is rising across DACH.\nIf you want, we do a 5-minute micro-diagnosis — then I’ll show the next sensible step.",

          "btn.usePitch":"Use in main pitch",
          "btn.copyMini":"Copy mini pitch"
        }
      };

      const state = {
        lang: (localStorage.getItem("tool_lang") || "de"),
        score: 78,
        scoreDE: 82,
        scoreAT: 75,
        scoreCH: 68,
        aud: (localStorage.getItem("tool_aud") || "private")
      };

      const arc = $("#arc");
      const needle = $("#needle");

      function setLang(lang){
        state.lang = lang;
        localStorage.setItem("tool_lang", lang);

        $("#btnDE").classList.toggle("active", lang === "de");
        $("#btnEN").classList.toggle("active", lang === "en");

        const dict = i18n[lang] || i18n.de;
        document.documentElement.lang = lang;

        document.querySelectorAll("[data-i18n]").forEach(el=>{
          const key = el.getAttribute("data-i18n");
          if(dict[key] != null) el.textContent = dict[key];
        });

        refreshLevelBadge();
        refreshPitchPlaceholder();
        applyAudience(state.aud, true);
      }

      function levelFromScore(s){
        if(s >= 75) return "high";
        if(s >= 45) return "mid";
        return "low";
      }

      function refreshLevelBadge(){
        const lvl = levelFromScore(state.score);
        const dot = $("#levelDot");
        dot.classList.remove("good","warn","bad");

        const levelText = $("#levelText");
        const dict = i18n[state.lang] || i18n.de;

        if(lvl === "high"){
          dot.classList.add("bad");
          levelText.textContent = dict["level.high"];
        }else if(lvl === "mid"){
          dot.classList.add("warn");
          levelText.textContent = dict["level.mid"];
        }else{
          dot.classList.add("good");
          levelText.textContent = dict["level.low"];
        }
      }

      function setGauge(score){
        state.score = Math.max(0, Math.min(100, score|0));
        $("#scoreValue").textContent = String(state.score);

        const r = 102;
        const c = 2 * Math.PI * r;
        arc.setAttribute("stroke-dasharray", c.toFixed(2));
        const dash = (c * (state.score / 100));
        const gap = c - dash;
        arc.setAttribute("stroke-dashoffset", gap.toFixed(2));

        const angle = (-90) + (state.score / 100) * 180;
        needle.setAttribute("transform", "rotate(" + angle.toFixed(2) + " 130 130)");
        refreshLevelBadge();
      }

      function yFromScore(s){
        const minY = 30;
        const maxY = 230;
        const clamped = Math.max(0, Math.min(100, s));
        return maxY - (clamped / 100) * (maxY - minY);
      }

      function buildTrend(){
        const base = [];
        const stress = [];
        const recover = [];

        const seed = state.score;
        const x = [60, 260, 460, 660, 860, 980];

        for(let i=0;i<x.length;i++){
          const t = i;
          const wobble = (Math.sin((seed + t*7) * 0.35) * 2.6);
          const baseVal = Math.max(18, Math.min(96, seed + (t*2.3) + wobble - (t===3?1.0:0)));
          const stressVal = Math.max(22, Math.min(98, baseVal + (t*1.6) + 4.0));
          const recVal = Math.max(12, Math.min(92, seed - (t*1.2) + (Math.cos((seed + t*9)*0.32)*2.2)));

          base.push([x[i], yFromScore(baseVal)]);
          stress.push([x[i], yFromScore(stressVal)]);
          recover.push([x[i], yFromScore(recVal)]);
        }

        $("#lineBase").setAttribute("points", base.map(p=>p[0].toFixed(1)+","+p[1].toFixed(1)).join(" "));
        $("#lineStress").setAttribute("points", stress.map(p=>p[0].toFixed(1)+","+p[1].toFixed(1)).join(" "));
        $("#lineRecover").setAttribute("points", recover.map(p=>p[0].toFixed(1)+","+p[1].toFixed(1)).join(" "));
      }

      function recalcDemo(){
        const now = new Date();
        const y = now.getFullYear();
        const m = String(now.getMonth()+1).padStart(2,"0");
        const d = String(now.getDate()).padStart(2,"0");
        $("#kvUpdated").textContent = y + "-" + m + "-" + d;

        const pulse = (Math.sin(now.getTime()/900000) * 6) + (Math.cos(now.getTime()/1200000) * 4);
        const newScore = Math.round(72 + pulse);
        setGauge(newScore);
        buildTrend();

        const sDE = Math.max(0, Math.min(100, newScore + 4));
        const sAT = Math.max(0, Math.min(100, newScore - 3));
        const sCH = Math.max(0, Math.min(100, newScore - 10));

        state.scoreDE = sDE; state.scoreAT = sAT; state.scoreCH = sCH;
        $("#scoreDE").textContent = String(sDE);
        $("#scoreAT").textContent = String(sAT);
        $("#scoreCH").textContent = String(sCH);
      }

      function refreshPitchPlaceholder(){
        const out = $("#pitchOut");
        const dict = i18n[state.lang] || i18n.de;
        if(!out.dataset._touched) out.textContent = dict["pitch.placeholder"];
      }

      function createPitch(){
        const dict = i18n[state.lang] || i18n.de;
        const lvl = levelFromScore(state.score);

        let opener = dict["pitch.head"];
        if(state.lang === "de"){
          if(lvl === "high") opener = "Warum jetzt handeln? (hoher Bedarf)";
          if(lvl === "mid") opener = "Warum jetzt handeln? (steigender Bedarf)";
          if(lvl === "low") opener = "Warum jetzt handeln? (frühe Phase)";
        }else{
          if(lvl === "high") opener = "Why act now? (high demand)";
          if(lvl === "mid") opener = "Why act now? (rising demand)";
          if(lvl === "low") opener = "Why act now? (early phase)";
        }

        const text =
          opener + "\n" +
          "• " + dict["pitch.b1"] + "\n" +
          "• " + dict["pitch.b2"] + "\n" +
          "• " + dict["pitch.b3"] + "\n\n" +
          dict["pitch.close"];

        const out = $("#pitchOut");
        out.textContent = text;
        out.dataset._touched = "1";
      }

      async function copyText(txt){
        const dict = i18n[state.lang] || i18n.de;
        const t = (txt || "").trim();
        if(!t){
          toast(dict["toast.empty"]);
          return;
        }
        try{
          await navigator.clipboard.writeText(t);
          toast(dict["toast.copied"]);
        }catch(e){
          try{
            const ta = document.createElement("textarea");
            ta.value = t;
            ta.style.position = "fixed";
            ta.style.left = "-9999px";
            document.body.appendChild(ta);
            ta.focus();
            ta.select();
            document.execCommand("copy");
            ta.remove();
            toast(dict["toast.copied"]);
          }catch(_e){
            toast(dict["toast.empty"]);
          }
        }
      }

      function toast(msg){
        const t = document.createElement("div");
        t.textContent = msg;
        t.style.position = "fixed";
        t.style.left = "50%";
        t.style.bottom = "18px";
        t.style.transform = "translateX(-50%)";
        t.style.padding = "10px 12px";
        t.style.borderRadius = "999px";
        t.style.border = "1px solid rgba(212,175,55,.28)";
        t.style.background = "rgba(0,0,0,.78)";
        t.style.color = "rgba(233,238,247,.95)";
        t.style.fontWeight = "900";
        t.style.letterSpacing = ".2px";
        t.style.boxShadow = "0 16px 40px rgba(0,0,0,.55)";
        t.style.zIndex = "9999";
        document.body.appendChild(t);
        setTimeout(()=>{ t.style.opacity = "0"; t.style.transition = "opacity .35s ease"; }, 850);
        setTimeout(()=>{ t.remove(); }, 1250);
      }

      function applyAudience(aud, fromLangSwitch){
        state.aud = aud;
        localStorage.setItem("tool_aud", aud);

        const dict = i18n[state.lang] || i18n.de;

        $("#tabPrivate").classList.toggle("active", aud === "private");
        $("#tabSelf").classList.toggle("active", aud === "self");
        $("#tabSales").classList.toggle("active", aud === "sales");

        $("#tabPrivate").setAttribute("aria-selected", String(aud === "private"));
        $("#tabSelf").setAttribute("aria-selected", String(aud === "self"));
        $("#tabSales").setAttribute("aria-selected", String(aud === "sales"));

        const badgeKey = aud === "private" ? "aud.badge.private" : (aud === "self" ? "aud.badge.self" : "aud.badge.sales");
        $("#audBadge").textContent = dict[badgeKey];

        const titleKey = aud === "private" ? "aud.title.private" : (aud === "self" ? "aud.title.self" : "aud.title.sales");
        const leadKey = aud === "private" ? "aud.lead.private" : (aud === "self" ? "aud.lead.self" : "aud.lead.sales");

        $("#audTitle").textContent = dict[titleKey];
        $("#audLead").textContent = dict[leadKey];

        // Bullets: overwrite texts (kept as list items for stable layout)
        const b1 = aud === "private" ? "aud.b1.private" : (aud === "self" ? "aud.b1.self" : "aud.b1.sales");
        const b2 = aud === "private" ? "aud.b2.private" : (aud === "self" ? "aud.b2.self" : "aud.b2.sales");
        const b3 = aud === "private" ? "aud.b3.private" : (aud === "self" ? "aud.b3.self" : "aud.b3.sales");
        const b4 = aud === "private" ? "aud.b4.private" : (aud === "self" ? "aud.b4.self" : "aud.b4.sales");

        const lis = $("#audBul").querySelectorAll("li .bTxt");
        if(lis[0]) lis[0].textContent = dict[b1];
        if(lis[1]) lis[1].textContent = dict[b2];
        if(lis[2]) lis[2].textContent = dict[b3];
        if(lis[3]) lis[3].textContent = dict[b4];

        const miniKey = aud === "private" ? "aud.mini.private" : (aud === "self" ? "aud.mini.self" : "aud.mini.sales");
        $("#audPitch").textContent = dict[miniKey];

        if(fromLangSwitch){
          // nichts weiter – nur Texte aktualisieren
        }
      }

      function useMiniInMain(){
        const mini = ($("#audPitch").textContent || "").trim();
        const out = $("#pitchOut");
        if(mini){
          out.textContent = mini;
          out.dataset._touched = "1";
        }
      }

      $("#btnDE").addEventListener("click", ()=>setLang("de"));
      $("#btnEN").addEventListener("click", ()=>setLang("en"));
      $("#btnRecalc").addEventListener("click", ()=>recalcDemo());
      $("#btnPrint").addEventListener("click", ()=>window.print());
      $("#btnPitch").addEventListener("click", ()=>createPitch());
      $("#btnCopy").addEventListener("click", ()=>copyText(($("#pitchOut").textContent||"")));

      $("#tabPrivate").addEventListener("click", ()=>applyAudience("private"));
      $("#tabSelf").addEventListener("click", ()=>applyAudience("self"));
      $("#tabSales").addEventListener("click", ()=>applyAudience("sales"));

      $("#btnAudToMain").addEventListener("click", ()=>useMiniInMain());
      $("#btnAudCopy").addEventListener("click", ()=>copyText(($("#audPitch").textContent||"")));

      setLang(state.lang);
      setGauge(state.score);
      buildTrend();
      recalcDemo();
      applyAudience(state.aud);
    })();
  </script>
</body>
</html>
