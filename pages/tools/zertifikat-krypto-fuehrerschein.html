<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title data-i18n="title">Zertifikat – Weekend-Setup (Zertifikat & Krypto-Führerschein)</title>
  <meta name="description" content="Zertifikat-Generator: Eingaben + Drucken/PDF. Keine externen Ressourcen." />
  <meta name="robots" content="noindex,nofollow" />

  <style>
    :root{
      --bg:#050814;
      --bg2:#020617;
      --panel:rgba(15,23,42,.88);
      --txt:#e9eef7;
      --muted:#a9b4c7;
      --gold:#d4af37;
      --gold2:#f2d37a;
      --line:rgba(212,175,55,.38);
      --shadow:0 24px 60px rgba(0,0,0,.55);
      --glow:0 0 26px rgba(212,175,55,.18), 0 0 44px rgba(94,168,255,.10);
      --err:#ff6b6b;
      --ok:#21E6B6;
    }

    html,body{
      margin:0;
      background:
        radial-gradient(900px 500px at 20% 10%, rgba(212,175,55,.18), transparent 55%),
        radial-gradient(900px 500px at 85% 15%, rgba(94,168,255,.16), transparent 58%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      color:var(--txt);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    }

    .wrap{
      max-width:1100px;
      margin:28px auto 40px;
      padding:0 16px;
    }

    .topbar{
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      margin-bottom:14px;
    }

    .brand{
      display:flex;
      gap:10px;
      align-items:center;
      user-select:none;
    }

    .badge{
      width:42px;height:42px;flex:0 0 42px;
      border-radius:12px;
      background:rgba(212,175,55,.10);
      border:1px solid var(--line);
      box-shadow:var(--glow);
      display:grid;place-items:center;
    }

    .brand h2{
      margin:0;
      font-size:14px;
      font-weight:700;
      letter-spacing:.2px;
    }
    .brand .sub{
      margin:2px 0 0;
      font-size:12px;
      color:var(--muted);
    }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }

    .btn{
      appearance:none;border:none;cursor:pointer;
      padding:10px 12px;
      border-radius:12px;
      font-weight:700;
      color:var(--txt);
      background:rgba(15,23,42,.72);
      border:1px solid rgba(212,175,55,.28);
      box-shadow:0 14px 32px rgba(0,0,0,.35);
      transition:transform .12s ease, border-color .12s ease, background .12s ease;
      display:inline-flex;align-items:center;gap:8px;
    }
    .btn:hover{ transform:translateY(-1px); border-color:rgba(212,175,55,.45); background:rgba(15,23,42,.86); }
    .btn.primary{
      background:linear-gradient(180deg, rgba(212,175,55,.18), rgba(15,23,42,.78));
      border-color:rgba(212,175,55,.55);
      box-shadow:0 0 22px rgba(212,175,55,.22), 0 14px 40px rgba(0,0,0,.45);
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr 1.25fr;
      gap:14px;
      align-items:start;
    }

    .panel{
      background:linear-gradient(180deg, rgba(15,23,42,.92), rgba(15,23,42,.74));
      border:1px solid var(--line);
      border-radius:18px;
      box-shadow:var(--shadow);
      overflow:hidden;
    }

    .panel .head{
      padding:14px 16px;
      border-bottom:1px solid rgba(212,175,55,.22);
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
    }

    .panel .head h3{
      margin:0;
      font-size:14px;
      letter-spacing:.2px;
    }

    .panel .body{
      padding:14px 16px 16px;
    }

    .hint{
      color:var(--muted);
      font-size:12px;
      line-height:1.45;
      margin:0;
    }

    .form{
      display:grid;
      gap:10px;
      margin-top:10px;
    }

    label{
      display:block;
      font-size:12px;
      color:var(--muted);
      margin:0 0 6px;
    }

    input[type="text"], input[type="date"]{
      width:100%;
      box-sizing:border-box;
      padding:11px 12px;
      border-radius:12px;
      border:1px solid rgba(212,175,55,.22);
      background:rgba(2,6,23,.55);
      color:var(--txt);
      outline:none;
    }
    input[type="text"]:focus, input[type="date"]:focus{
      border-color:rgba(212,175,55,.50);
      box-shadow:0 0 0 3px rgba(212,175,55,.12);
    }

    .mods{
      display:grid;
      gap:8px;
      margin-top:10px;
    }

    .mod{
      display:flex;
      gap:10px;
      align-items:flex-start;
      padding:10px 10px;
      border-radius:14px;
      border:1px solid rgba(212,175,55,.16);
      background:rgba(2,6,23,.35);
    }
    .mod input{ margin-top:2px; }
    .mod .t{
      font-size:13px;
      font-weight:700;
    }
    .mod .d{
      font-size:12px;
      color:var(--muted);
      margin-top:2px;
      line-height:1.35;
    }

    .status{
      margin-top:10px;
      font-size:12px;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(212,175,55,.16);
      background:rgba(2,6,23,.32);
      color:var(--muted);
    }
    .status.ok{ border-color:rgba(33,230,182,.28); color:#c9fff1; }
    .status.err{ border-color:rgba(255,107,107,.35); color:#ffe0e0; }

    /* CERTIFICATE PREVIEW */
    .certWrap{
      padding:16px;
    }

    .certificate{
      position:relative;
      border-radius:22px;
      padding:28px 28px 22px;
      background:
        radial-gradient(1200px 700px at 15% 10%, rgba(212,175,55,.12), transparent 55%),
        radial-gradient(1000px 650px at 85% 20%, rgba(94,168,255,.10), transparent 60%),
        linear-gradient(180deg, rgba(2,6,23,.85), rgba(2,6,23,.55));
      border:2px solid rgba(212,175,55,.55);
      box-shadow:var(--glow), 0 26px 70px rgba(0,0,0,.55);
      min-height:640px;
    }

    .certificate:before{
      content:"";
      position:absolute; inset:10px;
      border-radius:16px;
      border:1px solid rgba(212,175,55,.28);
      pointer-events:none;
    }

    .certTop{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:16px;
    }

    .seal{
      width:92px;height:92px;flex:0 0 92px;
      border-radius:22px;
      border:1px solid rgba(212,175,55,.48);
      background:rgba(212,175,55,.06);
      box-shadow:var(--glow);
      display:grid;
      place-items:center;
      overflow:hidden;
    }
    .seal img{
      width:100%;
      height:100%;
      object-fit:cover;
      border-radius:22px;
      display:block;
    }

    .certTitle{
      margin:0;
      font-size:26px;
      line-height:1.1;
      letter-spacing:.3px;
    }

    .certSub{
      margin:8px 0 0;
      color:var(--muted);
      font-size:13px;
      max-width:62ch;
      line-height:1.45;
    }

    .certBlock{
      margin-top:18px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }

    .field{
      border:1px solid rgba(212,175,55,.18);
      border-radius:16px;
      padding:12px 12px;
      background:rgba(15,23,42,.35);
    }
    .field .k{
      font-size:11px;
      color:var(--muted);
      margin:0 0 6px;
      letter-spacing:.25px;
      text-transform:uppercase;
    }
    .field .v{
      font-size:18px;
      font-weight:800;
      margin:0;
      word-break:break-word;
    }

    .modulesPrint{
      margin-top:14px;
      border-radius:16px;
      border:1px solid rgba(212,175,55,.18);
      background:rgba(15,23,42,.30);
      padding:12px 12px;
    }
    .modulesPrint h4{
      margin:0 0 8px;
      font-size:13px;
      letter-spacing:.2px;
    }
    .mlist{
      margin:0;
      padding:0;
      list-style:none;
      display:grid;
      gap:6px;
    }
    .mlist li{
      display:flex;
      gap:10px;
      align-items:flex-start;
      font-size:13px;
      color:var(--txt);
    }
    .tick{
      width:18px;
      display:inline-block;
      color:var(--gold2);
      font-weight:900;
    }
    .mname{
      font-weight:800;
    }
    .mdesc{
      color:var(--muted);
      font-weight:500;
    }

    .signRow{
      margin-top:18px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      align-items:end;
    }

    .lineBox{
      border:1px dashed rgba(212,175,55,.35);
      border-radius:16px;
      padding:12px;
      background:rgba(2,6,23,.25);
      min-height:76px;
      position:relative;
      overflow:hidden;
    }
    .lineBox .cap{
      font-size:11px;
      color:var(--muted);
      text-transform:uppercase;
      letter-spacing:.22px;
      margin:0 0 10px;
    }
    .line{
      height:2px;
      background:linear-gradient(90deg, rgba(212,175,55,.15), rgba(212,175,55,.65), rgba(212,175,55,.15));
      border-radius:99px;
      margin-top:28px;
    }

    .sigText{
      font-family: "Georgia", "Times New Roman", serif;
      font-style: italic;
      font-weight: 700;
      letter-spacing: .2px;
      font-size: 16px;
      color: rgba(233,238,247,.95);
      margin-top:2px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .stampImg{
      position:absolute;
      right:10px;
      bottom:8px;
      width:74px;
      height:74px;
      border-radius:14px;
      object-fit:cover;
      opacity:.98;
      display:block;
    }

    .footerNote{
      margin-top:12px;
      font-size:11px;
      color:rgba(169,180,199,.92);
      line-height:1.35;
    }

    /* Language toggle small tag */
    .langTag{
      font-size:12px;
      color:var(--muted);
      border:1px solid rgba(212,175,55,.18);
      border-radius:999px;
      padding:6px 10px;
      background:rgba(2,6,23,.30);
      user-select:none;
      white-space:nowrap;
    }

    /* Print rules: only certificate visible */
    @media print{
      body{ background:#fff !important; color:#000 !important; }
      .wrap{ max-width:none; margin:0; padding:0; }
      .topbar, .panel.leftPanel{ display:none !important; }
      .grid{ display:block; }
      .panel.rightPanel{
        border:none !important;
        box-shadow:none !important;
        background:transparent !important;
      }
      .panel.rightPanel .head{ display:none !important; }
      .panel.rightPanel .body{ padding:0 !important; }

      .certificate{
        box-shadow:none !important;
        background:#fff !important;
        border:2px solid #b08d1f !important;
        color:#000 !important;
      }

      .certificate:before{ border:1px solid rgba(0,0,0,.18) !important; }

      .field, .modulesPrint, .lineBox{
        background:#fff !important;
        border-color:rgba(0,0,0,.20) !important;
      }

      /* ===== FIX ONLY: force all certificate text to BLACK in print ===== */
      .certificate, .certificate *{
        color:#000 !important;
      }
      /* keep the checkmarks/ticks golden like before */
      .tick{
        color:#b08d1f !important;
      }
      /* optional: keep subtle helper texts slightly softer but still black-ish */
      .certSub, .field .k, .mdesc, .footerNote, .lineBox .cap{
        color:#000 !important;
        opacity:.78 !important;
      }
      /* signature should stay visible (still black by rule above) */
      .sigText{ opacity:1 !important; }
      /* ===== END FIX ONLY ===== */

      @page{
        size: A4 landscape;
        margin: 12mm;
      }
    }

    @media (max-width: 980px){
      .grid{ grid-template-columns: 1fr; }
      .certificate{ min-height: unset; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="badge" aria-hidden="true">
          <!-- Inline SVG only -->
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M12 2l2.6 6.3L21 11l-6.4 2.7L12 20l-2.6-6.3L3 11l6.4-2.7L12 2z" stroke="rgba(212,175,55,.95)" stroke-width="1.6" />
          </svg>
        </div>
        <div>
          <h2 data-i18n="brand">FSA – Zertifikat Generator</h2>
          <p class="sub" data-i18n="brandSub">Weekend-Setup: Zertifikat & Krypto-Führerschein</p>
        </div>
      </div>

      <div class="actions">
        <div class="langTag" id="langTag">DE</div>
        <button class="btn" id="btnLang" type="button">
          <!-- inline svg -->
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 22c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10z" stroke="rgba(212,175,55,.85)" stroke-width="1.6"/>
            <path d="M2 12h20" stroke="rgba(212,175,55,.85)" stroke-width="1.6"/>
            <path d="M12 2c2.7 2.8 4.2 6.3 4.2 10S14.7 19.2 12 22c-2.7-2.8-4.2-6.3-4.2-10S9.3 4.8 12 2z" stroke="rgba(212,175,55,.85)" stroke-width="1.6"/>
          </svg>
          <span data-i18n="toggleLang">Sprache wechseln</span>
        </button>

        <button class="btn" id="btnReset" type="button">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M21 12a9 9 0 1 1-3-6.7" stroke="rgba(212,175,55,.85)" stroke-width="1.6" stroke-linecap="round"/>
            <path d="M21 3v6h-6" stroke="rgba(212,175,55,.85)" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span data-i18n="reset">Zurücksetzen</span>
        </button>

        <button class="btn primary" id="btnPrint" type="button">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M7 8V3h10v5" stroke="rgba(212,175,55,.95)" stroke-width="1.6" stroke-linejoin="round"/>
            <path d="M7 17h10v4H7v-4z" stroke="rgba(212,175,55,.95)" stroke-width="1.6" stroke-linejoin="round"/>
            <path d="M6 17H4a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2" stroke="rgba(212,175,55,.95)" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
          <span data-i18n="print">Drucken / PDF</span>
        </button>
      </div>
    </div>

    <div class="grid">
      <!-- LEFT: Inputs -->
      <div class="panel leftPanel">
        <div class="head">
          <h3 data-i18n="inputsTitle">Eingaben</h3>
        </div>
        <div class="body">
          <p class="hint" data-i18n="inputsHint">
            Trage Name, Datum und bestätige alle 7 Module. Beim Drucken verschwinden die Eingabefelder automatisch.
          </p>

          <div class="form">
            <div>
              <label for="firstName" data-i18n="firstNameLabel">Vorname</label>
              <input id="firstName" type="text" autocomplete="given-name" placeholder="Max" />
            </div>

            <div>
              <label for="lastName" data-i18n="lastNameLabel">Nachname</label>
              <input id="lastName" type="text" autocomplete="family-name" placeholder="Mustermann" />
            </div>

            <div>
              <label for="date" data-i18n="dateLabel">Teilnahmedatum</label>
              <input id="date" type="date" />
            </div>
          </div>

          <div class="mods" aria-label="Module">
            <div class="mod">
              <input id="m1" type="checkbox" />
              <div>
                <div class="t" data-i18n="m1t">Modul 1 – Wallet & Grundlagen</div>
                <div class="d" data-i18n="m1d">Wallet erstellt • Grundbegriffe • Start-Check.</div>
              </div>
            </div>
            <div class="mod">
              <input id="m2" type="checkbox" />
              <div>
                <div class="t" data-i18n="m2t">Modul 2 – Kaufen & Transfer</div>
                <div class="d" data-i18n="m2d">Kauf & Auszahlung • Test-Transfer • Gebühren.</div>
              </div>
            </div>
            <div class="mod">
              <input id="m3" type="checkbox" />
              <div>
                <div class="t" data-i18n="m3t">Modul 3 – Sicherheit & Seeds</div>
                <div class="d" data-i18n="m3d">Seed-Regeln • Backup • Fehler vermeiden.</div>
              </div>
            </div>
            <div class="mod">
              <input id="m4" type="checkbox" />
              <div>
                <div class="t" data-i18n="m4t">Modul 4 – Hardware-Wallet Praxis</div>
                <div class="d" data-i18n="m4d">Setup • Recovery • Alltag.</div>
              </div>
            </div>
            <div class="mod">
              <input id="m5" type="checkbox" />
              <div>
                <div class="t" data-i18n="m5t">Modul 5 – Risiko, Scams & Schutz</div>
                <div class="d" data-i18n="m5d">Risiken • Scams • Schutzregeln.</div>
              </div>
            </div>
            <div class="mod">
              <input id="m6" type="checkbox" />
              <div>
                <div class="t" data-i18n="m6t">Modul 6 – Aufbewahrung & Dokumentation</div>
                <div class="d" data-i18n="m6d">Dokumente • Notfall • sichere Ablage.</div>
              </div>
            </div>
            <div class="mod">
              <input id="m7" type="checkbox" />
              <div>
                <div class="t" data-i18n="m7t">Modul 7 – Abschlusscheck & Verantwortung</div>
                <div class="d" data-i18n="m7d">Abschlusscheck • Verantwortung • nächste Schritte.</div>
              </div>
            </div>
          </div>

          <div id="status" class="status" role="status" aria-live="polite"></div>
        </div>
      </div>

      <!-- RIGHT: Certificate preview -->
      <div class="panel rightPanel">
        <div class="head">
          <h3 data-i18n="previewTitle">Vorschau Zertifikat</h3>
        </div>
        <div class="body certWrap">
          <div class="certificate" id="certificate">
            <div class="certTop">
              <div>
                <h1 class="certTitle" data-i18n="certTitle">ZERTIFIKAT</h1>
                <p class="certSub" data-i18n="certSub">
                  Bestätigung der erfolgreichen Teilnahme am Weekend-Setup „Zertifikat & Krypto-Führerschein“ (Bestanden) inkl. Absolvierung aller 7 Module.
                </p>
              </div>

              <!-- Siegel (Bild) -->
              <div class="seal" aria-hidden="true" title="Bestanden">
                <img src="library/images/siegel.png" alt="BESTANDEN Siegel" />
              </div>
            </div>

            <div class="certBlock">
              <div class="field">
                <p class="k" data-i18n="nameKey">Name</p>
                <p class="v" id="pvName">—</p>
              </div>
              <div class="field">
                <p class="k" data-i18n="dateKey">Teilnahmedatum</p>
                <p class="v" id="pvDate">—</p>
              </div>
            </div>

            <div class="modulesPrint">
              <h4 data-i18n="modulesKey">Erfolgreich absolvierte Module (7/7)</h4>
              <ul class="mlist">
                <li><span class="tick" id="t1">□</span> <span class="mname" data-i18n="m1t">Modul 1 – Wallet & Grundlagen</span> <span class="mdesc" data-i18n="m1d">Wallet erstellt • Grundbegriffe • Start-Check.</span></li>
                <li><span class="tick" id="t2">□</span> <span class="mname" data-i18n="m2t">Modul 2 – Kaufen & Transfer</span> <span class="mdesc" data-i18n="m2d">Kauf & Auszahlung • Test-Transfer • Gebühren.</span></li>
                <li><span class="tick" id="t3">□</span> <span class="mname" data-i18n="m3t">Modul 3 – Sicherheit & Seeds</span> <span class="mdesc" data-i18n="m3d">Seed-Regeln • Backup • Fehler vermeiden.</span></li>
                <li><span class="tick" id="t4">□</span> <span class="mname" data-i18n="m4t">Modul 4 – Hardware-Wallet Praxis</span> <span class="mdesc" data-i18n="m4d">Setup • Recovery • Alltag.</span></li>
                <li><span class="tick" id="t5">□</span> <span class="mname" data-i18n="m5t">Modul 5 – Risiko, Scams & Schutz</span> <span class="mdesc" data-i18n="m5d">Risiken • Scams • Schutzregeln.</span></li>
                <li><span class="tick" id="t6">□</span> <span class="mname" data-i18n="m6t">Modul 6 – Aufbewahrung & Dokumentation</span> <span class="mdesc" data-i18n="m6d">Dokumente • Notfall • sichere Ablage.</span></li>
                <li><span class="tick" id="t7">□</span> <span class="mname" data-i18n="m7t">Modul 7 – Abschlusscheck & Verantwortung</span> <span class="mdesc" data-i18n="m7d">Abschlusscheck • Verantwortung • nächste Schritte.</span></li>
              </ul>
            </div>

            <div class="signRow">
              <div class="lineBox">
                <p class="cap" data-i18n="signatureKey">Unterschrift</p>
                <div class="sigText" data-i18n="sigText">Finanzielle Souveränitäts Akademie</div>
                <div class="line"></div>
              </div>

              <div class="lineBox">
                <p class="cap" data-i18n="stampKey">Stempel</p>
                <div class="line"></div>
                <img class="stampImg" src="library/images/siegel.png" alt="BESTANDEN Siegel" />
              </div>
            </div>

            <div class="footerNote" data-i18n="footerNote">
              Hinweis: Dieses Zertifikat bestätigt die Teilnahme und die erfolgreiche Absolvierung aller Module am angegebenen Datum.
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    (function(){
      const $ = (id)=>document.getElementById(id);

      // i18n dictionary (DE/EN) - exact text via data-i18n keys
      const i18n = {
        de: {
          title: "Zertifikat – Weekend-Setup (Zertifikat & Krypto-Führerschein)",
          brand: "FSA – Zertifikat Generator",
          brandSub: "Weekend-Setup: Zertifikat & Krypto-Führerschein",
          toggleLang: "Sprache wechseln",
          reset: "Zurücksetzen",
          print: "Drucken / PDF",
          inputsTitle: "Eingaben",
          inputsHint: "Trage Name, Datum und bestätige alle 7 Module. Beim Drucken verschwinden die Eingabefelder automatisch.",
          firstNameLabel: "Vorname",
          lastNameLabel: "Nachname",
          dateLabel: "Teilnahmedatum",
          previewTitle: "Vorschau Zertifikat",
          certTitle: "ZERTIFIKAT",
          certSub: "Bestätigung der erfolgreichen Teilnahme am Weekend-Setup „Zertifikat & Krypto-Führerschein“ (Bestanden) inkl. Absolvierung aller 7 Module.",
          nameKey: "Name",
          dateKey: "Teilnahmedatum",
          modulesKey: "Erfolgreich absolvierte Module (7/7)",
          signatureKey: "Unterschrift",
          stampKey: "Stempel",
          sigText: "Finanzielle Souveränitäts Akademie",
          footerNote: "Hinweis: Dieses Zertifikat bestätigt die Teilnahme und die erfolgreiche Absolvierung aller Module am angegebenen Datum.",
          m1t:"Modul 1 – Wallet & Grundlagen", m1d:"Wallet erstellt • Grundbegriffe • Start-Check.",
          m2t:"Modul 2 – Kaufen & Transfer", m2d:"Kauf & Auszahlung • Test-Transfer • Gebühren.",
          m3t:"Modul 3 – Sicherheit & Seeds", m3d:"Seed-Regeln • Backup • Fehler vermeiden.",
          m4t:"Modul 4 – Hardware-Wallet Praxis", m4d:"Setup • Recovery • Alltag.",
          m5t:"Modul 5 – Risiko, Scams & Schutz", m5d:"Risiken • Scams • Schutzregeln.",
          m6t:"Modul 6 – Aufbewahrung & Dokumentation", m6d:"Dokumente • Notfall • sichere Ablage.",
          m7t:"Modul 7 – Abschlusscheck & Verantwortung", m7d:"Abschlusscheck • Verantwortung • nächste Schritte.",
          statusReady: "Bereit. Bitte Name, Datum und alle 7 Module bestätigen.",
          statusMissing: "Fehlt noch: {missing}",
          statusOk: "OK – Zertifikat ist vollständig. Du kannst jetzt drucken oder als PDF speichern."
        },
        en: {
          title: "Certificate – Weekend Setup (Certificate & Crypto Driver’s License)",
          brand: "FSA – Certificate Generator",
          brandSub: "Weekend setup: certificate & crypto driver’s license",
          toggleLang: "Switch language",
          reset: "Reset",
          print: "Print / PDF",
          inputsTitle: "Inputs",
          inputsHint: "Enter name and date and confirm all 7 modules. During printing, input fields are hidden automatically.",
          firstNameLabel: "First name",
          lastNameLabel: "Last name",
          dateLabel: "Participation date",
          previewTitle: "Certificate preview",
          certTitle: "CERTIFICATE",
          certSub: "Confirmation of successful participation in the weekend setup “Certificate & Crypto Driver’s License” (Passed) including completion of all 7 modules.",
          nameKey: "Name",
          dateKey: "Participation date",
          modulesKey: "Successfully completed modules (7/7)",
          signatureKey: "Signature",
          stampKey: "Stamp",
          sigText: "Financial Sovereignty Academy",
          footerNote: "Note: This certificate confirms participation and successful completion of all modules on the stated date.",
          m1t:"Module 1 – Wallet & basics", m1d:"Wallet created • key terms • start check.",
          m2t:"Module 2 – Buying & transfer", m2d:"Buy & withdraw • test transfer • fees.",
          m3t:"Module 3 – Security & seed phrases", m3d:"Seed rules • backup • avoid mistakes.",
          m4t:"Module 4 – Hardware wallet practice", m4d:"Setup • recovery • daily use.",
          m5t:"Module 5 – Risk, scams & protection", m5d:"Risks • scams • protection rules.",
          m6t:"Module 6 – Storage & documentation", m6d:"Docs • emergency • safe storage.",
          m7t:"Module 7 – Final check & responsibility", m7d:"Final check • responsibility • next steps.",
          statusReady: "Ready. Please fill name, date, and confirm all 7 modules.",
          statusMissing: "Missing: {missing}",
          statusOk: "OK – Certificate is complete. You can now print or save as PDF."
        }
      };

      let lang = "de";

      const elsI18n = Array.from(document.querySelectorAll("[data-i18n]"));

      function applyI18n(){
        const dict = i18n[lang] || i18n.de;
        elsI18n.forEach(el=>{
          const key = el.getAttribute("data-i18n");
          if(dict[key] != null) el.textContent = dict[key];
        });
        document.documentElement.lang = lang;
        $("langTag").textContent = lang.toUpperCase();
        document.title = dict.title || document.title;
        updateStatus();
      }

      function fmtDate(iso){
        if(!iso) return "—";
        // Keep stable, simple: YYYY-MM-DD -> DD.MM.YYYY for DE, YYYY-MM-DD for EN
        const parts = iso.split("-");
        if(parts.length !== 3) return iso;
        const y = parts[0], m = parts[1], d = parts[2];
        if(lang === "de") return `${d}.${m}.${y}`;
        return `${y}-${m}-${d}`;
      }

      function fullName(){
        const fn = $("firstName").value.trim();
        const ln = $("lastName").value.trim();
        const name = (fn + " " + ln).trim();
        return name || "—";
      }

      function setTick(n, checked){
        const el = $("t"+n);
        el.textContent = checked ? "✓" : "□";
      }

      function updatePreview(){
        $("pvName").textContent = fullName();
        $("pvDate").textContent = fmtDate($("date").value);

        setTick(1, $("m1").checked);
        setTick(2, $("m2").checked);
        setTick(3, $("m3").checked);
        setTick(4, $("m4").checked);
        setTick(5, $("m5").checked);
        setTick(6, $("m6").checked);
        setTick(7, $("m7").checked);

        updateStatus();
      }

      function updateStatus(){
        const dict = i18n[lang] || i18n.de;

        const missing = [];
        if(!$("firstName").value.trim()) missing.push(lang==="de" ? "Vorname" : "first name");
        if(!$("lastName").value.trim()) missing.push(lang==="de" ? "Nachname" : "last name");
        if(!$("date").value) missing.push(lang==="de" ? "Datum" : "date");

        const mods = [1,2,3,4,5,6,7].filter(n => !($("m"+n).checked));
        if(mods.length){
          missing.push((lang==="de" ? "Module" : "modules") + " " + mods.join(", "));
        }

        const st = $("status");
        if(missing.length === 0){
          st.className = "status ok";
          st.textContent = dict.statusOk;
        }else{
          st.className = "status err";
          st.textContent = dict.statusMissing.replace("{missing}", missing.join(" • "));
        }
      }

      function resetAll(){
        $("firstName").value = "";
        $("lastName").value = "";
        $("date").value = "";
        for(let i=1;i<=7;i++) $("m"+i).checked = false;
        updatePreview();
      }

      function canPrint(){
        return $("firstName").value.trim()
          && $("lastName").value.trim()
          && $("date").value
          && $("m1").checked && $("m2").checked && $("m3").checked
          && $("m4").checked && $("m5").checked && $("m6").checked && $("m7").checked;
      }

      // Events
      ["firstName","lastName","date","m1","m2","m3","m4","m5","m6","m7"].forEach(id=>{
        $(id).addEventListener("input", updatePreview);
        $(id).addEventListener("change", updatePreview);
      });

      $("btnReset").addEventListener("click", resetAll);

      $("btnLang").addEventListener("click", ()=>{
        lang = (lang === "de") ? "en" : "de";
        applyI18n();
      });

      $("btnPrint").addEventListener("click", ()=>{
        updatePreview();
        if(!canPrint()){
          // keep it strict: do not print incomplete certificate
          const dict = i18n[lang] || i18n.de;
          const st = $("status");
          st.className = "status err";
          st.textContent = dict.statusMissing.replace("{missing}", lang==="de"
            ? "Bitte Name, Datum und alle 7 Module bestätigen."
            : "Please confirm name, date, and all 7 modules.");
          return;
        }
        window.print();
      });

      // Init
      applyI18n();
      updatePreview();
    })();
  </script>
</body>
</html>
