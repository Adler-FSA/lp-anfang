<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>FSA Akademie – Grundkurs Basis</title>
<style>
  :root{
    --bg:#0b0f14;--panel:#111826;--ink:#e5e7eb;--muted:#9aa3b8;
    --gold:#d4af37;--gold2:#f1d37a;--blue:#60a5fa;--ok:#10b981;--bad:#ef4444;
  }
  html,body{margin:0;height:100%;background:radial-gradient(1200px 600px at 50% 0%, #151a22 0%, #0b0f14 55%, #080b10 100%);color:var(--ink);font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
  a{color:#93c5fd;text-decoration:none}
  /* Topbar */
  .top{position:sticky;top:0;z-index:50;background:rgba(9,13,18,.75);backdrop-filter:blur(8px);border-bottom:1px solid rgba(241,211,122,.15)}
  .topin{max-width:1200px;margin:auto;display:flex;align-items:center;justify-content:space-between;padding:10px 14px}
  .brand{display:flex;gap:10px;align-items:center;font-weight:800;letter-spacing:.2px}
  .badge{padding:3px 8px;border-radius:999px;border:1px solid rgba(241,211,122,.35);color:var(--gold2);font-size:.8rem}
  .controls{display:flex;gap:8px;align-items:center}
  .btn{border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.06);color:var(--ink);padding:8px 12px;border-radius:10px;cursor:pointer}
  .btn:hover{background:rgba(255,255,255,.12)}
  .btn.gold{border-color:rgba(241,211,122,.45);background:linear-gradient(180deg,#ffe69a,#f1c34f);color:#1b1200}
  /* Hauptcontainer */
  .wrap{max-width:1100px;margin:28px auto;padding:0 14px}
  .hero{margin:10px 0 18px}
  .hero h1{margin:0 0 6px;font-size:clamp(22px,3.2vw,34px);color:var(--gold)}
  .hero p{margin:6px 0 0;color:var(--muted)}
  /* Quiz-Card */
  .card{background:linear-gradient(180deg,#121a24,#0f151d);border:1px solid rgba(241,211,122,.18);border-radius:16px;box-shadow:0 28px 90px rgba(212,175,55,.12),inset 0 0 60px rgba(255,215,120,.03);padding:18px 18px}
  .status{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
  .bar{flex:1;height:10px;background:#0c1118;border-radius:999px;overflow:hidden;border:1px solid rgba(255,255,255,.08)}
  .fill{height:100%;width:0;background:linear-gradient(90deg,#ffe69a,#f1c34f);box-shadow:0 0 20px rgba(241,195,79,.45)}
  .count{min-width:120px;text-align:right;color:var(--muted);font-size:.95rem}
  .q{margin:10px 0 8px;font-size:1.15rem}
  .ops{display:grid;gap:10px;margin:10px 0 6px}
  .op{display:flex;gap:10px;align-items:flex-start;background:#0c1118;border:1px solid rgba(255,255,255,.08);padding:12px;border-radius:12px;cursor:pointer}
  .op input{margin-top:2px}
  .nav{display:flex;gap:10px;justify-content:flex-end;margin-top:10px}
  .hidden{display:none}
  /* Auswertung */
  #result{margin-top:20px;display:none;opacity:0;transition:opacity .6s ease}
  #result.show{display:block;opacity:1}
  .resCard{background:linear-gradient(180deg,#0f151d,#0b1017);border:1px solid rgba(241,211,122,.18);border-radius:16px;padding:16px 18px}
  .score{font-size:1.2rem;margin:0 0 8px}
  .grade{font-weight:800}
  .wrong{margin:14px 0 0;display:grid;gap:12px}
  .wrong .item{background:#0c1118;border:1px solid rgba(255,255,255,.08);padding:12px;border-radius:12px}
  .hint{color:var(--muted);margin:6px 0 0}
  .topics{margin:6px 0 0;color:#9cd1ff}
  /* Footer-Nav (Weiter zum nächsten Kurs) */
  .next{margin:24px 0;text-align:center}
  .next .btn{padding:12px 16px}
  /* Inline-SVG Icon Stil */
  .ico{width:20px;height:20px;vertical-align:-3px}
</style>
</head>
<body>
  <!-- Topbar -->
  <div class="top">
    <div class="topin">
      <div class="brand">
        <!-- Inline-Adler-SVG (schlicht) -->
        <svg class="ico" viewBox="0 0 24 24" aria-hidden="true"><path fill="#f1d37a" d="M3 12l6-6h6l6 6-6 6H9z"/></svg>
        <span>FSA&nbsp;Akademie</span>
        <span class="badge">Grundkurs – Basis</span>
      </div>
      <div class="controls">
        <button id="langBtn" class="btn" aria-label="Sprache umschalten">DE / EN</button>
        <button id="musicBtn" class="btn" aria-pressed="false" aria-label="Musik umschalten">♪ Musik</button>
      </div>
    </div>
  </div>

  <div class="wrap">
    <!-- Begrüßung -->
    <div class="hero">
      <h1 id="hello">Hallo, Lernender.</h1>
      <p id="introLine">Starte deinen ersten Grundkurs und lerne die Basis echter finanzieller Souveränität kennen.</p>
      <p style="margin-top:6px;color:var(--muted)">Diese vier Kurse bilden dein Fundament – klar, praxisnah, ohne Schnörkel.</p>
    </div>

    <!-- QUIZ -->
    <section class="card" id="quizCard" aria-label="Grundkurs Basis – Fragen">
      <div class="status">
        <div class="bar" aria-hidden="true"><div class="fill" id="barFill"></div></div>
        <div class="count"><span id="stepLabel">Frage</span> <b id="pos">1</b> <span id="of">von</span> <b>10</b></div>
      </div>

      <h2 class="q" id="qText">…</h2>
      <div class="ops" id="ops"></div>

      <div class="nav">
        <button class="btn" id="prevBtn">← <span id="prevTxt">Zurück</span></button>
        <button class="btn gold" id="nextBtn"><span id="nextTxt">Weiter</span> →</button>
      </div>
    </section>

    <!-- AUSWERTUNG (klappt unten auf, gleiche Seite) -->
    <section id="result">
      <div class="resCard">
        <p class="score" id="scoreLine">Ergebnis: –</p>
        <p id="qualLine">Qualifikation: –</p>
        <div class="wrong" id="wrongList"></div>
        <div class="next">
          <p id="nextDesc" style="margin-bottom:10px;color:var(--muted)"></p>
          <a href="grundkurs-sicherheit.html" class="btn">Weiter zu Grundkurs – Sicherheit</a>
        </div>
      </div>
    </section>
  </div>

  <!-- Musik -->
  <audio id="bgm" src="library/music/pool/track-02.mp3" preload="auto" loop></audio>

<script>
/* ---------- i18n Texte ---------- */
const i18n = {
  de: {
    hello: (name)=> `Hallo, ${name || 'Lernender'}.`,
    introLine: "Starte deinen ersten Grundkurs und lerne die Basis echter finanzieller Souveränität kennen.",
    step: "Frage", of:"von", back:"Zurück", next:"Weiter",
    result: (ok,total)=> `Ergebnis: ${ok} / ${total} richtig`,
    tier: (ok)=> ok>=7 ? (ok>=9? "Stufe: Gold – stark." : "Stufe: Silber – sehr gut.") : (ok>=6? "Stufe: Bronze – bestanden." : "Keine Qualifikation – bitte wiederholen."),
    nextDesc: "Im nächsten Grundkurs vertiefst du Sicherheit: Seeds, Passphrase, praktische Fallen und souveräner Umgang.",
    mentorWrong: "Warum war das falsch?",
    mentorRight: "Warum ist das richtig?",
    topicsLead: "Vertiefen: ",
    topics: [
      "Wallet vs. IBAN (On-/Off-Ramp verstehen)",
      "Seed Phrase – Bedeutung & Sicherung",
      "Dezentralität & Eigenverantwortung",
      "Risiko, Geduld, Disziplin"
    ],
    questions: [
      {
        q:"Warum ist der erste Schritt zur finanziellen Souveränität das eigene Verständnis über Geldflüsse?",
        ops:[
          "Weil nur wer versteht, wie Geld entsteht und zirkuliert, bewusste Entscheidungen treffen kann.",
          "Weil Geld immer durch Banken kontrolliert wird und man sich dem nicht entziehen kann.",
          "Weil finanzielle Souveränität nur von staatlicher Regulierung abhängt."
        ],
        a:0,
        hint:"Ohne Verständnis wird jede Entscheidung geraten. Wissen schafft Wahlmöglichkeiten."
      },
      {
        q:"Was unterscheidet ein klassisches Bankkonto von einer Krypto-Wallet?",
        ops:[
          "Beide speichern nur die Transaktionen, nicht das Geld selbst.",
          "Ein Bankkonto gehört einer Bank, eine Wallet gehört ausschließlich dir selbst.",
          "Beide Systeme werden von denselben Institutionen überwacht."
        ],
        a:1,
        hint:"Besitz liegt bei den Schlüsseln – nicht bei der Bank."
      },
      {
        q:"Warum ist die Seed Phrase der wichtigste Teil einer Wallet?",
        ops:[
          "Sie ersetzt die PIN deiner Bankkarte.",
          "Sie ist der Nachweis, dass du Kunde einer Börse bist.",
          "Sie ist der einzige Zugang zu deinem Vermögen – ohne Seed kein Zugriff."
        ],
        a:2,
        hint:"Ohne Seed keine Wiederherstellung. Punkt."
      },
      {
        q:"Was bedeutet „finanzielle Eigenverantwortung“ im Krypto-Kontext wirklich?",
        ops:[
          "Dass man bereit ist, für seine Entscheidungen und Fehler selbst einzustehen.",
          "Dass man anderen Vertrauenspersonen die Verwahrung überlässt.",
          "Dass man möglichst viele Konten bei verschiedenen Börsen eröffnet."
        ],
        a:0,
        hint:"Freiheit und Verantwortung sind Zwillinge."
      },
      {
        q:"Warum sollte man Plattformen wie Trustyfy verstehen, bevor man Geld einzahlt?",
        ops:[
          "Weil sie das beste Zinsmodell bieten.",
          "Weil Verständnis über Funktion und Risiko vor Verlust schützt.",
          "Weil sonst Transaktionen automatisch abgelehnt werden."
        ],
        a:1,
        hint:"Verstehen senkt Stress – und schützt Kapital."
      },
      {
        q:"Welche Aussage beschreibt „Dezentralität“ am besten?",
        ops:[
          "Ein System, das von einer zentralen Behörde gesteuert wird.",
          "Ein System, bei dem jeder Teilnehmer gleiche Rechte und Zugriffe hat.",
          "Ein System, das keine Technologie, sondern eine Bankstruktur nutzt."
        ],
        a:1,
        hint:"Gleiches Regelwerk, kein Gatekeeper."
      },
      {
        q:"Warum ist „Nicht deine Schlüssel – nicht deine Coins“ mehr als nur ein Spruch?",
        ops:[
          "Weil du ohne eigene Schlüssel nicht wirklich der Besitzer deiner Krypto-Werte bist.",
          "Weil die Schlüssel automatisch bei der Börse gespeichert werden.",
          "Weil Coins immer durch staatliche Versicherung geschützt sind."
        ],
        a:0,
        hint:"Besitz = Kontrolle über den privaten Schlüssel."
      },
      {
        q:"Welche Haltung führt am ehesten zu langfristigem finanziellen Erfolg?",
        ops:[
          "Schnelles Handeln, ohne sich vorher zu informieren.",
          "Geduld, Disziplin und die Bereitschaft, ständig weiter zu lernen.",
          "Blindes Vertrauen in die Erfahrungen anderer."
        ],
        a:1,
        hint:"Langfristigkeit schlägt Hektik."
      },
      {
        q:"Warum braucht finanzielle Souveränität ein Verständnis für Risiko?",
        ops:[
          "Weil Risiko nur bei Banken existiert.",
          "Weil du ohne Risikobewusstsein nicht frei, sondern abhängig entscheidest.",
          "Weil Risiken sich automatisch ausgleichen, wenn man Geduld hat."
        ],
        a:1,
        hint:"Risiko sehen ≠ Risiko meiden; es heißt: bewusst handeln."
      },
      {
        q:"Was zeigt, dass jemand finanziell souverän geworden ist?",
        ops:[
          "Er kann sich schnell Geld leihen, wenn er es braucht.",
          "Er nutzt sein Wissen bewusst, um unabhängig von Systemen zu handeln.",
          "Er vertraut darauf, dass andere für ihn die richtige Entscheidung treffen."
        ],
        a:1,
        hint:"Souveränität = selbstbestimmtes, informiertes Handeln."
      }
    ]
  },
  en: {
    hello: (name)=> `Hello, ${name || 'learner'}.`,
    introLine: "Start your first course and learn the foundations of real financial sovereignty.",
    step:"Question", of:"of", back:"Back", next:"Next",
    result:(ok,t)=>`Result: ${ok} / ${t} correct`,
    tier:(ok)=> ok>=7 ? (ok>=9? "Tier: Gold – strong." : "Tier: Silver – very good.") : (ok>=6? "Tier: Bronze – passed." : "No qualification – please repeat."),
    nextDesc:"Next course focuses on Security: seeds, passphrase, pitfalls and confident handling.",
    mentorWrong:"Why was that wrong?",
    mentorRight:"Why is that correct?",
    topicsLead:"Deepen: ",
    topics:[
      "Wallet vs. IBAN (understanding On/Off-ramp)",
      "Seed phrase – meaning & safety",
      "Decentralization & ownership",
      "Risk, patience, discipline"
    ],
    /* English translations of the same questions */
    questions: [
      { q:"Why is understanding money flows the first step toward financial sovereignty?",
        ops:[
          "Because only those who understand creation and circulation of money can decide consciously.",
          "Because banks always control money and you can’t escape that.",
          "Because sovereignty only depends on regulation."
        ], a:0, hint:"Without understanding, choices are guesses." },
      { q:"What distinguishes a bank account from a crypto wallet?",
        ops:[
          "Both only store transactions, not the money itself.",
          "A bank account belongs to a bank; a wallet belongs solely to you.",
          "Both are supervised by the same institutions."
        ], a:1, hint:"Ownership resides with keys, not banks." },
      { q:"Why is the seed phrase the most important part of a wallet?",
        ops:[
          "It replaces your card PIN.",
          "It proves you’re a customer of an exchange.",
          "It is the only way to access funds — no seed, no access."
        ], a:2, hint:"No seed, no recovery." },
      { q:"What does financial self-responsibility really mean in crypto?",
        ops:[
          "Owning your choices and mistakes.",
          "Letting trusted others custody your assets.",
          "Opening many accounts across exchanges."
        ], a:0, hint:"Freedom and responsibility are twins." },
      { q:"Why understand platforms like Trustyfy before depositing?",
        ops:[
          "Because they offer the best yields.",
          "Because understanding function and risk prevents loss.",
          "Because otherwise transactions get auto-rejected."
        ], a:1, hint:"Understanding protects capital." },
      { q:"Which statement best describes decentralization?",
        ops:[
          "A system steered by one central authority.",
          "A system where participants have equal rights and access.",
          "A system based on traditional banking."
        ], a:1, hint:"No gatekeeper, shared rules." },
      { q:"Why is “Not your keys, not your coins” more than a slogan?",
        ops:[
          "Without private keys you don’t truly own your assets.",
          "Keys are stored at the exchange anyway.",
          "Coins are protected by state insurance."
        ], a:0, hint:"Ownership = control over the private key." },
      { q:"Which mindset leads to long-term success?",
        ops:[
          "Act fast without learning.",
          "Patience, discipline, continuous learning.",
          "Blindly trust others’ experience."
        ], a:1, hint:"Long-term beats haste." },
      { q:"Why does sovereignty require risk understanding?",
        ops:[
          "Because risk exists only with banks.",
          "Because without it you decide dependently, not freely.",
          "Because time automatically cancels all risk."
        ], a:1, hint:"See risk to act deliberately." },
      { q:"What shows someone became financially sovereign?",
        ops:[
          "They can borrow quickly when needed.",
          "They act independently using their knowledge.",
          "They rely on others to decide."
        ], a:1, hint:"Sovereignty = self-directed action." }
    ]
  }
};

/* ---------- Zustände ---------- */
let lang = 'de';
let idx = 0;
const total = 10;
const answers = new Array(total).fill(null);     // gewählte Indexe (0..2)
const orders  = new Array(total).fill(null);     // gemischte Reihenfolge pro Frage
const helloEl = document.getElementById('hello');
const introEl = document.getElementById('introLine');
const qText = document.getElementById('qText');
const opsWrap = document.getElementById('ops');
const posEl = document.getElementById('pos');
const barFill = document.getElementById('barFill');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const prevTxt = document.getElementById('prevTxt');
const nextTxt = document.getElementById('nextTxt');
const stepLabel = document.getElementById('stepLabel');
const ofLabel = document.getElementById('of');
const resultSec = document.getElementById('result');
const scoreLine = document.getElementById('scoreLine');
const qualLine = document.getElementById('qualLine');
const wrongList = document.getElementById('wrongList');
const nextDesc = document.getElementById('nextDesc');

/* Musik */
const bgm = document.getElementById('bgm');
const musicBtn = document.getElementById('musicBtn');
musicBtn.addEventListener('click', ()=>{
  if(bgm.paused){ bgm.play().catch(()=>{}); musicBtn.setAttribute('aria-pressed','true'); }
  else { bgm.pause(); musicBtn.setAttribute('aria-pressed','false'); }
});

/* Name aus Tor (falls gesetzt) */
const storedName = (localStorage.getItem('fsa_name')||'').trim();
helloEl.textContent = i18n[lang].hello(storedName);

/* Sprache */
function applyLang(){
  const t = i18n[lang];
  document.documentElement.lang = lang;
  helloEl.textContent = t.hello(storedName);
  introEl.textContent = t.introLine;
  stepLabel.textContent = t.step;
  ofLabel.textContent = t.of;
  prevTxt.textContent = t.back;
  nextTxt.textContent = t.next;
  render();
}
document.getElementById('langBtn').addEventListener('click',()=>{ lang = (lang==='de'?'en':'de'); applyLang(); });

/* Utils */
function shuffle(arr){
  for(let i=arr.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]];
  }
  return arr;
}

/* Reihenfolge pro Frage vorbereiten (verhindert Merkpositionen) */
for(let i=0;i<total;i++){
  orders[i] = shuffle([0,1,2]);
}

/* Render */
function render(){
  const t=i18n[lang], data=t.questions[idx];
  // Fortschritt
  posEl.textContent = (idx+1);
  barFill.style.width = ((idx)/total*100)+'%';
  // Frage
  qText.textContent = data.q;
  // Antworten (gemischt)
  opsWrap.innerHTML='';
  const ord = orders[idx];
  ord.forEach((origOptIndex,viewIdx)=>{
    const id=`q${idx}a${viewIdx}`;
    const label=document.createElement('label'); label.className='op';
    const radio=document.createElement('input'); radio.type='radio'; radio.name='q'; radio.value=viewIdx;
    if(answers[idx]===viewIdx) radio.checked=true;
    const span=document.createElement('span'); span.textContent = data.ops[origOptIndex];
    label.appendChild(radio); label.appendChild(span);
    label.addEventListener('click', (e)=>{ answers[idx]=viewIdx; });
    opsWrap.appendChild(label);
  });
  // Buttons
  prevBtn.disabled = (idx===0);
  nextBtn.textContent = (idx===total-1 ? (lang==='de'?'Abschließen':'Finish') : (lang==='de'?'Weiter →':'Next →'));
}

/* Navigation */
prevBtn.addEventListener('click', ()=>{ if(idx>0){ idx--; render(); }});
nextBtn.addEventListener('click', ()=>{
  if(answers[idx]==null){ // keine Auswahl
    // kleine visuelle Erinnerung
    opsWrap.style.boxShadow='0 0 0 2px rgba(239,68,68,.45)'; setTimeout(()=>opsWrap.style.boxShadow='none',500);
    return;
  }
  if(idx<total-1){ idx++; render(); return; }
  // Auswertung
  showResult();
});

function showResult(){
  // Score
  const t=i18n[lang]; const qs=t.questions;
  let ok=0; wrongList.innerHTML='';
  for(let i=0;i<total;i++){
    const ord=orders[i];
    const pickedViewIndex = answers[i];         // 0..2
    const pickedOrigIndex = ord[pickedViewIndex];
    const isRight = (pickedOrigIndex === qs[i].a);
    if(isRight){ ok++; }
    else{
      const box=document.createElement('div'); box.className='item';
      const q=document.createElement('div'); q.innerHTML = `<strong>${t.step} ${i+1}:</strong> ${qs[i].q}`;
      const why=document.createElement('div'); why.className='hint'; why.innerHTML = `🧭 <em>${t.mentorWrong}</em> – ${qs[i].hint}`;
      const topics=document.createElement('div'); topics.className='topics';
      topics.innerHTML = t.topicsLead + t.topics.join(' · ');
      box.appendChild(q); box.appendChild(why); box.appendChild(topics);
      wrongList.appendChild(box);
    }
  }
  // Kopf
  scoreLine.textContent = t.result(ok,total);
  qualLine.innerHTML = `<span class="grade">${t.tier(ok)}</span>`;
  nextDesc.textContent = t.nextDesc;

  // Fortschrittsbalken voll
  barFill.style.width='100%';

  // Einblenden der Auswertung
  resultSec.classList.add('show');
}

/* Start */
applyLang();
</script>
</body>
</html>
