<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Campus – Halbkreis Final</title>
  <style>
    :root{
      --glow: 0 0 20px rgba(212,175,55,.55), 0 0 40px rgba(212,175,55,.25);
      --door-w: 5cm;
      --door-h: 7cm;
    }
    html,body{
      height:100%;
      margin:0;
      background:#000;
      font-family:Inter,system-ui,sans-serif;
      color:#fff;
      overflow:hidden;
    }

    /* === Slideshow Hintergrund (Ebene 1) === */
    #slideshow{
      position:fixed;
      inset:0;
      z-index:0;
      overflow:hidden;
    }
    .layer{
      position:absolute;
      inset:0;
      background-size:cover;
      background-position:center;
      opacity:0;
      transition:opacity 2s ease-in-out;
      filter:brightness(.85);
      transform: scale(1);
      animation: zoomBg 20s linear infinite alternate;
    }
    @keyframes zoomBg{
      from{transform:scale(1);}
      to{transform:scale(1.1);}
    }

    /* === Türen Container (Ebene 2) === */
    main{
      display:flex;
      justify-content:center;
      align-items:flex-end;
      gap:3rem;
      height:100vh;
      position:relative;
      z-index:2;
    }
    .door{
      width:var(--door-w);
      height:var(--door-h);
      background:rgba(0,0,0,.55);
      border:1px solid rgba(212,175,55,.6);
      box-shadow:var(--glow);
      backdrop-filter:blur(6px);
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      text-align:center;
      cursor:pointer;
      opacity:0;
      transform:scale(.8);
      transition:transform 1.5s ease,opacity 1.5s ease;
    }
    .door i{
      font-size:2rem;
      margin-bottom:.5rem;
    }
    .door span{
      font-size:1rem;
      font-weight:600;
    }

    /* Einflugrichtungen */
    .door:nth-child(1){
      animation: doorInTL 1.8s ease forwards;
    }
    .door:nth-child(2){
      animation: doorInBL 2s ease forwards;
    }
    .door:nth-child(3){
      animation: doorInBR 2.2s ease forwards;
    }
    .door:nth-child(4){
      animation: doorInTR 2.4s ease forwards;
    }

    /* Endpositionen */
    .door.left-tilt  { transform: translateY(30px) rotateY(-25deg) scale(1); }
    .door.right-tilt { transform: translateY(30px) rotateY(25deg) scale(1); }

    @keyframes doorInTL {
      0% {transform:translate(-300px,-300px) rotateY(-40deg) scale(.8);opacity:0;}
      100% {transform:translateY(30px) rotateY(-25deg) scale(1);opacity:1;}
    }
    @keyframes doorInTR {
      0% {transform:translate(300px,-300px) rotateY(40deg) scale(.8);opacity:0;}
      100% {transform:translateY(30px) rotateY(25deg) scale(1);opacity:1;}
    }
    @keyframes doorInBL {
      0% {transform:translate(-300px,300px) rotateY(-20deg) scale(.8);opacity:0;}
      100% {transform:translateY(0) rotateY(0deg) scale(1);opacity:1;}
    }
    @keyframes doorInBR {
      0% {transform:translate(300px,300px) rotateY(20deg) scale(.8);opacity:0;}
      100% {transform:translateY(0) rotateY(0deg) scale(1);opacity:1;}
    }

    /* Musikbutton */
    #musicBtn{
      position:fixed;
      bottom:20px;
      right:20px;
      z-index:10;
      padding:10px 16px;
      border-radius:999px;
      background:rgba(0,0,0,.55);
      color:#fff;
      border:1px solid rgba(212,175,55,.25);
      box-shadow:0 0 26px rgba(212,175,55,.45),0 10px 28px rgba(0,0,0,.55);
      backdrop-filter:blur(6px);
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

<!-- Slideshow -->
<div id="slideshow"></div>

<!-- Türen -->
<main>
  <div class="door left-tilt">
    <i class="fa-solid fa-bullhorn"></i>
    <span>Social Media</span>
  </div>
  <div class="door">
    <i class="fa-solid fa-people-group"></i>
    <span>Community</span>
  </div>
  <div class="door">
    <i class="fa-solid fa-compass"></i>
    <span>Mentorenzone</span>
  </div>
  <div class="door right-tilt">
    <i class="fa-solid fa-coins"></i>
    <span>Souveränität</span>
  </div>
</main>

<!-- Musik -->
<audio id="bgMusic" loop src="library/music/pool/track-01.mp3"></audio>
<button id="musicBtn">🎵 Musik starten</button>

<script>
/* === Slideshow === */
(function(){
  const path = 'library/images/pool-live/';
  const count = 48;
  const interval = 8000;
  const fadeTime = 2000;

  const container = document.getElementById('slideshow');
  const layers = [];
  let active = 0;
  let index = 0;

  for (let i = 0; i < 2; i++) {
    const layer = document.createElement('div');
    layer.classList.add('layer');
    layer.style.opacity = i === 0 ? '1' : '0';
    container.appendChild(layer);
    layers.push(layer);
  }

  function imgName(n){
    return `${path}slide-${String(n).padStart(2,'0')}.jpg`;
  }

  for (let i = 1; i <= count; i++){
    const img = new Image();
    img.src = imgName(i);
  }

  function next(){
    index = (index + 1) % count;
    const nextLayer = 1 - active;
    layers[nextLayer].style.backgroundImage = `url(${imgName(index+1)})`;
    layers[nextLayer].style.opacity = '1';
    layers[active].style.opacity = '0';
    active = nextLayer;
  }

  layers[0].style.backgroundImage = `url(${imgName(1)})`;
  setInterval(next, interval);
})();

/* === Musik === */
const music = document.getElementById('bgMusic');
const musicBtn = document.getElementById('musicBtn');
let playing = false;

async function startMusic(){
  try{
    await music.play();
    playing = true;
    musicBtn.textContent = "⏸ Musik stoppen";
  }catch(e){}
}

musicBtn.addEventListener('click', async ()=>{
  if(!playing){ await startMusic(); }
  else{ music.pause(); playing=false; musicBtn.textContent="🎵 Musik starten"; }
});

window.addEventListener('pointerdown', function once(){
  if(!playing) startMusic();
  window.removeEventListener('pointerdown', once);
},{once:true});
</script>
</body>
</html>
